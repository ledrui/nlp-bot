{"version":3,"file":"msRest.node.js","sources":["../es/lib/httpHeaders.js","../es/lib/util/base64.js","../es/lib/util/constants.js","../es/lib/util/utils.js","../es/lib/serializer.js","../es/lib/webResource.js","../es/lib/restError.js","../es/lib/axiosHttpClient.js","../es/lib/defaultHttpClient.js","../es/lib/httpPipelineLogLevel.js","../es/lib/operationParameter.js","../es/lib/operationSpec.js","../es/lib/util/xml.js","../es/lib/policies/requestPolicy.js","../es/lib/policies/deserializationPolicy.js","../es/lib/policies/exponentialRetryPolicy.js","../es/lib/policies/generateClientRequestIdPolicy.js","../es/lib/policies/msRestUserAgentPolicy.js","../es/lib/url.js","../es/lib/policies/redirectPolicy.js","../es/lib/policies/rpRegistrationPolicy.js","../es/lib/policies/signingPolicy.js","../es/lib/policies/systemErrorRetryPolicy.js","../es/lib/queryCollectionFormat.js","../es/lib/serviceClient.js","../es/lib/policies/logPolicy.js","../es/lib/credentials/tokenCredentials.js","../es/lib/credentials/basicAuthenticationCredentials.js","../es/lib/credentials/apiKeyCredentials.js","../es/lib/credentials/topicCredentials.js","../es/lib/msRest.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n/**\n * A collection of HttpHeaders that can be sent with a HTTP request.\n */\nfunction getHeaderKey(headerName) {\n    return headerName.toLowerCase();\n}\n/**\n * A collection of HTTP header key/value pairs.\n */\nvar HttpHeaders = /** @class */ (function () {\n    function HttpHeaders(rawHeaders) {\n        this._headersMap = {};\n        if (rawHeaders) {\n            for (var headerName in rawHeaders) {\n                this.set(headerName, rawHeaders[headerName]);\n            }\n        }\n    }\n    /**\n     * Set a header in this collection with the provided name and value. The name is\n     * case-insensitive.\n     * @param headerName The name of the header to set. This value is case-insensitive.\n     * @param headerValue The value of the header to set.\n     */\n    HttpHeaders.prototype.set = function (headerName, headerValue) {\n        this._headersMap[getHeaderKey(headerName)] = { name: headerName, value: headerValue.toString() };\n    };\n    /**\n     * Get the header value for the provided header name, or undefined if no header exists in this\n     * collection with the provided name.\n     * @param headerName The name of the header.\n     */\n    HttpHeaders.prototype.get = function (headerName) {\n        var header = this._headersMap[getHeaderKey(headerName)];\n        return !header ? undefined : header.value;\n    };\n    /**\n     * Get whether or not this header collection contains a header entry for the provided header name.\n     */\n    HttpHeaders.prototype.contains = function (headerName) {\n        return !!this._headersMap[getHeaderKey(headerName)];\n    };\n    /**\n     * Remove the header with the provided headerName. Return whether or not the header existed and\n     * was removed.\n     * @param headerName The name of the header to remove.\n     */\n    HttpHeaders.prototype.remove = function (headerName) {\n        var result = this.contains(headerName);\n        delete this._headersMap[getHeaderKey(headerName)];\n        return result;\n    };\n    /**\n     * Get the headers that are contained this collection as an object.\n     */\n    HttpHeaders.prototype.rawHeaders = function () {\n        var result = {};\n        for (var headerKey in this._headersMap) {\n            var header = this._headersMap[headerKey];\n            result[header.name.toLowerCase()] = header.value;\n        }\n        return result;\n    };\n    /**\n     * Get the headers that are contained in this collection as an array.\n     */\n    HttpHeaders.prototype.headersArray = function () {\n        var headers = [];\n        for (var headerKey in this._headersMap) {\n            headers.push(this._headersMap[headerKey]);\n        }\n        return headers;\n    };\n    /**\n     * Get the header names that are contained in this collection.\n     */\n    HttpHeaders.prototype.headerNames = function () {\n        var headerNames = [];\n        var headers = this.headersArray();\n        for (var i = 0; i < headers.length; ++i) {\n            headerNames.push(headers[i].name);\n        }\n        return headerNames;\n    };\n    /**\n     * Get the header names that are contained in this collection.\n     */\n    HttpHeaders.prototype.headerValues = function () {\n        var headerValues = [];\n        var headers = this.headersArray();\n        for (var i = 0; i < headers.length; ++i) {\n            headerValues.push(headers[i].value);\n        }\n        return headerValues;\n    };\n    /**\n     * Get the JSON object representation of this HTTP header collection.\n     */\n    HttpHeaders.prototype.toJson = function () {\n        return this.rawHeaders();\n    };\n    /**\n     * Get the string representation of this HTTP header collection.\n     */\n    HttpHeaders.prototype.toString = function () {\n        return JSON.stringify(this.toJson());\n    };\n    /**\n     * Create a deep clone/copy of this HttpHeaders collection.\n     */\n    HttpHeaders.prototype.clone = function () {\n        return new HttpHeaders(this.rawHeaders());\n    };\n    return HttpHeaders;\n}());\nexport { HttpHeaders };\n//# sourceMappingURL=httpHeaders.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n/**\n * Encodes a string in base64 format.\n * @param value the string to encode\n */\nexport function encodeString(value) {\n    return Buffer.from(value).toString(\"base64\");\n}\n/**\n * Encodes a byte array in base64 format.\n * @param value the Uint8Aray to encode\n */\nexport function encodeByteArray(value) {\n    // Buffer.from accepts <ArrayBuffer> | <SharedArrayBuffer>-- the TypeScript definition is off here\n    // https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length\n    var bufferValue = (value instanceof Buffer) ? value : Buffer.from(value.buffer);\n    return bufferValue.toString(\"base64\");\n}\n/**\n * Decodes a base64 string into a byte array.\n * @param value the base64 string to decode\n */\nexport function decodeString(value) {\n    return Buffer.from(value, \"base64\");\n}\n//# sourceMappingURL=base64.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nexport var Constants = {\n    /**\n     * The ms-rest version\n     * @const\n     * @type {string}\n     */\n    msRestVersion: \"0.1.0\",\n    /**\n     * Specifies HTTP.\n     *\n     * @const\n     * @type {string}\n     */\n    HTTP: \"http:\",\n    /**\n     * Specifies HTTPS.\n     *\n     * @const\n     * @type {string}\n     */\n    HTTPS: \"https:\",\n    /**\n     * Specifies HTTP Proxy.\n     *\n     * @const\n     * @type {string}\n     */\n    HTTP_PROXY: \"HTTP_PROXY\",\n    /**\n     * Specifies HTTPS Proxy.\n     *\n     * @const\n     * @type {string}\n     */\n    HTTPS_PROXY: \"HTTPS_PROXY\",\n    HttpConstants: {\n        /**\n         * Http Verbs\n         *\n         * @const\n         * @enum {string}\n         */\n        HttpVerbs: {\n            PUT: \"PUT\",\n            GET: \"GET\",\n            DELETE: \"DELETE\",\n            POST: \"POST\",\n            MERGE: \"MERGE\",\n            HEAD: \"HEAD\",\n            PATCH: \"PATCH\"\n        },\n    },\n    /**\n     * Defines constants for use with HTTP headers.\n     */\n    HeaderConstants: {\n        /**\n         * The Authorization header.\n         *\n         * @const\n         * @type {string}\n         */\n        AUTHORIZATION: \"authorization\",\n        AUTHORIZATION_SCHEME: \"Bearer\",\n        /**\n         * The UserAgent header.\n         *\n         * @const\n         * @type {string}\n         */\n        USER_AGENT: \"User-Agent\"\n    }\n};\n//# sourceMappingURL=constants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport uuidv4 from \"uuid/v4\";\nimport { Constants } from \"./constants\";\n/**\n * A constant that indicates whether the environment is node.js or browser based.\n */\nexport var isNode = typeof navigator === \"undefined\" && typeof process !== \"undefined\";\n/**\n * Checks if a parsed URL is HTTPS\n *\n * @param {object} urlToCheck The url to check\n * @return {boolean} True if the URL is HTTPS; false otherwise.\n */\nexport function urlIsHTTPS(urlToCheck) {\n    return urlToCheck.protocol.toLowerCase() === Constants.HTTPS;\n}\n/**\n * Encodes an URI.\n *\n * @param {string} uri The URI to be encoded.\n * @return {string} The encoded URI.\n */\nexport function encodeUri(uri) {\n    return encodeURIComponent(uri)\n        .replace(/!/g, \"%21\")\n        .replace(/\"/g, \"%27\")\n        .replace(/\\(/g, \"%28\")\n        .replace(/\\)/g, \"%29\")\n        .replace(/\\*/g, \"%2A\");\n}\n/**\n * Returns a stripped version of the Http Response which only contains body,\n * headers and the status.\n *\n * @param {HttpOperationResponse} response The Http Response\n *\n * @return {object} The stripped version of Http Response.\n */\nexport function stripResponse(response) {\n    var strippedResponse = {};\n    strippedResponse.body = response.bodyAsText;\n    strippedResponse.headers = response.headers;\n    strippedResponse.status = response.status;\n    return strippedResponse;\n}\n/**\n * Returns a stripped version of the Http Request that does not contain the\n * Authorization header.\n *\n * @param {WebResource} request The Http Request object\n *\n * @return {WebResource} The stripped version of Http Request.\n */\nexport function stripRequest(request) {\n    var strippedRequest = request.clone();\n    if (strippedRequest.headers) {\n        strippedRequest.headers.remove(\"authorization\");\n    }\n    return strippedRequest;\n}\n/**\n * Validates the given uuid as a string\n *\n * @param {string} uuid The uuid as a string that needs to be validated\n *\n * @return {boolean} True if the uuid is valid; false otherwise.\n */\nexport function isValidUuid(uuid) {\n    var validUuidRegex = new RegExp(\"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$\", \"ig\");\n    return validUuidRegex.test(uuid);\n}\n/**\n * Provides an array of values of an object. For example\n * for a given object { \"a\": \"foo\", \"b\": \"bar\" }, the method returns [\"foo\", \"bar\"].\n *\n * @param {object} obj An object whose properties need to be enumerated so that it\"s values can be provided as an array\n *\n * @return {any[]} An array of values of the given object.\n */\nexport function objectValues(obj) {\n    var result = [];\n    if (obj && obj instanceof Object) {\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                result.push(obj[key]);\n            }\n        }\n    }\n    else {\n        throw new Error(\"The provided object \" + JSON.stringify(obj, undefined, 2) + \" is not a valid object that can be \" +\n            \"enumerated to provide its values as an array.\");\n    }\n    return result;\n}\n/**\n * Generated UUID\n *\n * @return {string} RFC4122 v4 UUID.\n */\nexport function generateUuid() {\n    return uuidv4();\n}\n/**\n * Executes an array of promises sequentially. Inspiration of this method is here:\n * https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html. An awesome blog on promises!\n *\n * @param {Array} promiseFactories An array of promise factories(A function that return a promise)\n *\n * @param {any} [kickstart] Input to the first promise that is used to kickstart the promise chain.\n * If not provided then the promise chain starts with undefined.\n *\n * @return A chain of resolved or rejected promises\n */\nexport function executePromisesSequentially(promiseFactories, kickstart) {\n    var result = Promise.resolve(kickstart);\n    promiseFactories.forEach(function (promiseFactory) {\n        result = result.then(promiseFactory);\n    });\n    return result;\n}\n/**\n * Merges source object into the target object\n * @param {object} source The object that needs to be merged\n *\n * @param {object} target The object to be merged into\n *\n * @returns {object} Returns the merged target object.\n */\nexport function mergeObjects(source, target) {\n    Object.keys(source).forEach(function (key) {\n        target[key] = source[key];\n    });\n    return target;\n}\n/**\n * A wrapper for setTimeout that resolves a promise after t milliseconds.\n * @param {number} t The number of milliseconds to be delayed.\n * @param {T} value The value to be resolved with after a timeout of t milliseconds.\n * @returns {Promise<T>} Resolved promise\n */\nexport function delay(t, value) {\n    return new Promise(function (resolve) { return setTimeout(function () { return resolve(value); }, t); });\n}\n/**\n * Converts a Promise to a callback.\n * @param {Promise<any>} promise The Promise to be converted to a callback\n * @returns {Function} A function that takes the callback (cb: Function): void\n * @deprecated generated code should instead depend on responseToBody\n */\nexport function promiseToCallback(promise) {\n    if (typeof promise.then !== \"function\") {\n        throw new Error(\"The provided input is not a Promise.\");\n    }\n    return function (cb) {\n        promise.then(function (data) {\n            cb(undefined, data);\n        }, function (err) {\n            cb(err);\n        });\n    };\n}\n/**\n * Converts a Promise to a service callback.\n * @param {Promise<HttpOperationResponse>} promise - The Promise of HttpOperationResponse to be converted to a service callback\n * @returns {Function} A function that takes the service callback (cb: ServiceCallback<T>): void\n */\nexport function promiseToServiceCallback(promise) {\n    if (typeof promise.then !== \"function\") {\n        throw new Error(\"The provided input is not a Promise.\");\n    }\n    return function (cb) {\n        promise.then(function (data) {\n            process.nextTick(cb, undefined, data.parsedBody, data.request, data);\n        }, function (err) {\n            process.nextTick(cb, err);\n        });\n    };\n}\nexport function prepareXMLRootList(obj, elementName) {\n    var _a;\n    if (!Array.isArray(obj)) {\n        obj = [obj];\n    }\n    return _a = {}, _a[elementName] = obj, _a;\n}\n/**\n * Applies the properties on the prototype of sourceCtors to the prototype of targetCtor\n * @param {object} targetCtor The target object on which the properties need to be applied.\n * @param {Array<object>} sourceCtors An array of source objects from which the properties need to be taken.\n */\nexport function applyMixins(targetCtor, sourceCtors) {\n    sourceCtors.forEach(function (sourceCtors) {\n        Object.getOwnPropertyNames(sourceCtors.prototype).forEach(function (name) {\n            targetCtor.prototype[name] = sourceCtors.prototype[name];\n        });\n    });\n}\nvar validateISODuration = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n/**\n * Indicates whether the given string is in ISO 8601 format.\n * @param {string} value The value to be validated for ISO 8601 duration format.\n * @return {boolean} `true` if valid, `false` otherwise.\n */\nexport function isDuration(value) {\n    return validateISODuration.test(value);\n}\n/**\n * Replace all of the instances of searchValue in value with the provided replaceValue.\n * @param {string | undefined} value The value to search and replace in.\n * @param {string} searchValue The value to search for in the value argument.\n * @param {string} replaceValue The value to replace searchValue with in the value argument.\n * @returns {string | undefined} The value where each instance of searchValue was replaced with replacedValue.\n */\nexport function replaceAll(value, searchValue, replaceValue) {\n    return !value || !searchValue ? value : value.split(searchValue).join(replaceValue || \"\");\n}\n//# sourceMappingURL=utils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as base64 from \"./util/base64\";\nimport * as utils from \"./util/utils\";\nvar Serializer = /** @class */ (function () {\n    function Serializer(modelMappers, isXML) {\n        if (modelMappers === void 0) { modelMappers = {}; }\n        this.modelMappers = modelMappers;\n        this.isXML = isXML;\n    }\n    Serializer.prototype.validateConstraints = function (mapper, value, objectName) {\n        var failValidation = function (constraintName, constraintValue) {\n            throw new Error(\"\\\"\" + objectName + \"\\\" with value \\\"\" + value + \"\\\" should satisfy the constraint \\\"\" + constraintName + \"\\\": \" + constraintValue + \".\");\n        };\n        if (mapper.constraints && (value != undefined)) {\n            var _a = mapper.constraints, ExclusiveMaximum = _a.ExclusiveMaximum, ExclusiveMinimum = _a.ExclusiveMinimum, InclusiveMaximum = _a.InclusiveMaximum, InclusiveMinimum = _a.InclusiveMinimum, MaxItems = _a.MaxItems, MaxLength = _a.MaxLength, MinItems = _a.MinItems, MinLength = _a.MinLength, MultipleOf = _a.MultipleOf, Pattern = _a.Pattern, UniqueItems = _a.UniqueItems;\n            if (ExclusiveMaximum != undefined && value >= ExclusiveMaximum) {\n                failValidation(\"ExclusiveMaximum\", ExclusiveMaximum);\n            }\n            if (ExclusiveMinimum != undefined && value <= ExclusiveMinimum) {\n                failValidation(\"ExclusiveMinimum\", ExclusiveMinimum);\n            }\n            if (InclusiveMaximum != undefined && value > InclusiveMaximum) {\n                failValidation(\"InclusiveMaximum\", InclusiveMaximum);\n            }\n            if (InclusiveMinimum != undefined && value < InclusiveMinimum) {\n                failValidation(\"InclusiveMinimum\", InclusiveMinimum);\n            }\n            if (MaxItems != undefined && value.length > MaxItems) {\n                failValidation(\"MaxItems\", MaxItems);\n            }\n            if (MaxLength != undefined && value.length > MaxLength) {\n                failValidation(\"MaxLength\", MaxLength);\n            }\n            if (MinItems != undefined && value.length < MinItems) {\n                failValidation(\"MinItems\", MinItems);\n            }\n            if (MinLength != undefined && value.length < MinLength) {\n                failValidation(\"MinLength\", MinLength);\n            }\n            if (MultipleOf != undefined && value % MultipleOf !== 0) {\n                failValidation(\"MultipleOf\", MultipleOf);\n            }\n            if (Pattern && value.match(Pattern) === null) {\n                failValidation(\"Pattern\", Pattern);\n            }\n            if (UniqueItems && value.some(function (item, i, ar) { return ar.indexOf(item) !== i; })) {\n                failValidation(\"UniqueItems\", UniqueItems);\n            }\n        }\n    };\n    /**\n     * Serialize the given object based on its metadata defined in the mapper\n     *\n     * @param {Mapper} mapper The mapper which defines the metadata of the serializable object\n     *\n     * @param {object|string|Array|number|boolean|Date|stream} object A valid Javascript object to be serialized\n     *\n     * @param {string} objectName Name of the serialized object\n     *\n     * @returns {object|string|Array|number|boolean|Date|stream} A valid serialized Javascript object\n     */\n    Serializer.prototype.serialize = function (mapper, object, objectName) {\n        var payload = {};\n        var mapperType = mapper.type.name;\n        if (!objectName) {\n            objectName = mapper.serializedName;\n        }\n        if (mapperType.match(/^Sequence$/ig) !== null) {\n            payload = [];\n        }\n        if (object == undefined && (mapper.defaultValue != undefined || mapper.isConstant)) {\n            object = mapper.defaultValue;\n        }\n        // This table of allowed values should help explain\n        // the mapper.required and mapper.nullable properties.\n        // X means \"neither undefined or null are allowed\".\n        //           || required\n        //           || true      | false\n        //  nullable || ==========================\n        //      true || null      | undefined/null\n        //     false || X         | undefined\n        // undefined || X         | undefined/null\n        var required = mapper.required, nullable = mapper.nullable;\n        if (required && nullable && object === undefined) {\n            throw new Error(objectName + \" cannot be undefined.\");\n        }\n        if (required && !nullable && object == undefined) {\n            throw new Error(objectName + \" cannot be null or undefined.\");\n        }\n        if (!required && nullable === false && object === null) {\n            throw new Error(objectName + \" cannot be null.\");\n        }\n        if (object == undefined) {\n            payload = object;\n        }\n        else {\n            // Validate Constraints if any\n            this.validateConstraints(mapper, object, objectName);\n            if (mapperType.match(/^any$/ig) !== null) {\n                payload = object;\n            }\n            else if (mapperType.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/ig) !== null) {\n                payload = serializeBasicTypes(mapperType, objectName, object);\n            }\n            else if (mapperType.match(/^Enum$/ig) !== null) {\n                var enumMapper = mapper;\n                payload = serializeEnumType(objectName, enumMapper.type.allowedValues, object);\n            }\n            else if (mapperType.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/ig) !== null) {\n                payload = serializeDateTypes(mapperType, object, objectName);\n            }\n            else if (mapperType.match(/^ByteArray$/ig) !== null) {\n                payload = serializeByteArrayType(objectName, object);\n            }\n            else if (mapperType.match(/^Base64Url$/ig) !== null) {\n                payload = serializeBase64UrlType(objectName, object);\n            }\n            else if (mapperType.match(/^Sequence$/ig) !== null) {\n                payload = serializeSequenceType(this, mapper, object, objectName);\n            }\n            else if (mapperType.match(/^Dictionary$/ig) !== null) {\n                payload = serializeDictionaryType(this, mapper, object, objectName);\n            }\n            else if (mapperType.match(/^Composite$/ig) !== null) {\n                payload = serializeCompositeType(this, mapper, object, objectName);\n            }\n        }\n        return payload;\n    };\n    /**\n     * Deserialize the given object based on its metadata defined in the mapper\n     *\n     * @param {object} mapper The mapper which defines the metadata of the serializable object\n     *\n     * @param {object|string|Array|number|boolean|Date|stream} responseBody A valid Javascript entity to be deserialized\n     *\n     * @param {string} objectName Name of the deserialized object\n     *\n     * @returns {object|string|Array|number|boolean|Date|stream} A valid deserialized Javascript object\n     */\n    Serializer.prototype.deserialize = function (mapper, responseBody, objectName) {\n        if (responseBody == undefined) {\n            if (this.isXML && mapper.type.name === \"Sequence\" && !mapper.xmlIsWrapped) {\n                // Edge case for empty XML non-wrapped lists. xml2js can't distinguish\n                // between the list being empty versus being missing,\n                // so let's do the more user-friendly thing and return an empty list.\n                responseBody = [];\n            }\n            return responseBody;\n        }\n        var payload;\n        var mapperType = mapper.type.name;\n        if (!objectName) {\n            objectName = mapper.serializedName;\n        }\n        if (mapperType.match(/^Composite$/ig) !== null) {\n            payload = deserializeCompositeType(this, mapper, responseBody, objectName);\n        }\n        else {\n            if (this.isXML) {\n                /**\n                 * If the mapper specifies this as a non-composite type value but the responseBody contains\n                 * both header (\"$\") and body (\"_\") properties, then just reduce the responseBody value to\n                 * the body (\"_\") property.\n                 */\n                if (responseBody[\"$\"] != undefined && responseBody[\"_\"] != undefined) {\n                    responseBody = responseBody[\"_\"];\n                }\n            }\n            if (mapperType.match(/^Number$/ig) !== null) {\n                payload = parseFloat(responseBody);\n                if (isNaN(payload)) {\n                    payload = responseBody;\n                }\n            }\n            else if (mapperType.match(/^Boolean$/ig) !== null) {\n                if (responseBody === \"true\") {\n                    payload = true;\n                }\n                else if (responseBody === \"false\") {\n                    payload = false;\n                }\n                else {\n                    payload = responseBody;\n                }\n            }\n            else if (mapperType.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/ig) !== null) {\n                payload = responseBody;\n            }\n            else if (mapperType.match(/^(Date|DateTime|DateTimeRfc1123)$/ig) !== null) {\n                payload = new Date(responseBody);\n            }\n            else if (mapperType.match(/^UnixTime$/ig) !== null) {\n                payload = unixTimeToDate(responseBody);\n            }\n            else if (mapperType.match(/^ByteArray$/ig) !== null) {\n                payload = base64.decodeString(responseBody);\n            }\n            else if (mapperType.match(/^Base64Url$/ig) !== null) {\n                payload = base64UrlToByteArray(responseBody);\n            }\n            else if (mapperType.match(/^Sequence$/ig) !== null) {\n                payload = deserializeSequenceType(this, mapper, responseBody, objectName);\n            }\n            else if (mapperType.match(/^Dictionary$/ig) !== null) {\n                payload = deserializeDictionaryType(this, mapper, responseBody, objectName);\n            }\n        }\n        if (mapper.isConstant) {\n            payload = mapper.defaultValue;\n        }\n        return payload;\n    };\n    return Serializer;\n}());\nexport { Serializer };\nfunction trimEnd(str, ch) {\n    var len = str.length;\n    while ((len - 1) >= 0 && str[len - 1] === ch) {\n        --len;\n    }\n    return str.substr(0, len);\n}\nfunction bufferToBase64Url(buffer) {\n    if (!buffer) {\n        return undefined;\n    }\n    if (!(buffer instanceof Uint8Array)) {\n        throw new Error(\"Please provide an input of type Uint8Array for converting to Base64Url.\");\n    }\n    // Uint8Array to Base64.\n    var str = base64.encodeByteArray(buffer);\n    // Base64 to Base64Url.\n    return trimEnd(str, \"=\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\nfunction base64UrlToByteArray(str) {\n    if (!str) {\n        return undefined;\n    }\n    if (str && typeof str.valueOf() !== \"string\") {\n        throw new Error(\"Please provide an input of type string for converting to Uint8Array\");\n    }\n    // Base64Url to Base64.\n    str = str.replace(/\\-/g, \"+\").replace(/\\_/g, \"/\");\n    // Base64 to Uint8Array.\n    return base64.decodeString(str);\n}\nfunction splitSerializeName(prop) {\n    var classes = [];\n    var partialclass = \"\";\n    if (prop) {\n        var subwords = prop.split(\".\");\n        for (var _i = 0, subwords_1 = subwords; _i < subwords_1.length; _i++) {\n            var item = subwords_1[_i];\n            if (item.charAt(item.length - 1) === \"\\\\\") {\n                partialclass += item.substr(0, item.length - 1) + \".\";\n            }\n            else {\n                partialclass += item;\n                classes.push(partialclass);\n                partialclass = \"\";\n            }\n        }\n    }\n    return classes;\n}\nfunction dateToUnixTime(d) {\n    if (!d) {\n        return undefined;\n    }\n    if (typeof d.valueOf() === \"string\") {\n        d = new Date(d);\n    }\n    return Math.floor(d.getTime() / 1000);\n}\nfunction unixTimeToDate(n) {\n    if (!n) {\n        return undefined;\n    }\n    return new Date(n * 1000);\n}\nfunction serializeBasicTypes(typeName, objectName, value) {\n    if (value !== null && value !== undefined) {\n        if (typeName.match(/^Number$/ig) !== null) {\n            if (typeof value !== \"number\") {\n                throw new Error(objectName + \" with value \" + value + \" must be of type number.\");\n            }\n        }\n        else if (typeName.match(/^String$/ig) !== null) {\n            if (typeof value.valueOf() !== \"string\") {\n                throw new Error(objectName + \" with value \\\"\" + value + \"\\\" must be of type string.\");\n            }\n        }\n        else if (typeName.match(/^Uuid$/ig) !== null) {\n            if (!(typeof value.valueOf() === \"string\" && utils.isValidUuid(value))) {\n                throw new Error(objectName + \" with value \\\"\" + value + \"\\\" must be of type string and a valid uuid.\");\n            }\n        }\n        else if (typeName.match(/^Boolean$/ig) !== null) {\n            if (typeof value !== \"boolean\") {\n                throw new Error(objectName + \" with value \" + value + \" must be of type boolean.\");\n            }\n        }\n        else if (typeName.match(/^Stream$/ig) !== null) {\n            var objectType = typeof value;\n            if (objectType !== \"string\" &&\n                objectType !== \"function\" &&\n                !(value instanceof ArrayBuffer) &&\n                !ArrayBuffer.isView(value) &&\n                !(typeof Blob === \"function\" && value instanceof Blob)) {\n                throw new Error(objectName + \" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.\");\n            }\n        }\n    }\n    return value;\n}\nfunction serializeEnumType(objectName, allowedValues, value) {\n    if (!allowedValues) {\n        throw new Error(\"Please provide a set of allowedValues to validate \" + objectName + \" as an Enum Type.\");\n    }\n    var isPresent = allowedValues.some(function (item) {\n        if (typeof item.valueOf() === \"string\") {\n            return item.toLowerCase() === value.toLowerCase();\n        }\n        return item === value;\n    });\n    if (!isPresent) {\n        throw new Error(value + \" is not a valid value for \" + objectName + \". The valid values are: \" + JSON.stringify(allowedValues) + \".\");\n    }\n    return value;\n}\nfunction serializeByteArrayType(objectName, value) {\n    if (value != undefined) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error(objectName + \" must be of type Uint8Array.\");\n        }\n        value = base64.encodeByteArray(value);\n    }\n    return value;\n}\nfunction serializeBase64UrlType(objectName, value) {\n    if (value != undefined) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error(objectName + \" must be of type Uint8Array.\");\n        }\n        value = bufferToBase64Url(value);\n    }\n    return value;\n}\nfunction serializeDateTypes(typeName, value, objectName) {\n    if (value != undefined) {\n        if (typeName.match(/^Date$/ig) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(objectName + \" must be an instanceof Date or a string in ISO8601 format.\");\n            }\n            value = (value instanceof Date) ? value.toISOString().substring(0, 10) : new Date(value).toISOString().substring(0, 10);\n        }\n        else if (typeName.match(/^DateTime$/ig) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(objectName + \" must be an instanceof Date or a string in ISO8601 format.\");\n            }\n            value = (value instanceof Date) ? value.toISOString() : new Date(value).toISOString();\n        }\n        else if (typeName.match(/^DateTimeRfc1123$/ig) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(objectName + \" must be an instanceof Date or a string in RFC-1123 format.\");\n            }\n            value = (value instanceof Date) ? value.toUTCString() : new Date(value).toUTCString();\n        }\n        else if (typeName.match(/^UnixTime$/ig) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(objectName + \" must be an instanceof Date or a string in RFC-1123/ISO8601 format \" +\n                    \"for it to be serialized in UnixTime/Epoch format.\");\n            }\n            value = dateToUnixTime(value);\n        }\n        else if (typeName.match(/^TimeSpan$/ig) !== null) {\n            if (!utils.isDuration(value)) {\n                throw new Error(objectName + \" must be a string in ISO 8601 format. Instead was \\\"\" + value + \"\\\".\");\n            }\n            value = value;\n        }\n    }\n    return value;\n}\nfunction serializeSequenceType(serializer, mapper, object, objectName) {\n    if (!Array.isArray(object)) {\n        throw new Error(objectName + \" must be of type Array.\");\n    }\n    var elementType = mapper.type.element;\n    if (!elementType || typeof elementType !== \"object\") {\n        throw new Error(\"element\\\" metadata for an Array must be defined in the \" +\n            (\"mapper and it must of type \\\"object\\\" in \" + objectName + \".\"));\n    }\n    var tempArray = [];\n    for (var i = 0; i < object.length; i++) {\n        tempArray[i] = serializer.serialize(elementType, object[i], objectName);\n    }\n    return tempArray;\n}\nfunction serializeDictionaryType(serializer, mapper, object, objectName) {\n    if (typeof object !== \"object\") {\n        throw new Error(objectName + \" must be of type object.\");\n    }\n    var valueType = mapper.type.value;\n    if (!valueType || typeof valueType !== \"object\") {\n        throw new Error(\"\\\"value\\\" metadata for a Dictionary must be defined in the \" +\n            (\"mapper and it must of type \\\"object\\\" in \" + objectName + \".\"));\n    }\n    var tempDictionary = {};\n    for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n        var key = _a[_i];\n        tempDictionary[key] = serializer.serialize(valueType, object[key], objectName + \".\" + key);\n    }\n    return tempDictionary;\n}\n/**\n * Resolves a composite mapper's modelProperties.\n * @param serializer the serializer containing the entire set of mappers\n * @param mapper the composite mapper to resolve\n */\nfunction resolveModelProperties(serializer, mapper, objectName) {\n    var modelProps = mapper.type.modelProperties;\n    if (!modelProps) {\n        var className = mapper.type.className;\n        if (!className) {\n            throw new Error(\"Class name for model \\\"\" + objectName + \"\\\" is not provided in the mapper \\\"\" + JSON.stringify(mapper, undefined, 2) + \"\\\".\");\n        }\n        var modelMapper = serializer.modelMappers[className];\n        if (!modelMapper) {\n            throw new Error(\"mapper() cannot be null or undefined for model \\\"\" + className + \"\\\".\");\n        }\n        modelProps = modelMapper.type.modelProperties;\n        if (!modelProps) {\n            throw new Error(\"modelProperties cannot be null or undefined in the \" +\n                (\"mapper \\\"\" + JSON.stringify(modelMapper) + \"\\\" of type \\\"\" + className + \"\\\" for object \\\"\" + objectName + \"\\\".\"));\n        }\n    }\n    return modelProps;\n}\nfunction serializeCompositeType(serializer, mapper, object, objectName) {\n    var _a;\n    if (mapper.type.polymorphicDiscriminator) {\n        mapper = getPolymorphicMapper(serializer, mapper, object, \"clientName\");\n    }\n    if (object != undefined) {\n        var payload = {};\n        var modelProps = resolveModelProperties(serializer, mapper, objectName);\n        for (var _i = 0, _b = Object.keys(modelProps); _i < _b.length; _i++) {\n            var key = _b[_i];\n            var propertyMapper = modelProps[key];\n            if (propertyMapper.readOnly) {\n                continue;\n            }\n            var propName = void 0;\n            var parentObject = payload;\n            if (serializer.isXML) {\n                if (propertyMapper.xmlIsWrapped) {\n                    propName = propertyMapper.xmlName;\n                }\n                else {\n                    propName = propertyMapper.xmlElementName || propertyMapper.xmlName;\n                }\n            }\n            else {\n                var paths = splitSerializeName(propertyMapper.serializedName);\n                propName = paths.pop();\n                for (var _c = 0, paths_1 = paths; _c < paths_1.length; _c++) {\n                    var pathName = paths_1[_c];\n                    var childObject = parentObject[pathName];\n                    if ((childObject == undefined) && (object[key] != undefined)) {\n                        parentObject[pathName] = {};\n                    }\n                    parentObject = parentObject[pathName];\n                }\n            }\n            if (parentObject != undefined) {\n                var propertyObjectName = propertyMapper.serializedName !== \"\"\n                    ? objectName + \".\" + propertyMapper.serializedName\n                    : objectName;\n                var toSerialize = object[key];\n                var polymorphicDiscriminator = mapper.type.polymorphicDiscriminator;\n                if (polymorphicDiscriminator && polymorphicDiscriminator.clientName === key && toSerialize == undefined) {\n                    toSerialize = mapper.serializedName;\n                }\n                var serializedValue = serializer.serialize(propertyMapper, toSerialize, propertyObjectName);\n                if (serializedValue !== undefined && propName != undefined) {\n                    if (propertyMapper.xmlIsAttribute) {\n                        // $ is the key attributes are kept under in xml2js.\n                        // This keeps things simple while preventing name collision\n                        // with names in user documents.\n                        parentObject.$ = parentObject.$ || {};\n                        parentObject.$[propName] = serializedValue;\n                    }\n                    else if (propertyMapper.xmlIsWrapped) {\n                        parentObject[propName] = (_a = {}, _a[propertyMapper.xmlElementName] = serializedValue, _a);\n                    }\n                    else {\n                        parentObject[propName] = serializedValue;\n                    }\n                }\n            }\n        }\n        var additionalPropertiesMapper = mapper.type.additionalProperties;\n        if (additionalPropertiesMapper) {\n            var propNames = Object.keys(modelProps);\n            var _loop_1 = function (clientPropName) {\n                var isAdditionalProperty = propNames.every(function (pn) { return pn !== clientPropName; });\n                if (isAdditionalProperty) {\n                    payload[clientPropName] = serializer.serialize(additionalPropertiesMapper, object[clientPropName], objectName + '[\"' + clientPropName + '\"]');\n                }\n            };\n            for (var clientPropName in object) {\n                _loop_1(clientPropName);\n            }\n        }\n        return payload;\n    }\n    return object;\n}\nfunction deserializeCompositeType(serializer, mapper, responseBody, objectName) {\n    if (mapper.type.polymorphicDiscriminator) {\n        mapper = getPolymorphicMapper(serializer, mapper, responseBody, \"serializedName\");\n    }\n    var modelProps = resolveModelProperties(serializer, mapper, objectName);\n    var instance = {};\n    for (var _i = 0, _a = Object.keys(modelProps); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var propertyMapper = modelProps[key];\n        var serializedName = propertyMapper.serializedName, xmlName = propertyMapper.xmlName, xmlElementName = propertyMapper.xmlElementName;\n        var propertyObjectName = objectName;\n        if (serializedName !== \"\" && serializedName !== undefined) {\n            propertyObjectName = objectName + \".\" + serializedName;\n        }\n        var headerCollectionPrefix = propertyMapper.headerCollectionPrefix;\n        if (headerCollectionPrefix) {\n            var dictionary = {};\n            for (var _b = 0, _c = Object.keys(responseBody); _b < _c.length; _b++) {\n                var headerKey = _c[_b];\n                if (headerKey.startsWith(headerCollectionPrefix)) {\n                    dictionary[headerKey.substring(headerCollectionPrefix.length)] = serializer.deserialize(propertyMapper.type.value, responseBody[headerKey], propertyObjectName);\n                }\n            }\n            instance[key] = dictionary;\n        }\n        else if (serializer.isXML) {\n            if (propertyMapper.xmlIsAttribute && responseBody.$) {\n                instance[key] = serializer.deserialize(propertyMapper, responseBody.$[xmlName], propertyObjectName);\n            }\n            else {\n                var propertyName = xmlElementName || xmlName || serializedName;\n                var unwrappedProperty = responseBody[propertyName];\n                if (propertyMapper.xmlIsWrapped) {\n                    unwrappedProperty = responseBody[xmlName];\n                    unwrappedProperty = unwrappedProperty && unwrappedProperty[xmlElementName];\n                    var isEmptyWrappedList = unwrappedProperty === undefined;\n                    if (isEmptyWrappedList) {\n                        unwrappedProperty = [];\n                    }\n                }\n                instance[key] = serializer.deserialize(propertyMapper, unwrappedProperty, propertyObjectName);\n            }\n        }\n        else {\n            var paths = splitSerializeName(modelProps[key].serializedName);\n            // deserialize the property if it is present in the provided responseBody instance\n            var propertyInstance = void 0;\n            var res = responseBody;\n            // traversing the object step by step.\n            for (var _d = 0, paths_2 = paths; _d < paths_2.length; _d++) {\n                var item = paths_2[_d];\n                if (!res)\n                    break;\n                res = res[item];\n            }\n            propertyInstance = res;\n            var polymorphicDiscriminator = mapper.type.polymorphicDiscriminator;\n            if (polymorphicDiscriminator && propertyMapper.serializedName === polymorphicDiscriminator.serializedName && propertyInstance == undefined) {\n                propertyInstance = mapper.serializedName;\n            }\n            var serializedValue = void 0;\n            // paging\n            if (Array.isArray(responseBody[key]) && modelProps[key].serializedName === \"\") {\n                propertyInstance = responseBody[key];\n                instance = serializer.deserialize(propertyMapper, propertyInstance, propertyObjectName);\n            }\n            else if (propertyInstance !== undefined) {\n                serializedValue = serializer.deserialize(propertyMapper, propertyInstance, propertyObjectName);\n                instance[key] = serializedValue;\n            }\n        }\n    }\n    var additionalPropertiesMapper = mapper.type.additionalProperties;\n    if (additionalPropertiesMapper) {\n        var isAdditionalProperty = function (responsePropName) {\n            for (var clientPropName in modelProps) {\n                var paths = splitSerializeName(modelProps[clientPropName].serializedName);\n                if (paths[0] === responsePropName) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        for (var responsePropName in responseBody) {\n            if (isAdditionalProperty(responsePropName)) {\n                instance[responsePropName] = serializer.deserialize(additionalPropertiesMapper, responseBody[responsePropName], objectName + '[\"' + responsePropName + '\"]');\n            }\n        }\n    }\n    return instance;\n}\nfunction deserializeDictionaryType(serializer, mapper, responseBody, objectName) {\n    /*jshint validthis: true */\n    var value = mapper.type.value;\n    if (!value || typeof value !== \"object\") {\n        throw new Error(\"\\\"value\\\" metadata for a Dictionary must be defined in the \" +\n            (\"mapper and it must of type \\\"object\\\" in \" + objectName));\n    }\n    if (responseBody) {\n        var tempDictionary = {};\n        for (var _i = 0, _a = Object.keys(responseBody); _i < _a.length; _i++) {\n            var key = _a[_i];\n            tempDictionary[key] = serializer.deserialize(value, responseBody[key], objectName);\n        }\n        return tempDictionary;\n    }\n    return responseBody;\n}\nfunction deserializeSequenceType(serializer, mapper, responseBody, objectName) {\n    /*jshint validthis: true */\n    var element = mapper.type.element;\n    if (!element || typeof element !== \"object\") {\n        throw new Error(\"element\\\" metadata for an Array must be defined in the \" +\n            (\"mapper and it must of type \\\"object\\\" in \" + objectName));\n    }\n    if (responseBody) {\n        if (!Array.isArray(responseBody)) {\n            // xml2js will interpret a single element array as just the element, so force it to be an array\n            responseBody = [responseBody];\n        }\n        var tempArray = [];\n        for (var i = 0; i < responseBody.length; i++) {\n            tempArray[i] = serializer.deserialize(element, responseBody[i], objectName);\n        }\n        return tempArray;\n    }\n    return responseBody;\n}\nfunction getPolymorphicMapper(serializer, mapper, object, polymorphicPropertyName) {\n    var polymorphicDiscriminator = mapper.type.polymorphicDiscriminator;\n    if (polymorphicDiscriminator) {\n        var discriminatorName = polymorphicDiscriminator[polymorphicPropertyName];\n        if (discriminatorName != undefined) {\n            var discriminatorValue = object[discriminatorName];\n            if (discriminatorValue != undefined) {\n                var indexDiscriminator = discriminatorValue === mapper.type.uberParent\n                    ? discriminatorValue\n                    : mapper.type.uberParent + \".\" + discriminatorValue;\n                var polymorphicMapper = serializer.modelMappers.discriminators[indexDiscriminator];\n                if (polymorphicMapper) {\n                    mapper = polymorphicMapper;\n                }\n            }\n        }\n    }\n    return mapper;\n}\n// TODO: why is this here?\nexport function serializeObject(toSerialize) {\n    if (toSerialize == undefined)\n        return undefined;\n    if (toSerialize instanceof Uint8Array) {\n        toSerialize = base64.encodeByteArray(toSerialize);\n        return toSerialize;\n    }\n    else if (toSerialize instanceof Date) {\n        return toSerialize.toISOString();\n    }\n    else if (Array.isArray(toSerialize)) {\n        var array = [];\n        for (var i = 0; i < toSerialize.length; i++) {\n            array.push(serializeObject(toSerialize[i]));\n        }\n        return array;\n    }\n    else if (typeof toSerialize === \"object\") {\n        var dictionary = {};\n        for (var property in toSerialize) {\n            dictionary[property] = serializeObject(toSerialize[property]);\n        }\n        return dictionary;\n    }\n    return toSerialize;\n}\n/**\n * Utility function to create a K:V from a list of strings\n */\nfunction strEnum(o) {\n    var result = {};\n    for (var _i = 0, o_1 = o; _i < o_1.length; _i++) {\n        var key = o_1[_i];\n        result[key] = key;\n    }\n    return result;\n}\nexport var MapperType = strEnum([\n    \"Base64Url\",\n    \"Boolean\",\n    \"ByteArray\",\n    \"Composite\",\n    \"Date\",\n    \"DateTime\",\n    \"DateTimeRfc1123\",\n    \"Dictionary\",\n    \"Enum\",\n    \"Number\",\n    \"Object\",\n    \"Sequence\",\n    \"String\",\n    \"Stream\",\n    \"TimeSpan\",\n    \"UnixTime\"\n]);\n//# sourceMappingURL=serializer.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"./httpHeaders\";\nimport { Serializer } from \"./serializer\";\nimport { generateUuid } from \"./util/utils\";\n/**\n * Creates a new WebResource object.\n *\n * This class provides an abstraction over a REST call by being library / implementation agnostic and wrapping the necessary\n * properties to initiate a request.\n *\n * @constructor\n */\nvar WebResource = /** @class */ (function () {\n    function WebResource(url, method, body, query, headers, streamResponseBody, withCredentials, abortSignal, timeout, onUploadProgress, onDownloadProgress) {\n        this.streamResponseBody = streamResponseBody;\n        this.url = url || \"\";\n        this.method = method || \"GET\";\n        this.headers = (headers instanceof HttpHeaders ? headers : new HttpHeaders(headers));\n        this.body = body;\n        this.query = query;\n        this.formData = undefined;\n        this.withCredentials = withCredentials || false;\n        this.abortSignal = abortSignal;\n        this.timeout = timeout || 0;\n        this.onUploadProgress = onUploadProgress;\n        this.onDownloadProgress = onDownloadProgress;\n    }\n    /**\n     * Validates that the required properties such as method, url, headers[\"Content-Type\"],\n     * headers[\"accept-language\"] are defined. It will throw an error if one of the above\n     * mentioned properties are not defined.\n     */\n    WebResource.prototype.validateRequestProperties = function () {\n        if (!this.method) {\n            throw new Error(\"WebResource.method is required.\");\n        }\n        if (!this.url) {\n            throw new Error(\"WebResource.url is required.\");\n        }\n    };\n    /**\n     * Prepares the request.\n     * @param {RequestPrepareOptions} options Options to provide for preparing the request.\n     * @returns {WebResource} Returns the prepared WebResource (HTTP Request) object that needs to be given to the request pipeline.\n     */\n    WebResource.prototype.prepare = function (options) {\n        if (!options) {\n            throw new Error(\"options object is required\");\n        }\n        if (options.method == undefined || typeof options.method.valueOf() !== \"string\") {\n            throw new Error(\"options.method must be a string.\");\n        }\n        if (options.url && options.pathTemplate) {\n            throw new Error(\"options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.\");\n        }\n        if ((options.pathTemplate == undefined || typeof options.pathTemplate.valueOf() !== \"string\") && (options.url == undefined || typeof options.url.valueOf() !== \"string\")) {\n            throw new Error(\"Please provide exactly one of options.pathTemplate or options.url.\");\n        }\n        // set the url if it is provided.\n        if (options.url) {\n            if (typeof options.url !== \"string\") {\n                throw new Error(\"options.url must be of type \\\"string\\\".\");\n            }\n            this.url = options.url;\n        }\n        // set the method\n        if (options.method) {\n            var validMethods = [\"GET\", \"PUT\", \"HEAD\", \"DELETE\", \"OPTIONS\", \"POST\", \"PATCH\", \"TRACE\"];\n            if (validMethods.indexOf(options.method.toUpperCase()) === -1) {\n                throw new Error(\"The provided method \\\"\" + options.method + \"\\\" is invalid. Supported HTTP methods are: \" + JSON.stringify(validMethods));\n            }\n        }\n        this.method = options.method.toUpperCase();\n        // construct the url if path template is provided\n        if (options.pathTemplate) {\n            var pathTemplate_1 = options.pathTemplate, pathParameters_1 = options.pathParameters;\n            if (typeof pathTemplate_1 !== \"string\") {\n                throw new Error(\"options.pathTemplate must be of type \\\"string\\\".\");\n            }\n            if (!options.baseUrl) {\n                options.baseUrl = \"https://management.azure.com\";\n            }\n            var baseUrl = options.baseUrl;\n            var url_1 = baseUrl + (baseUrl.endsWith(\"/\") ? \"\" : \"/\") + (pathTemplate_1.startsWith(\"/\") ? pathTemplate_1.slice(1) : pathTemplate_1);\n            var segments = url_1.match(/({\\w*\\s*\\w*})/ig);\n            if (segments && segments.length) {\n                if (!pathParameters_1) {\n                    throw new Error(\"pathTemplate: \" + pathTemplate_1 + \" has been provided. Hence, options.pathParameters must also be provided.\");\n                }\n                segments.forEach(function (item) {\n                    var pathParamName = item.slice(1, -1);\n                    var pathParam = pathParameters_1[pathParamName];\n                    if (pathParam === null || pathParam === undefined || !(typeof pathParam === \"string\" || typeof pathParam === \"object\")) {\n                        throw new Error(\"pathTemplate: \" + pathTemplate_1 + \" contains the path parameter \" + pathParamName +\n                            (\" however, it is not present in \" + pathParameters_1 + \" - \" + JSON.stringify(pathParameters_1, undefined, 2) + \".\") +\n                            (\"The value of the path parameter can either be a \\\"string\\\" of the form { \" + pathParamName + \": \\\"some sample value\\\" } or \") +\n                            (\"it can be an \\\"object\\\" of the form { \\\"\" + pathParamName + \"\\\": { value: \\\"some sample value\\\", skipUrlEncoding: true } }.\"));\n                    }\n                    if (typeof pathParam.valueOf() === \"string\") {\n                        url_1 = url_1.replace(item, encodeURIComponent(pathParam));\n                    }\n                    if (typeof pathParam.valueOf() === \"object\") {\n                        if (!pathParam.value) {\n                            throw new Error(\"options.pathParameters[\" + pathParamName + \"] is of type \\\"object\\\" but it does not contain a \\\"value\\\" property.\");\n                        }\n                        if (pathParam.skipUrlEncoding) {\n                            url_1 = url_1.replace(item, pathParam.value);\n                        }\n                        else {\n                            url_1 = url_1.replace(item, encodeURIComponent(pathParam.value));\n                        }\n                    }\n                });\n            }\n            this.url = url_1;\n        }\n        // append query parameters to the url if they are provided. They can be provided with pathTemplate or url option.\n        if (options.queryParameters) {\n            var queryParameters = options.queryParameters;\n            if (typeof queryParameters !== \"object\") {\n                throw new Error(\"options.queryParameters must be of type object. It should be a JSON object \" +\n                    \"of \\\"query-parameter-name\\\" as the key and the \\\"query-parameter-value\\\" as the value. \" +\n                    \"The \\\"query-parameter-value\\\" may be fo type \\\"string\\\" or an \\\"object\\\" of the form { value: \\\"query-parameter-value\\\", skipUrlEncoding: true }.\");\n            }\n            // append question mark if it is not present in the url\n            if (this.url && this.url.indexOf(\"?\") === -1) {\n                this.url += \"?\";\n            }\n            // construct queryString\n            var queryParams = [];\n            // We need to populate this.query as a dictionary if the request is being used for Sway's validateRequest().\n            this.query = {};\n            for (var queryParamName in queryParameters) {\n                var queryParam = queryParameters[queryParamName];\n                if (queryParam) {\n                    if (typeof queryParam === \"string\") {\n                        queryParams.push(queryParamName + \"=\" + encodeURIComponent(queryParam));\n                        this.query[queryParamName] = encodeURIComponent(queryParam);\n                    }\n                    else if (typeof queryParam === \"object\") {\n                        if (!queryParam.value) {\n                            throw new Error(\"options.queryParameters[\" + queryParamName + \"] is of type \\\"object\\\" but it does not contain a \\\"value\\\" property.\");\n                        }\n                        if (queryParam.skipUrlEncoding) {\n                            queryParams.push(queryParamName + \"=\" + queryParam.value);\n                            this.query[queryParamName] = queryParam.value;\n                        }\n                        else {\n                            queryParams.push(queryParamName + \"=\" + encodeURIComponent(queryParam.value));\n                            this.query[queryParamName] = encodeURIComponent(queryParam.value);\n                        }\n                    }\n                }\n            } // end-of-for\n            // append the queryString\n            this.url += queryParams.join(\"&\");\n        }\n        // add headers to the request if they are provided\n        if (options.headers) {\n            var headers = options.headers;\n            for (var _i = 0, _a = Object.keys(options.headers); _i < _a.length; _i++) {\n                var headerName = _a[_i];\n                this.headers.set(headerName, headers[headerName]);\n            }\n        }\n        // ensure accept-language is set correctly\n        if (!this.headers.get(\"accept-language\")) {\n            this.headers.set(\"accept-language\", \"en-US\");\n        }\n        // ensure the request-id is set correctly\n        if (!this.headers.get(\"x-ms-client-request-id\") && !options.disableClientRequestId) {\n            this.headers.set(\"x-ms-client-request-id\", generateUuid());\n        }\n        // default\n        if (!this.headers.get(\"Content-Type\")) {\n            this.headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n        }\n        // set the request body. request.js automatically sets the Content-Length request header, so we need not set it explicilty\n        this.body = options.body;\n        if (options.body != undefined) {\n            // body as a stream special case. set the body as-is and check for some special request headers specific to sending a stream.\n            if (options.bodyIsStream) {\n                if (!this.headers.get(\"Transfer-Encoding\")) {\n                    this.headers.set(\"Transfer-Encoding\", \"chunked\");\n                }\n                if (this.headers.get(\"Content-Type\") !== \"application/octet-stream\") {\n                    this.headers.set(\"Content-Type\", \"application/octet-stream\");\n                }\n            }\n            else {\n                if (options.serializationMapper) {\n                    this.body = new Serializer(options.mappers).serialize(options.serializationMapper, options.body, \"requestBody\");\n                }\n                if (!options.disableJsonStringifyOnBody) {\n                    this.body = JSON.stringify(options.body);\n                }\n            }\n        }\n        this.abortSignal = options.abortSignal;\n        this.onDownloadProgress = options.onDownloadProgress;\n        this.onUploadProgress = options.onUploadProgress;\n        return this;\n    };\n    /**\n     * Clone this WebResource HTTP request object.\n     * @returns {WebResource} The clone of this WebResource HTTP request object.\n     */\n    WebResource.prototype.clone = function () {\n        var result = new WebResource(this.url, this.method, this.body, this.query, this.headers && this.headers.clone(), this.streamResponseBody, this.withCredentials, this.abortSignal, this.timeout, this.onUploadProgress, this.onDownloadProgress);\n        result.formData = this.formData;\n        result.operationSpec = this.operationSpec;\n        result.shouldDeserialize = this.shouldDeserialize;\n        result.operationResponseGetter = this.operationResponseGetter;\n        return result;\n    };\n    return WebResource;\n}());\nexport { WebResource };\n//# sourceMappingURL=webResource.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nvar RestError = /** @class */ (function (_super) {\n    tslib_1.__extends(RestError, _super);\n    function RestError(message, code, statusCode, request, response, body) {\n        var _this = _super.call(this, message) || this;\n        _this.code = code;\n        _this.statusCode = statusCode;\n        _this.request = request;\n        _this.response = response;\n        _this.body = body;\n        Object.setPrototypeOf(_this, RestError.prototype);\n        return _this;\n    }\n    RestError.REQUEST_SEND_ERROR = \"REQUEST_SEND_ERROR\";\n    RestError.REQUEST_ABORTED_ERROR = \"REQUEST_ABORTED_ERROR\";\n    RestError.PARSE_ERROR = \"PARSE_ERROR\";\n    return RestError;\n}(Error));\nexport { RestError };\n//# sourceMappingURL=restError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport axios from \"axios\";\nimport { Transform } from \"stream\";\nimport FormData from \"form-data\";\nimport * as tough from \"tough-cookie\";\nimport { HttpHeaders } from \"./httpHeaders\";\nimport { RestError } from \"./restError\";\nvar axiosClient = axios.create();\n// Workaround for https://github.com/axios/axios/issues/1158\naxiosClient.interceptors.request.use(function (config) { return (tslib_1.__assign({}, config, { method: config.method && config.method.toUpperCase() })); });\n/**\n * A HttpClient implementation that uses axios to send HTTP requests.\n */\nvar AxiosHttpClient = /** @class */ (function () {\n    function AxiosHttpClient() {\n        this.cookieJar = new tough.CookieJar();\n    }\n    AxiosHttpClient.prototype.sendRequest = function (httpRequest) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var formData, requestForm_1, appendFormValue, _i, _a, formKey, formValue, j, contentType, cookieString, abortSignal, abortListener, cancelToken, rawHeaders, httpRequestBody, axiosBody, onUploadProgress, loadedBytes_1, uploadReportStream, res, config, err_1, axiosErr, headers, onDownloadProgress, responseBody, loadedBytes_2, downloadReportStream, length_1, operationResponse, setCookieHeader_1;\n            var _this = this;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!httpRequest) {\n                            throw new Error(\"httpRequest (WebResource) cannot be null or undefined and must be of type object.\");\n                        }\n                        if (httpRequest.formData) {\n                            formData = httpRequest.formData;\n                            requestForm_1 = new FormData();\n                            appendFormValue = function (key, value) {\n                                // value function probably returns a stream so we can provide a fresh stream on each retry\n                                if (typeof value === \"function\") {\n                                    value = value();\n                                }\n                                if (value && value.hasOwnProperty(\"value\") && value.hasOwnProperty(\"options\")) {\n                                    requestForm_1.append(key, value.value, value.options);\n                                }\n                                else {\n                                    requestForm_1.append(key, value);\n                                }\n                            };\n                            for (_i = 0, _a = Object.keys(formData); _i < _a.length; _i++) {\n                                formKey = _a[_i];\n                                formValue = formData[formKey];\n                                if (Array.isArray(formValue)) {\n                                    for (j = 0; j < formValue.length; j++) {\n                                        appendFormValue(formKey, formValue[j]);\n                                    }\n                                }\n                                else {\n                                    appendFormValue(formKey, formValue);\n                                }\n                            }\n                            httpRequest.body = requestForm_1;\n                            httpRequest.formData = undefined;\n                            contentType = httpRequest.headers.get(\"Content-Type\");\n                            if (contentType && contentType.indexOf(\"multipart/form-data\") !== -1) {\n                                if (typeof requestForm_1.getBoundary === \"function\") {\n                                    httpRequest.headers.set(\"Content-Type\", \"multipart/form-data; boundary=\" + requestForm_1.getBoundary());\n                                }\n                                else {\n                                    // browser will automatically apply a suitable content-type header\n                                    httpRequest.headers.remove(\"Content-Type\");\n                                }\n                            }\n                        }\n                        if (!(this.cookieJar && !httpRequest.headers.get(\"Cookie\"))) return [3 /*break*/, 2];\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                _this.cookieJar.getCookieString(httpRequest.url, function (err, cookie) {\n                                    if (err) {\n                                        reject(err);\n                                    }\n                                    else {\n                                        resolve(cookie);\n                                    }\n                                });\n                            })];\n                    case 1:\n                        cookieString = _b.sent();\n                        httpRequest.headers.set(\"Cookie\", cookieString);\n                        _b.label = 2;\n                    case 2:\n                        abortSignal = httpRequest.abortSignal;\n                        if (abortSignal && abortSignal.aborted) {\n                            throw new RestError(\"The request was aborted\", RestError.REQUEST_ABORTED_ERROR, undefined, httpRequest);\n                        }\n                        cancelToken = abortSignal && new axios.CancelToken(function (canceler) {\n                            abortListener = function () { return canceler(); };\n                            abortSignal.addEventListener(\"abort\", abortListener);\n                        });\n                        rawHeaders = httpRequest.headers.rawHeaders();\n                        httpRequestBody = httpRequest.body;\n                        axiosBody = \n                        // Workaround for https://github.com/axios/axios/issues/755\n                        // tslint:disable-next-line:no-null-keyword\n                        typeof httpRequestBody === \"undefined\" ? null :\n                            typeof httpRequestBody === \"function\" ? httpRequestBody() :\n                                httpRequestBody;\n                        onUploadProgress = httpRequest.onUploadProgress;\n                        if (onUploadProgress && axiosBody) {\n                            loadedBytes_1 = 0;\n                            uploadReportStream = new Transform({\n                                transform: function (chunk, _encoding, callback) {\n                                    loadedBytes_1 += chunk.length;\n                                    onUploadProgress({ loadedBytes: loadedBytes_1 });\n                                    callback(undefined, chunk);\n                                }\n                            });\n                            if (isReadableStream(axiosBody)) {\n                                axiosBody.pipe(uploadReportStream);\n                            }\n                            else {\n                                uploadReportStream.end(axiosBody);\n                            }\n                            axiosBody = uploadReportStream;\n                        }\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 5, 6, 7]);\n                        config = {\n                            method: httpRequest.method,\n                            url: httpRequest.url,\n                            headers: rawHeaders,\n                            data: axiosBody,\n                            transformResponse: undefined,\n                            validateStatus: function () { return true; },\n                            // Workaround for https://github.com/axios/axios/issues/1362\n                            maxContentLength: 1024 * 1024 * 1024 * 10,\n                            responseType: httpRequest.streamResponseBody ? \"stream\" : \"text\",\n                            cancelToken: cancelToken,\n                            timeout: httpRequest.timeout\n                        };\n                        return [4 /*yield*/, axiosClient(config)];\n                    case 4:\n                        res = _b.sent();\n                        return [3 /*break*/, 7];\n                    case 5:\n                        err_1 = _b.sent();\n                        if (err_1 instanceof axios.Cancel) {\n                            throw new RestError(err_1.message, RestError.REQUEST_SEND_ERROR, undefined, httpRequest);\n                        }\n                        else {\n                            axiosErr = err_1;\n                            throw new RestError(axiosErr.message, RestError.REQUEST_SEND_ERROR, undefined, httpRequest);\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        if (abortSignal && abortListener) {\n                            abortSignal.removeEventListener(\"abort\", abortListener);\n                        }\n                        return [7 /*endfinally*/];\n                    case 7:\n                        headers = new HttpHeaders(res.headers);\n                        onDownloadProgress = httpRequest.onDownloadProgress;\n                        responseBody = res.data;\n                        if (onDownloadProgress) {\n                            if (isReadableStream(responseBody)) {\n                                loadedBytes_2 = 0;\n                                downloadReportStream = new Transform({\n                                    transform: function (chunk, _encoding, callback) {\n                                        loadedBytes_2 += chunk.length;\n                                        onDownloadProgress({ loadedBytes: loadedBytes_2 });\n                                        callback(undefined, chunk);\n                                    }\n                                });\n                                responseBody.pipe(downloadReportStream);\n                                responseBody = downloadReportStream;\n                            }\n                            else {\n                                length_1 = parseInt(headers.get(\"Content-Length\")) || responseBody.length || undefined;\n                                if (length_1) {\n                                    // Calling callback for non-stream response for consistency with browser\n                                    onDownloadProgress({ loadedBytes: length_1 });\n                                }\n                            }\n                        }\n                        operationResponse = {\n                            request: httpRequest,\n                            status: res.status,\n                            headers: headers,\n                            readableStreamBody: httpRequest.streamResponseBody ? responseBody : undefined,\n                            bodyAsText: httpRequest.streamResponseBody ? undefined : responseBody\n                        };\n                        if (!this.cookieJar) return [3 /*break*/, 9];\n                        setCookieHeader_1 = operationResponse.headers.get(\"Set-Cookie\");\n                        if (!(setCookieHeader_1 != undefined)) return [3 /*break*/, 9];\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                _this.cookieJar.setCookie(setCookieHeader_1, httpRequest.url, function (err) {\n                                    if (err) {\n                                        reject(err);\n                                    }\n                                    else {\n                                        resolve();\n                                    }\n                                });\n                            })];\n                    case 8:\n                        _b.sent();\n                        _b.label = 9;\n                    case 9: return [2 /*return*/, operationResponse];\n                }\n            });\n        });\n    };\n    return AxiosHttpClient;\n}());\nexport { AxiosHttpClient };\nfunction isReadableStream(body) {\n    return typeof body.pipe === \"function\";\n}\n//# sourceMappingURL=axiosHttpClient.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nexport { AxiosHttpClient as DefaultHttpClient } from \"./axiosHttpClient\";\n//# sourceMappingURL=defaultHttpClient.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n/**\n * The different levels of logs that can be used with the HttpPipelineLogger.\n */\nexport var HttpPipelineLogLevel;\n(function (HttpPipelineLogLevel) {\n    /**\n     * A log level that indicates that no logs will be logged.\n     */\n    HttpPipelineLogLevel[HttpPipelineLogLevel[\"OFF\"] = 0] = \"OFF\";\n    /**\n     * An error log.\n     */\n    HttpPipelineLogLevel[HttpPipelineLogLevel[\"ERROR\"] = 1] = \"ERROR\";\n    /**\n     * A warning log.\n     */\n    HttpPipelineLogLevel[HttpPipelineLogLevel[\"WARNING\"] = 2] = \"WARNING\";\n    /**\n     * An information log.\n     */\n    HttpPipelineLogLevel[HttpPipelineLogLevel[\"INFO\"] = 3] = \"INFO\";\n})(HttpPipelineLogLevel || (HttpPipelineLogLevel = {}));\n//# sourceMappingURL=httpPipelineLogLevel.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n/**\n * Get the path to this parameter's value as a dotted string (a.b.c).\n * @param parameter The parameter to get the path string for.\n * @returns The path to this parameter's value as a dotted string.\n */\nexport function getPathStringFromParameter(parameter) {\n    return getPathStringFromParameterPath(parameter.parameterPath, parameter.mapper);\n}\nexport function getPathStringFromParameterPath(parameterPath, mapper) {\n    var result;\n    if (typeof parameterPath === \"string\") {\n        result = parameterPath;\n    }\n    else if (Array.isArray(parameterPath)) {\n        result = parameterPath.join(\".\");\n    }\n    else {\n        result = mapper.serializedName;\n    }\n    return result;\n}\n//# sourceMappingURL=operationParameter.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { MapperType } from \"./serializer\";\nexport function isStreamOperation(operationSpec) {\n    var result = false;\n    for (var statusCode in operationSpec.responses) {\n        var operationResponse = operationSpec.responses[statusCode];\n        if (operationResponse.bodyMapper && operationResponse.bodyMapper.type.name === MapperType.Stream) {\n            result = true;\n            break;\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=operationSpec.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as xml2js from \"xml2js\";\nexport function stringifyXML(obj, opts) {\n    var builder = new xml2js.Builder({\n        explicitArray: false,\n        explicitCharkey: false,\n        rootName: (opts || {}).rootName,\n        renderOpts: {\n            pretty: false\n        }\n    });\n    return builder.buildObject(obj);\n}\nexport function parseXML(str) {\n    var xmlParser = new xml2js.Parser({\n        explicitArray: false,\n        explicitCharkey: false,\n        explicitRoot: false\n    });\n    return new Promise(function (resolve, reject) {\n        if (!str) {\n            reject(new Error(\"Document is empty\"));\n        }\n        else {\n            xmlParser.parseString(str, function (err, res) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(res);\n                }\n            });\n        }\n    });\n}\n//# sourceMappingURL=xml.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpPipelineLogLevel } from \"../httpPipelineLogLevel\";\nvar BaseRequestPolicy = /** @class */ (function () {\n    function BaseRequestPolicy(_nextPolicy, _options) {\n        this._nextPolicy = _nextPolicy;\n        this._options = _options;\n    }\n    /**\n     * Get whether or not a log with the provided log level should be logged.\n     * @param logLevel The log level of the log that will be logged.\n     * @returns Whether or not a log with the provided log level should be logged.\n     */\n    BaseRequestPolicy.prototype.shouldLog = function (logLevel) {\n        return this._options.shouldLog(logLevel);\n    };\n    /**\n     * Attempt to log the provided message to the provided logger. If no logger was provided or if\n     * the log level does not meat the logger's threshold, then nothing will be logged.\n     * @param logLevel The log level of this log.\n     * @param message The message of this log.\n     */\n    BaseRequestPolicy.prototype.log = function (logLevel, message) {\n        this._options.log(logLevel, message);\n    };\n    return BaseRequestPolicy;\n}());\nexport { BaseRequestPolicy };\n/**\n * Optional properties that can be used when creating a RequestPolicy.\n */\nvar RequestPolicyOptions = /** @class */ (function () {\n    function RequestPolicyOptions(_logger) {\n        this._logger = _logger;\n    }\n    /**\n     * Get whether or not a log with the provided log level should be logged.\n     * @param logLevel The log level of the log that will be logged.\n     * @returns Whether or not a log with the provided log level should be logged.\n     */\n    RequestPolicyOptions.prototype.shouldLog = function (logLevel) {\n        return !!this._logger &&\n            logLevel !== HttpPipelineLogLevel.OFF &&\n            logLevel <= this._logger.minimumLogLevel;\n    };\n    /**\n     * Attempt to log the provided message to the provided logger. If no logger was provided or if\n     * the log level does not meat the logger's threshold, then nothing will be logged.\n     * @param logLevel The log level of this log.\n     * @param message The message of this log.\n     */\n    RequestPolicyOptions.prototype.log = function (logLevel, message) {\n        if (this._logger && this.shouldLog(logLevel)) {\n            this._logger.log(logLevel, message);\n        }\n    };\n    return RequestPolicyOptions;\n}());\nexport { RequestPolicyOptions };\n//# sourceMappingURL=requestPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { isStreamOperation } from \"../operationSpec\";\nimport { RestError } from \"../restError\";\nimport { MapperType } from \"../serializer\";\nimport * as utils from \"../util/utils\";\nimport { parseXML } from \"../util/xml\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\n/**\n * Create a new serialization RequestPolicyCreator that will serialized HTTP request bodies as they\n * pass through the HTTP pipeline.\n */\nexport function deserializationPolicy(deserializationContentTypes) {\n    return {\n        create: function (nextPolicy, options) {\n            return new DeserializationPolicy(nextPolicy, deserializationContentTypes, options);\n        }\n    };\n}\nexport var defaultJsonContentTypes = [\"application/json\", \"text/json\"];\nexport var defaultXmlContentTypes = [\"application/xml\", \"application/atom+xml\"];\n/**\n * A RequestPolicy that will deserialize HTTP response bodies and headers as they pass through the\n * HTTP pipeline.\n */\nvar DeserializationPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(DeserializationPolicy, _super);\n    function DeserializationPolicy(nextPolicy, deserializationContentTypes, options) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.jsonContentTypes = deserializationContentTypes && deserializationContentTypes.json || defaultJsonContentTypes;\n        _this.xmlContentTypes = deserializationContentTypes && deserializationContentTypes.xml || defaultXmlContentTypes;\n        return _this;\n    }\n    DeserializationPolicy.prototype.sendRequest = function (request) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, this._nextPolicy.sendRequest(request).then(function (response) { return deserializeResponseBody(_this.jsonContentTypes, _this.xmlContentTypes, response); })];\n            });\n        });\n    };\n    return DeserializationPolicy;\n}(BaseRequestPolicy));\nexport { DeserializationPolicy };\nfunction getOperationResponse(parsedResponse) {\n    var result;\n    var request = parsedResponse.request;\n    var operationSpec = request.operationSpec;\n    if (operationSpec) {\n        var operationResponseGetter = request.operationResponseGetter;\n        if (!operationResponseGetter) {\n            result = operationSpec.responses[parsedResponse.status];\n        }\n        else {\n            result = operationResponseGetter(operationSpec, parsedResponse);\n        }\n    }\n    return result;\n}\nfunction shouldDeserializeResponse(parsedResponse) {\n    var shouldDeserialize = parsedResponse.request.shouldDeserialize;\n    var result;\n    if (shouldDeserialize === undefined) {\n        result = true;\n    }\n    else if (typeof shouldDeserialize === \"boolean\") {\n        result = shouldDeserialize;\n    }\n    else {\n        result = shouldDeserialize(parsedResponse);\n    }\n    return result;\n}\nexport function deserializeResponseBody(jsonContentTypes, xmlContentTypes, response) {\n    return parse(jsonContentTypes, xmlContentTypes, response).then(function (parsedResponse) {\n        var shouldDeserialize = shouldDeserializeResponse(parsedResponse);\n        if (shouldDeserialize) {\n            var operationSpec = parsedResponse.request.operationSpec;\n            if (operationSpec && operationSpec.responses) {\n                var statusCode = parsedResponse.status;\n                var expectedStatusCodes = Object.keys(operationSpec.responses);\n                var hasNoExpectedStatusCodes = (expectedStatusCodes.length === 0 || (expectedStatusCodes.length === 1 && expectedStatusCodes[0] === \"default\"));\n                var responseSpec = getOperationResponse(parsedResponse);\n                var isExpectedStatusCode = hasNoExpectedStatusCodes ? (200 <= statusCode && statusCode < 300) : !!responseSpec;\n                if (!isExpectedStatusCode) {\n                    var defaultResponseSpec = operationSpec.responses.default;\n                    if (defaultResponseSpec) {\n                        var initialErrorMessage = isStreamOperation(operationSpec)\n                            ? \"Unexpected status code: \" + statusCode\n                            : parsedResponse.bodyAsText;\n                        var error = new RestError(initialErrorMessage);\n                        error.statusCode = statusCode;\n                        error.request = utils.stripRequest(parsedResponse.request);\n                        error.response = utils.stripResponse(parsedResponse);\n                        var parsedErrorResponse = parsedResponse.parsedBody;\n                        try {\n                            if (parsedErrorResponse) {\n                                var defaultResponseBodyMapper = defaultResponseSpec.bodyMapper;\n                                if (defaultResponseBodyMapper && defaultResponseBodyMapper.serializedName === \"CloudError\") {\n                                    if (parsedErrorResponse.error) {\n                                        parsedErrorResponse = parsedErrorResponse.error;\n                                    }\n                                    if (parsedErrorResponse.code) {\n                                        error.code = parsedErrorResponse.code;\n                                    }\n                                    if (parsedErrorResponse.message) {\n                                        error.message = parsedErrorResponse.message;\n                                    }\n                                }\n                                else {\n                                    var internalError = parsedErrorResponse;\n                                    if (parsedErrorResponse.error) {\n                                        internalError = parsedErrorResponse.error;\n                                    }\n                                    error.code = internalError.code;\n                                    if (internalError.message) {\n                                        error.message = internalError.message;\n                                    }\n                                }\n                                if (defaultResponseBodyMapper) {\n                                    var valueToDeserialize = parsedErrorResponse;\n                                    if (operationSpec.isXML && defaultResponseBodyMapper.type.name === MapperType.Sequence) {\n                                        valueToDeserialize = typeof parsedErrorResponse === \"object\"\n                                            ? parsedErrorResponse[defaultResponseBodyMapper.xmlElementName]\n                                            : [];\n                                    }\n                                    error.body = operationSpec.serializer.deserialize(defaultResponseBodyMapper, valueToDeserialize, \"error.body\");\n                                }\n                            }\n                        }\n                        catch (defaultError) {\n                            error.message = \"Error \\\"\" + defaultError.message + \"\\\" occurred in deserializing the responseBody - \\\"\" + parsedResponse.bodyAsText + \"\\\" for the default response.\";\n                        }\n                        return Promise.reject(error);\n                    }\n                }\n                else if (responseSpec) {\n                    if (responseSpec.bodyMapper) {\n                        var valueToDeserialize = parsedResponse.parsedBody;\n                        if (operationSpec.isXML && responseSpec.bodyMapper.type.name === MapperType.Sequence) {\n                            valueToDeserialize = typeof valueToDeserialize === \"object\" ? valueToDeserialize[responseSpec.bodyMapper.xmlElementName] : [];\n                        }\n                        try {\n                            parsedResponse.parsedBody = operationSpec.serializer.deserialize(responseSpec.bodyMapper, valueToDeserialize, \"operationRes.parsedBody\");\n                        }\n                        catch (error) {\n                            var restError = new RestError(\"Error \" + error + \" occurred in deserializing the responseBody - \" + parsedResponse.bodyAsText);\n                            restError.request = utils.stripRequest(parsedResponse.request);\n                            restError.response = utils.stripResponse(parsedResponse);\n                            return Promise.reject(restError);\n                        }\n                    }\n                    else if (operationSpec.httpMethod === \"HEAD\") {\n                        // head methods never have a body, but we return a boolean to indicate presence/absence of the resource\n                        parsedResponse.parsedBody = response.status >= 200 && response.status < 300;\n                    }\n                    if (responseSpec.headersMapper) {\n                        parsedResponse.parsedHeaders = operationSpec.serializer.deserialize(responseSpec.headersMapper, parsedResponse.headers.rawHeaders(), \"operationRes.parsedHeaders\");\n                    }\n                }\n            }\n        }\n        return Promise.resolve(parsedResponse);\n    });\n}\nfunction parse(jsonContentTypes, xmlContentTypes, operationResponse) {\n    var errorHandler = function (err) {\n        var msg = \"Error \\\"\" + err + \"\\\" occurred while parsing the response body - \" + operationResponse.bodyAsText + \".\";\n        var errCode = err.code || RestError.PARSE_ERROR;\n        var e = new RestError(msg, errCode, operationResponse.status, operationResponse.request, operationResponse, operationResponse.bodyAsText);\n        return Promise.reject(e);\n    };\n    if (!operationResponse.request.streamResponseBody && operationResponse.bodyAsText) {\n        var text_1 = operationResponse.bodyAsText;\n        var contentType = operationResponse.headers.get(\"Content-Type\") || \"\";\n        var contentComponents = !contentType ? [] : contentType.split(\";\").map(function (component) { return component.toLowerCase(); });\n        if (contentComponents.length === 0 || contentComponents.some(function (component) { return jsonContentTypes.indexOf(component) !== -1; })) {\n            return new Promise(function (resolve) {\n                operationResponse.parsedBody = JSON.parse(text_1);\n                resolve(operationResponse);\n            }).catch(errorHandler);\n        }\n        else if (contentComponents.some(function (component) { return xmlContentTypes.indexOf(component) !== -1; })) {\n            return parseXML(text_1)\n                .then(function (body) {\n                operationResponse.parsedBody = body;\n                return operationResponse;\n            })\n                .catch(errorHandler);\n        }\n    }\n    return Promise.resolve(operationResponse);\n}\n//# sourceMappingURL=deserializationPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport * as utils from \"../util/utils\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nimport { RestError } from \"../restError\";\nexport function exponentialRetryPolicy(retryCount, retryInterval, minRetryInterval, maxRetryInterval) {\n    return {\n        create: function (nextPolicy, options) {\n            return new ExponentialRetryPolicy(nextPolicy, options, retryCount, retryInterval, minRetryInterval, maxRetryInterval);\n        }\n    };\n}\nvar DEFAULT_CLIENT_RETRY_INTERVAL = 1000 * 30;\nvar DEFAULT_CLIENT_RETRY_COUNT = 3;\nvar DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 90;\nvar DEFAULT_CLIENT_MIN_RETRY_INTERVAL = 1000 * 3;\n/**\n * @class\n * Instantiates a new \"ExponentialRetryPolicyFilter\" instance.\n */\nvar ExponentialRetryPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(ExponentialRetryPolicy, _super);\n    /**\n     * @constructor\n     * @param {RequestPolicy} nextPolicy The next RequestPolicy in the pipeline chain.\n     * @param {RequestPolicyOptions} options The options for this RequestPolicy.\n     * @param {number} [retryCount]        The client retry count.\n     * @param {number} [retryInterval]     The client retry interval, in milliseconds.\n     * @param {number} [minRetryInterval]  The minimum retry interval, in milliseconds.\n     * @param {number} [maxRetryInterval]  The maximum retry interval, in milliseconds.\n     */\n    function ExponentialRetryPolicy(nextPolicy, options, retryCount, retryInterval, minRetryInterval, maxRetryInterval) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        function isNumber(n) { return typeof n === \"number\"; }\n        _this.retryCount = isNumber(retryCount) ? retryCount : DEFAULT_CLIENT_RETRY_COUNT;\n        _this.retryInterval = isNumber(retryInterval) ? retryInterval : DEFAULT_CLIENT_RETRY_INTERVAL;\n        _this.minRetryInterval = isNumber(minRetryInterval) ? minRetryInterval : DEFAULT_CLIENT_MIN_RETRY_INTERVAL;\n        _this.maxRetryInterval = isNumber(maxRetryInterval) ? maxRetryInterval : DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n        return _this;\n    }\n    ExponentialRetryPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this._nextPolicy.sendRequest(request.clone())\n            .then(function (response) { return retry(_this, request, response); })\n            .catch(function (error) { return retry(_this, request, error.response, undefined, error); });\n    };\n    return ExponentialRetryPolicy;\n}(BaseRequestPolicy));\nexport { ExponentialRetryPolicy };\n/**\n * Determines if the operation should be retried and how long to wait until the next retry.\n *\n * @param {ExponentialRetryPolicy} policy The ExponentialRetryPolicy that this function is being called against.\n * @param {number} statusCode The HTTP status code.\n * @param {RetryData} retryData  The retry data.\n * @return {boolean} True if the operation qualifies for a retry; false otherwise.\n */\nfunction shouldRetry(policy, statusCode, retryData) {\n    if (statusCode == undefined || (statusCode < 500 && statusCode !== 408) || statusCode === 501 || statusCode === 505) {\n        return false;\n    }\n    var currentCount;\n    if (!retryData) {\n        throw new Error(\"retryData for the ExponentialRetryPolicyFilter cannot be null.\");\n    }\n    else {\n        currentCount = (retryData && retryData.retryCount);\n    }\n    return (currentCount < policy.retryCount);\n}\n/**\n * Updates the retry data for the next attempt.\n *\n * @param {ExponentialRetryPolicy} policy The ExponentialRetryPolicy that this function is being called against.\n * @param {RetryData} retryData  The retry data.\n * @param {RetryError} [err] The operation\"s error, if any.\n */\nfunction updateRetryData(policy, retryData, err) {\n    if (!retryData) {\n        retryData = {\n            retryCount: 0,\n            retryInterval: 0\n        };\n    }\n    if (err) {\n        if (retryData.error) {\n            err.innerError = retryData.error;\n        }\n        retryData.error = err;\n    }\n    // Adjust retry count\n    retryData.retryCount++;\n    // Adjust retry interval\n    var incrementDelta = Math.pow(2, retryData.retryCount) - 1;\n    var boundedRandDelta = policy.retryInterval * 0.8 +\n        Math.floor(Math.random() * (policy.retryInterval * 1.2 - policy.retryInterval * 0.8));\n    incrementDelta *= boundedRandDelta;\n    retryData.retryInterval = Math.min(policy.minRetryInterval + incrementDelta, policy.maxRetryInterval);\n    return retryData;\n}\nfunction retry(policy, request, response, retryData, requestError) {\n    retryData = updateRetryData(policy, retryData, requestError);\n    var isAborted = request.abortSignal && request.abortSignal.aborted;\n    if (!isAborted && shouldRetry(policy, response && response.status, retryData)) {\n        return utils.delay(retryData.retryInterval)\n            .then(function () { return policy._nextPolicy.sendRequest(request.clone()); })\n            .then(function (res) { return retry(policy, request, res, retryData, undefined); })\n            .catch(function (err) { return retry(policy, request, response, retryData, err); });\n    }\n    else if (isAborted || requestError || !response) {\n        // If the operation failed in the end, return all errors instead of just the last one\n        var err = retryData.error ||\n            new RestError(\"Failed to send the request.\", RestError.REQUEST_SEND_ERROR, response && response.status, response && response.request, response);\n        return Promise.reject(err);\n    }\n    else {\n        return Promise.resolve(response);\n    }\n}\n//# sourceMappingURL=exponentialRetryPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport * as utils from \"../util/utils\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function generateClientRequestIdPolicy(requestIdHeaderName) {\n    if (requestIdHeaderName === void 0) { requestIdHeaderName = \"x-ms-client-request-id\"; }\n    return {\n        create: function (nextPolicy, options) {\n            return new GenerateClientRequestIdPolicy(nextPolicy, options, requestIdHeaderName);\n        }\n    };\n}\nvar GenerateClientRequestIdPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(GenerateClientRequestIdPolicy, _super);\n    function GenerateClientRequestIdPolicy(nextPolicy, options, _requestIdHeaderName) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this._requestIdHeaderName = _requestIdHeaderName;\n        return _this;\n    }\n    GenerateClientRequestIdPolicy.prototype.sendRequest = function (request) {\n        if (!request.headers.contains(this._requestIdHeaderName)) {\n            request.headers.set(this._requestIdHeaderName, utils.generateUuid());\n        }\n        return this._nextPolicy.sendRequest(request);\n    };\n    return GenerateClientRequestIdPolicy;\n}(BaseRequestPolicy));\nexport { GenerateClientRequestIdPolicy };\n//# sourceMappingURL=generateClientRequestIdPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport * as os from \"os\";\nimport { HttpHeaders } from \"../httpHeaders\";\nimport { Constants } from \"../util/constants\";\nimport { isNode } from \"../util/utils\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nvar HeaderConstants = Constants.HeaderConstants;\nexport function msRestUserAgentPolicy(userAgentInfo) {\n    return {\n        create: function (nextPolicy, options) {\n            return new MsRestUserAgentPolicy(nextPolicy, options, userAgentInfo);\n        }\n    };\n}\nvar MsRestUserAgentPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(MsRestUserAgentPolicy, _super);\n    function MsRestUserAgentPolicy(nextPolicy, options, userAgentInfo) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.userAgentInfo = userAgentInfo;\n        return _this;\n    }\n    MsRestUserAgentPolicy.prototype.tagRequest = function (request) {\n        if (isNode) {\n            var osInfo = \"(\" + os.arch() + \"-\" + os.type() + \"-\" + os.release() + \")\";\n            if (this.userAgentInfo.indexOf(osInfo) === -1) {\n                this.userAgentInfo.unshift(osInfo);\n            }\n            var runtimeInfo = \"Node/\" + process.version;\n            if (this.userAgentInfo.indexOf(runtimeInfo) === -1) {\n                this.userAgentInfo.unshift(runtimeInfo);\n            }\n            var nodeSDKSignature = \"azure-sdk-for-js\";\n            if (this.userAgentInfo.indexOf(nodeSDKSignature) === -1) {\n                var azureRuntime = \"ms-rest-azure-js\";\n                var insertIndex = this.userAgentInfo.indexOf(azureRuntime);\n                // insert after azureRuntime, otherwise, insert last.\n                insertIndex = insertIndex < 0 ? this.userAgentInfo.length : insertIndex + 1;\n                this.userAgentInfo.splice(insertIndex, 0, nodeSDKSignature);\n            }\n            if (!request.headers) {\n                request.headers = new HttpHeaders();\n            }\n            request.headers.set(HeaderConstants.USER_AGENT, this.userAgentInfo.join(\" \"));\n        }\n    };\n    MsRestUserAgentPolicy.prototype.addUserAgentHeader = function (request) {\n        if (!request.headers) {\n            request.headers = new HttpHeaders();\n        }\n        if (!request.headers.get(HeaderConstants.USER_AGENT)) {\n            this.tagRequest(request);\n        }\n    };\n    MsRestUserAgentPolicy.prototype.sendRequest = function (request) {\n        this.addUserAgentHeader(request);\n        return this._nextPolicy.sendRequest(request);\n    };\n    return MsRestUserAgentPolicy;\n}(BaseRequestPolicy));\nexport { MsRestUserAgentPolicy };\n//# sourceMappingURL=msRestUserAgentPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { replaceAll } from \"./util/utils\";\n/**\n * A class that handles the query portion of a URLBuilder.\n */\nvar URLQuery = /** @class */ (function () {\n    function URLQuery() {\n        this._rawQuery = {};\n    }\n    /**\n     * Get whether or not there any query parameters in this URLQuery.\n     */\n    URLQuery.prototype.any = function () {\n        return Object.keys(this._rawQuery).length > 0;\n    };\n    /**\n     * Set a query parameter with the provided name and value. If the parameterValue is undefined or\n     * empty, then this will attempt to remove an existing query parameter with the provided\n     * parameterName.\n     */\n    URLQuery.prototype.set = function (parameterName, parameterValue) {\n        if (parameterName) {\n            if (parameterValue != undefined) {\n                var newValue = Array.isArray(parameterValue) ? parameterValue : parameterValue.toString();\n                this._rawQuery[parameterName] = newValue;\n            }\n            else {\n                delete this._rawQuery[parameterName];\n            }\n        }\n    };\n    /**\n     * Get the value of the query parameter with the provided name. If no parameter exists with the\n     * provided parameter name, then undefined will be returned.\n     */\n    URLQuery.prototype.get = function (parameterName) {\n        return parameterName ? this._rawQuery[parameterName] : undefined;\n    };\n    /**\n     * Get the string representation of this query. The return value will not start with a \"?\".\n     */\n    URLQuery.prototype.toString = function () {\n        var result = \"\";\n        for (var parameterName in this._rawQuery) {\n            if (result) {\n                result += \"&\";\n            }\n            var parameterValue = this._rawQuery[parameterName];\n            if (Array.isArray(parameterValue)) {\n                var parameterStrings = [];\n                for (var _i = 0, parameterValue_1 = parameterValue; _i < parameterValue_1.length; _i++) {\n                    var parameterValueElement = parameterValue_1[_i];\n                    parameterStrings.push(parameterName + \"=\" + parameterValueElement);\n                }\n                result += parameterStrings.join(\"&\");\n            }\n            else {\n                result += parameterName + \"=\" + parameterValue;\n            }\n        }\n        return result;\n    };\n    /**\n     * Parse a URLQuery from the provided text.\n     */\n    URLQuery.parse = function (text) {\n        var result = new URLQuery();\n        if (text) {\n            if (text.startsWith(\"?\")) {\n                text = text.substring(1);\n            }\n            var currentState = 0 /* parameterName */;\n            var parameterName = \"\";\n            var parameterValue = \"\";\n            for (var i = 0; i < text.length; ++i) {\n                var currentCharacter = text[i];\n                switch (currentState) {\n                    case 0 /* parameterName */:\n                        switch (currentCharacter) {\n                            case \"=\":\n                                currentState = 1 /* parameterValue */;\n                                break;\n                            case \"&\":\n                                parameterName = \"\";\n                                parameterValue = \"\";\n                                break;\n                            default:\n                                parameterName += currentCharacter;\n                                break;\n                        }\n                        break;\n                    case 1 /* parameterValue */:\n                        switch (currentCharacter) {\n                            case \"=\":\n                                parameterName = \"\";\n                                parameterValue = \"\";\n                                currentState = 2 /* invalid */;\n                                break;\n                            case \"&\":\n                                result.set(parameterName, parameterValue);\n                                parameterName = \"\";\n                                parameterValue = \"\";\n                                currentState = 0 /* parameterName */;\n                                break;\n                            default:\n                                parameterValue += currentCharacter;\n                                break;\n                        }\n                        break;\n                    case 2 /* invalid */:\n                        if (currentCharacter === \"&\") {\n                            currentState = 0 /* parameterName */;\n                        }\n                        break;\n                    default:\n                        throw new Error(\"Unrecognized URLQuery parse state: \" + currentState);\n                }\n            }\n            if (currentState === 1 /* parameterValue */) {\n                result.set(parameterName, parameterValue);\n            }\n        }\n        return result;\n    };\n    return URLQuery;\n}());\nexport { URLQuery };\n/**\n * A class that handles creating, modifying, and parsing URLs.\n */\nvar URLBuilder = /** @class */ (function () {\n    function URLBuilder() {\n    }\n    /**\n     * Set the scheme/protocol for this URL. If the provided scheme contains other parts of a URL\n     * (such as a host, port, path, or query), those parts will be added to this URL as well.\n     */\n    URLBuilder.prototype.setScheme = function (scheme) {\n        if (!scheme) {\n            this._scheme = undefined;\n        }\n        else {\n            this.set(scheme, 0 /* SCHEME */);\n        }\n    };\n    /**\n     * Get the scheme that has been set in this URL.\n     */\n    URLBuilder.prototype.getScheme = function () {\n        return this._scheme;\n    };\n    /**\n     * Set the host for this URL. If the provided host contains other parts of a URL (such as a\n     * port, path, or query), those parts will be added to this URL as well.\n     */\n    URLBuilder.prototype.setHost = function (host) {\n        if (!host) {\n            this._host = undefined;\n        }\n        else {\n            this.set(host, 1 /* SCHEME_OR_HOST */);\n        }\n    };\n    /**\n     * Get the host that has been set in this URL.\n     */\n    URLBuilder.prototype.getHost = function () {\n        return this._host;\n    };\n    /**\n     * Set the port for this URL. If the provided port contains other parts of a URL (such as a\n     * path or query), those parts will be added to this URL as well.\n     */\n    URLBuilder.prototype.setPort = function (port) {\n        if (port == undefined || port === \"\") {\n            this._port = undefined;\n        }\n        else {\n            this.set(port.toString(), 3 /* PORT */);\n        }\n    };\n    /**\n     * Get the port that has been set in this URL.\n     */\n    URLBuilder.prototype.getPort = function () {\n        return this._port;\n    };\n    /**\n     * Set the path for this URL. If the provided path contains a query, then it will be added to\n     * this URL as well.\n     */\n    URLBuilder.prototype.setPath = function (path) {\n        if (!path) {\n            this._path = undefined;\n        }\n        else {\n            if (path.indexOf(\"://\") !== -1) {\n                this.set(path, 0 /* SCHEME */);\n            }\n            else {\n                this.set(path, 4 /* PATH */);\n            }\n        }\n    };\n    /**\n     * Append the provided path to this URL's existing path. If the provided path contains a query,\n     * then it will be added to this URL as well.\n     */\n    URLBuilder.prototype.appendPath = function (path) {\n        if (path) {\n            var currentPath = this.getPath();\n            if (currentPath) {\n                if (!currentPath.endsWith(\"/\")) {\n                    currentPath += \"/\";\n                }\n                if (path.startsWith(\"/\")) {\n                    path = path.substring(1);\n                }\n                path = currentPath + path;\n            }\n            this.set(path, 4 /* PATH */);\n        }\n    };\n    /**\n     * Get the path that has been set in this URL.\n     */\n    URLBuilder.prototype.getPath = function () {\n        return this._path;\n    };\n    /**\n     * Set the query in this URL.\n     */\n    URLBuilder.prototype.setQuery = function (query) {\n        if (!query) {\n            this._query = undefined;\n        }\n        else {\n            this._query = URLQuery.parse(query);\n        }\n    };\n    /**\n     * Set a query parameter with the provided name and value in this URL's query. If the provided\n     * query parameter value is undefined or empty, then the query parameter will be removed if it\n     * existed.\n     */\n    URLBuilder.prototype.setQueryParameter = function (queryParameterName, queryParameterValue) {\n        if (queryParameterName) {\n            if (!this._query) {\n                this._query = new URLQuery();\n            }\n            this._query.set(queryParameterName, queryParameterValue);\n        }\n    };\n    /**\n     * Get the value of the query parameter with the provided query parameter name. If no query\n     * parameter exists with the provided name, then undefined will be returned.\n     */\n    URLBuilder.prototype.getQueryParameterValue = function (queryParameterName) {\n        return this._query ? this._query.get(queryParameterName) : undefined;\n    };\n    /**\n     * Get the query in this URL.\n     */\n    URLBuilder.prototype.getQuery = function () {\n        return this._query ? this._query.toString() : undefined;\n    };\n    /**\n     * Set the parts of this URL by parsing the provided text using the provided startState.\n     */\n    URLBuilder.prototype.set = function (text, startState) {\n        var tokenizer = new URLTokenizer(text, startState);\n        while (tokenizer.next()) {\n            var token = tokenizer.current();\n            if (token) {\n                switch (token.type) {\n                    case 0 /* SCHEME */:\n                        this._scheme = token.text || undefined;\n                        break;\n                    case 1 /* HOST */:\n                        this._host = token.text || undefined;\n                        break;\n                    case 2 /* PORT */:\n                        this._port = token.text || undefined;\n                        break;\n                    case 3 /* PATH */:\n                        var tokenPath = token.text || undefined;\n                        if (!this._path || this._path === \"/\" || tokenPath !== \"/\") {\n                            this._path = tokenPath;\n                        }\n                        break;\n                    case 4 /* QUERY */:\n                        this._query = URLQuery.parse(token.text);\n                        break;\n                    default:\n                        throw new Error(\"Unrecognized URLTokenType: \" + token.type);\n                }\n            }\n        }\n    };\n    URLBuilder.prototype.toString = function () {\n        var result = \"\";\n        if (this._scheme) {\n            result += this._scheme + \"://\";\n        }\n        if (this._host) {\n            result += this._host;\n        }\n        if (this._port) {\n            result += \":\" + this._port;\n        }\n        if (this._path) {\n            if (!this._path.startsWith(\"/\")) {\n                result += \"/\";\n            }\n            result += this._path;\n        }\n        if (this._query && this._query.any()) {\n            result += \"?\" + this._query.toString();\n        }\n        return result;\n    };\n    /**\n     * If the provided searchValue is found in this URLBuilder, then replace it with the provided\n     * replaceValue.\n     */\n    URLBuilder.prototype.replaceAll = function (searchValue, replaceValue) {\n        if (searchValue) {\n            this.setScheme(replaceAll(this.getScheme(), searchValue, replaceValue));\n            this.setHost(replaceAll(this.getHost(), searchValue, replaceValue));\n            this.setPort(replaceAll(this.getPort(), searchValue, replaceValue));\n            this.setPath(replaceAll(this.getPath(), searchValue, replaceValue));\n            this.setQuery(replaceAll(this.getQuery(), searchValue, replaceValue));\n        }\n    };\n    URLBuilder.parse = function (text) {\n        var result = new URLBuilder();\n        result.set(text, 1 /* SCHEME_OR_HOST */);\n        return result;\n    };\n    return URLBuilder;\n}());\nexport { URLBuilder };\nvar URLToken = /** @class */ (function () {\n    function URLToken(text, type) {\n        this.text = text;\n        this.type = type;\n    }\n    URLToken.scheme = function (text) {\n        return new URLToken(text, 0 /* SCHEME */);\n    };\n    URLToken.host = function (text) {\n        return new URLToken(text, 1 /* HOST */);\n    };\n    URLToken.port = function (text) {\n        return new URLToken(text, 2 /* PORT */);\n    };\n    URLToken.path = function (text) {\n        return new URLToken(text, 3 /* PATH */);\n    };\n    URLToken.query = function (text) {\n        return new URLToken(text, 4 /* QUERY */);\n    };\n    return URLToken;\n}());\nexport { URLToken };\n/**\n * Get whether or not the provided character (single character string) is an alphanumeric (letter or\n * digit) character.\n */\nexport function isAlphaNumericCharacter(character) {\n    var characterCode = character.charCodeAt(0);\n    return (48 /* '0' */ <= characterCode && characterCode <= 57 /* '9' */) ||\n        (65 /* 'A' */ <= characterCode && characterCode <= 90 /* 'Z' */) ||\n        (97 /* 'a' */ <= characterCode && characterCode <= 122 /* 'z' */);\n}\n/**\n * A class that tokenizes URL strings.\n */\nvar URLTokenizer = /** @class */ (function () {\n    function URLTokenizer(_text, state) {\n        this._text = _text;\n        this._textLength = _text ? _text.length : 0;\n        this._currentState = state != undefined ? state : 1 /* SCHEME_OR_HOST */;\n        this._currentIndex = 0;\n    }\n    /**\n     * Get the current URLToken this URLTokenizer is pointing at, or undefined if the URLTokenizer\n     * hasn't started or has finished tokenizing.\n     */\n    URLTokenizer.prototype.current = function () {\n        return this._currentToken;\n    };\n    /**\n     * Advance to the next URLToken and return whether or not a URLToken was found.\n     */\n    URLTokenizer.prototype.next = function () {\n        if (!hasCurrentCharacter(this)) {\n            this._currentToken = undefined;\n        }\n        else {\n            switch (this._currentState) {\n                case 0 /* SCHEME */:\n                    nextScheme(this);\n                    break;\n                case 1 /* SCHEME_OR_HOST */:\n                    nextSchemeOrHost(this);\n                    break;\n                case 2 /* HOST */:\n                    nextHost(this);\n                    break;\n                case 3 /* PORT */:\n                    nextPort(this);\n                    break;\n                case 4 /* PATH */:\n                    nextPath(this);\n                    break;\n                case 5 /* QUERY */:\n                    nextQuery(this);\n                    break;\n                default:\n                    throw new Error(\"Unrecognized URLTokenizerState: \" + this._currentState);\n            }\n        }\n        return !!this._currentToken;\n    };\n    return URLTokenizer;\n}());\nexport { URLTokenizer };\n/**\n * Read the remaining characters from this Tokenizer's character stream.\n */\nfunction readRemaining(tokenizer) {\n    var result = \"\";\n    if (tokenizer._currentIndex < tokenizer._textLength) {\n        result = tokenizer._text.substring(tokenizer._currentIndex);\n        tokenizer._currentIndex = tokenizer._textLength;\n    }\n    return result;\n}\n/**\n * Whether or not this URLTokenizer has a current character.\n */\nfunction hasCurrentCharacter(tokenizer) {\n    return tokenizer._currentIndex < tokenizer._textLength;\n}\n/**\n * Get the character in the text string at the current index.\n */\nfunction getCurrentCharacter(tokenizer) {\n    return tokenizer._text[tokenizer._currentIndex];\n}\n/**\n * Advance to the character in text that is \"step\" characters ahead. If no step value is provided,\n * then step will default to 1.\n */\nfunction nextCharacter(tokenizer, step) {\n    if (hasCurrentCharacter(tokenizer)) {\n        if (!step) {\n            step = 1;\n        }\n        tokenizer._currentIndex += step;\n    }\n}\n/**\n * Starting with the current character, peek \"charactersToPeek\" number of characters ahead in this\n * Tokenizer's stream of characters.\n */\nfunction peekCharacters(tokenizer, charactersToPeek) {\n    var endIndex = tokenizer._currentIndex + charactersToPeek;\n    if (tokenizer._textLength < endIndex) {\n        endIndex = tokenizer._textLength;\n    }\n    return tokenizer._text.substring(tokenizer._currentIndex, endIndex);\n}\n/**\n * Read characters from this Tokenizer until the end of the stream or until the provided condition\n * is false when provided the current character.\n */\nfunction readWhile(tokenizer, condition) {\n    var result = \"\";\n    while (hasCurrentCharacter(tokenizer)) {\n        var currentCharacter = getCurrentCharacter(tokenizer);\n        if (!condition(currentCharacter)) {\n            break;\n        }\n        else {\n            result += currentCharacter;\n            nextCharacter(tokenizer);\n        }\n    }\n    return result;\n}\n/**\n * Read characters from this Tokenizer until a non-alphanumeric character or the end of the\n * character stream is reached.\n */\nfunction readWhileLetterOrDigit(tokenizer) {\n    return readWhile(tokenizer, function (character) { return isAlphaNumericCharacter(character); });\n}\n/**\n * Read characters from this Tokenizer until one of the provided terminating characters is read or\n * the end of the character stream is reached.\n */\nfunction readUntilCharacter(tokenizer) {\n    var terminatingCharacters = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        terminatingCharacters[_i - 1] = arguments[_i];\n    }\n    return readWhile(tokenizer, function (character) { return terminatingCharacters.indexOf(character) === -1; });\n}\nfunction nextScheme(tokenizer) {\n    var scheme = readWhileLetterOrDigit(tokenizer);\n    tokenizer._currentToken = URLToken.scheme(scheme);\n    if (!hasCurrentCharacter(tokenizer)) {\n        tokenizer._currentState = 6 /* DONE */;\n    }\n    else {\n        tokenizer._currentState = 2 /* HOST */;\n    }\n}\nfunction nextSchemeOrHost(tokenizer) {\n    var schemeOrHost = readUntilCharacter(tokenizer, \":\", \"/\", \"?\");\n    if (!hasCurrentCharacter(tokenizer)) {\n        tokenizer._currentToken = URLToken.host(schemeOrHost);\n        tokenizer._currentState = 6 /* DONE */;\n    }\n    else if (getCurrentCharacter(tokenizer) === \":\") {\n        if (peekCharacters(tokenizer, 3) === \"://\") {\n            tokenizer._currentToken = URLToken.scheme(schemeOrHost);\n            tokenizer._currentState = 2 /* HOST */;\n        }\n        else {\n            tokenizer._currentToken = URLToken.host(schemeOrHost);\n            tokenizer._currentState = 3 /* PORT */;\n        }\n    }\n    else {\n        tokenizer._currentToken = URLToken.host(schemeOrHost);\n        if (getCurrentCharacter(tokenizer) === \"/\") {\n            tokenizer._currentState = 4 /* PATH */;\n        }\n        else {\n            tokenizer._currentState = 5 /* QUERY */;\n        }\n    }\n}\nfunction nextHost(tokenizer) {\n    if (peekCharacters(tokenizer, 3) === \"://\") {\n        nextCharacter(tokenizer, 3);\n    }\n    var host = readUntilCharacter(tokenizer, \":\", \"/\", \"?\");\n    tokenizer._currentToken = URLToken.host(host);\n    if (!hasCurrentCharacter(tokenizer)) {\n        tokenizer._currentState = 6 /* DONE */;\n    }\n    else if (getCurrentCharacter(tokenizer) === \":\") {\n        tokenizer._currentState = 3 /* PORT */;\n    }\n    else if (getCurrentCharacter(tokenizer) === \"/\") {\n        tokenizer._currentState = 4 /* PATH */;\n    }\n    else {\n        tokenizer._currentState = 5 /* QUERY */;\n    }\n}\nfunction nextPort(tokenizer) {\n    if (getCurrentCharacter(tokenizer) === \":\") {\n        nextCharacter(tokenizer);\n    }\n    var port = readUntilCharacter(tokenizer, \"/\", \"?\");\n    tokenizer._currentToken = URLToken.port(port);\n    if (!hasCurrentCharacter(tokenizer)) {\n        tokenizer._currentState = 6 /* DONE */;\n    }\n    else if (getCurrentCharacter(tokenizer) === \"/\") {\n        tokenizer._currentState = 4 /* PATH */;\n    }\n    else {\n        tokenizer._currentState = 5 /* QUERY */;\n    }\n}\nfunction nextPath(tokenizer) {\n    var path = readUntilCharacter(tokenizer, \"?\");\n    tokenizer._currentToken = URLToken.path(path);\n    if (!hasCurrentCharacter(tokenizer)) {\n        tokenizer._currentState = 6 /* DONE */;\n    }\n    else {\n        tokenizer._currentState = 5 /* QUERY */;\n    }\n}\nfunction nextQuery(tokenizer) {\n    if (getCurrentCharacter(tokenizer) === \"?\") {\n        nextCharacter(tokenizer);\n    }\n    var query = readRemaining(tokenizer);\n    tokenizer._currentToken = URLToken.query(query);\n    tokenizer._currentState = 6 /* DONE */;\n}\n//# sourceMappingURL=url.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { URLBuilder } from \"../url\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function redirectPolicy(maximumRetries) {\n    if (maximumRetries === void 0) { maximumRetries = 20; }\n    return {\n        create: function (nextPolicy, options) {\n            return new RedirectPolicy(nextPolicy, options, maximumRetries);\n        }\n    };\n}\nvar RedirectPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(RedirectPolicy, _super);\n    function RedirectPolicy(nextPolicy, options, maxRetries) {\n        if (maxRetries === void 0) { maxRetries = 20; }\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.maxRetries = maxRetries;\n        return _this;\n    }\n    RedirectPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this._nextPolicy.sendRequest(request).then(function (response) { return handleRedirect(_this, response, 0); });\n    };\n    return RedirectPolicy;\n}(BaseRequestPolicy));\nexport { RedirectPolicy };\nfunction handleRedirect(policy, response, currentRetries) {\n    var request = response.request, status = response.status;\n    var locationHeader = response.headers.get(\"location\");\n    if (locationHeader &&\n        (status === 300 || status === 307 || (status === 303 && request.method === \"POST\")) &&\n        (!policy.maxRetries || currentRetries < policy.maxRetries)) {\n        var builder = URLBuilder.parse(request.url);\n        builder.setPath(locationHeader);\n        request.url = builder.toString();\n        // POST request with Status code 303 should be converted into a\n        // redirected GET request if the redirect url is present in the location header\n        if (status === 303) {\n            request.method = \"GET\";\n        }\n        return policy._nextPolicy.sendRequest(request)\n            .then(function (res) { return handleRedirect(policy, res, currentRetries + 1); });\n    }\n    return Promise.resolve(response);\n}\n//# sourceMappingURL=redirectPolicy.js.map","import * as tslib_1 from \"tslib\";\nimport * as utils from \"../util/utils\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function rpRegistrationPolicy(retryTimeout) {\n    if (retryTimeout === void 0) { retryTimeout = 30; }\n    return {\n        create: function (nextPolicy, options) {\n            return new RPRegistrationPolicy(nextPolicy, options, retryTimeout);\n        }\n    };\n}\nvar RPRegistrationPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(RPRegistrationPolicy, _super);\n    function RPRegistrationPolicy(nextPolicy, options, _retryTimeout) {\n        if (_retryTimeout === void 0) { _retryTimeout = 30; }\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this._retryTimeout = _retryTimeout;\n        return _this;\n    }\n    RPRegistrationPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this._nextPolicy.sendRequest(request.clone())\n            .then(function (response) { return registerIfNeeded(_this, request, response); });\n    };\n    return RPRegistrationPolicy;\n}(BaseRequestPolicy));\nexport { RPRegistrationPolicy };\nfunction registerIfNeeded(policy, request, response) {\n    if (response.status === 409) {\n        var rpName = checkRPNotRegisteredError(response.bodyAsText);\n        if (rpName) {\n            var urlPrefix = extractSubscriptionUrl(request.url);\n            return registerRP(policy, urlPrefix, rpName, request)\n                // Autoregistration of ${provider} failed for some reason. We will not return this error\n                // instead will return the initial response with 409 status code back to the user.\n                // do nothing here as we are returning the original response at the end of this method.\n                .catch(function () { return false; })\n                .then(function (registrationStatus) {\n                if (registrationStatus) {\n                    // Retry the original request. We have to change the x-ms-client-request-id\n                    // otherwise Azure endpoint will return the initial 409 (cached) response.\n                    request.headers.set(\"x-ms-client-request-id\", utils.generateUuid());\n                    return policy._nextPolicy.sendRequest(request.clone());\n                }\n                return response;\n            });\n        }\n    }\n    return Promise.resolve(response);\n}\n/**\n * Reuses the headers of the original request and url (if specified).\n * @param {WebResource} originalRequest The original request\n * @param {boolean} reuseUrlToo Should the url from the original request be reused as well. Default false.\n * @returns {object} A new request object with desired headers.\n */\nfunction getRequestEssentials(originalRequest, reuseUrlToo) {\n    if (reuseUrlToo === void 0) { reuseUrlToo = false; }\n    var reqOptions = {\n        headers: {}\n    };\n    if (reuseUrlToo) {\n        reqOptions.url = originalRequest.url;\n    }\n    // Copy over the original request headers. This will get us the auth token and other useful stuff from\n    // the original request header. Thus making it easier to make requests from this filter.\n    for (var h in originalRequest.headers) {\n        reqOptions.headers.set(h, originalRequest.headers.get(h));\n    }\n    // We have to change the x-ms-client-request-id otherwise Azure endpoint\n    // will return the initial 409 (cached) response.\n    reqOptions.headers[\"x-ms-client-request-id\"] = utils.generateUuid();\n    // Set content-type to application/json\n    reqOptions.headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n    return reqOptions;\n}\n/**\n * Validates the error code and message associated with 409 response status code. If it matches to that of\n * RP not registered then it returns the name of the RP else returns undefined.\n * @param {string} body The response body received after making the original request.\n * @returns {string} The name of the RP if condition is satisfied else undefined.\n */\nfunction checkRPNotRegisteredError(body) {\n    var result, responseBody;\n    if (body) {\n        try {\n            responseBody = JSON.parse(body);\n        }\n        catch (err) {\n            // do nothing;\n        }\n        if (responseBody && responseBody.error && responseBody.error.message &&\n            responseBody.error.code && responseBody.error.code === \"MissingSubscriptionRegistration\") {\n            var matchRes = responseBody.error.message.match(/.*'(.*)'/i);\n            if (matchRes) {\n                result = matchRes.pop();\n            }\n        }\n    }\n    return result;\n}\n/**\n * Extracts the first part of the URL, just after subscription:\n * https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/\n * @param {string} url The original request url\n * @returns {string} The url prefix as explained above.\n */\nfunction extractSubscriptionUrl(url) {\n    var result;\n    var matchRes = url.match(/.*\\/subscriptions\\/[a-f0-9-]+\\//ig);\n    if (matchRes && matchRes[0]) {\n        result = matchRes[0];\n    }\n    else {\n        throw new Error(\"Unable to extract subscriptionId from the given url - \" + url + \".\");\n    }\n    return result;\n}\n/**\n * Registers the given provider.\n * @param {RPRegistrationPolicy} policy The RPRegistrationPolicy this function is being called against.\n * @param {string} urlPrefix https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/\n * @param {string} provider The provider name to be registered.\n * @param {WebResource} originalRequest The original request sent by the user that returned a 409 response\n * with a message that the provider is not registered.\n * @param {registrationCallback} callback The callback that handles the RP registration\n */\nfunction registerRP(policy, urlPrefix, provider, originalRequest) {\n    var postUrl = urlPrefix + \"providers/\" + provider + \"/register?api-version=2016-02-01\";\n    var getUrl = urlPrefix + \"providers/\" + provider + \"?api-version=2016-02-01\";\n    var reqOptions = getRequestEssentials(originalRequest);\n    reqOptions.method = \"POST\";\n    reqOptions.url = postUrl;\n    return policy._nextPolicy.sendRequest(reqOptions)\n        .then(function (response) {\n        if (response.status !== 200) {\n            throw new Error(\"Autoregistration of \" + provider + \" failed. Please try registering manually.\");\n        }\n        return getRegistrationStatus(policy, getUrl, originalRequest);\n    });\n}\n/**\n * Polls the registration status of the provider that was registered. Polling happens at an interval of 30 seconds.\n * Polling will happen till the registrationState property of the response body is \"Registered\".\n * @param {RPRegistrationPolicy} policy The RPRegistrationPolicy this function is being called against.\n * @param {string} url The request url for polling\n * @param {WebResource} originalRequest The original request sent by the user that returned a 409 response\n * with a message that the provider is not registered.\n * @returns {Promise<boolean>} True if RP Registration is successful.\n */\nfunction getRegistrationStatus(policy, url, originalRequest) {\n    var reqOptions = getRequestEssentials(originalRequest);\n    reqOptions.url = url;\n    reqOptions.method = \"GET\";\n    return policy._nextPolicy.sendRequest(reqOptions).then(function (res) {\n        var obj = res.parsedBody;\n        if (res.parsedBody && obj.registrationState && obj.registrationState === \"Registered\") {\n            return true;\n        }\n        else {\n            return utils.delay(policy._retryTimeout * 1000).then(function () { return getRegistrationStatus(policy, url, originalRequest); });\n        }\n    });\n}\n//# sourceMappingURL=rpRegistrationPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function signingPolicy(authenticationProvider) {\n    return {\n        create: function (nextPolicy, options) {\n            return new SigningPolicy(nextPolicy, options, authenticationProvider);\n        }\n    };\n}\nvar SigningPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(SigningPolicy, _super);\n    function SigningPolicy(nextPolicy, options, authenticationProvider) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.authenticationProvider = authenticationProvider;\n        return _this;\n    }\n    SigningPolicy.prototype.signRequest = function (request) {\n        return this.authenticationProvider.signRequest(request);\n    };\n    SigningPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this.signRequest(request).then(function (nextRequest) { return _this._nextPolicy.sendRequest(nextRequest); });\n    };\n    return SigningPolicy;\n}(BaseRequestPolicy));\nexport { SigningPolicy };\n//# sourceMappingURL=signingPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport * as utils from \"../util/utils\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function systemErrorRetryPolicy(retryCount, retryInterval, minRetryInterval, maxRetryInterval) {\n    return {\n        create: function (nextPolicy, options) {\n            return new SystemErrorRetryPolicy(nextPolicy, options, retryCount, retryInterval, minRetryInterval, maxRetryInterval);\n        }\n    };\n}\n/**\n * @class\n * Instantiates a new \"ExponentialRetryPolicyFilter\" instance.\n *\n * @constructor\n * @param {number} retryCount        The client retry count.\n * @param {number} retryInterval     The client retry interval, in milliseconds.\n * @param {number} minRetryInterval  The minimum retry interval, in milliseconds.\n * @param {number} maxRetryInterval  The maximum retry interval, in milliseconds.\n */\nvar SystemErrorRetryPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(SystemErrorRetryPolicy, _super);\n    function SystemErrorRetryPolicy(nextPolicy, options, retryCount, retryInterval, minRetryInterval, maxRetryInterval) {\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.DEFAULT_CLIENT_RETRY_INTERVAL = 1000 * 30;\n        _this.DEFAULT_CLIENT_RETRY_COUNT = 3;\n        _this.DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 90;\n        _this.DEFAULT_CLIENT_MIN_RETRY_INTERVAL = 1000 * 3;\n        _this.retryCount = typeof retryCount === \"number\" ? retryCount : _this.DEFAULT_CLIENT_RETRY_COUNT;\n        _this.retryInterval = typeof retryInterval === \"number\" ? retryInterval : _this.DEFAULT_CLIENT_RETRY_INTERVAL;\n        _this.minRetryInterval = typeof minRetryInterval === \"number\" ? minRetryInterval : _this.DEFAULT_CLIENT_MIN_RETRY_INTERVAL;\n        _this.maxRetryInterval = typeof maxRetryInterval === \"number\" ? maxRetryInterval : _this.DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n        return _this;\n    }\n    SystemErrorRetryPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this._nextPolicy.sendRequest(request.clone()).then(function (response) { return retry(_this, request, response); });\n    };\n    return SystemErrorRetryPolicy;\n}(BaseRequestPolicy));\nexport { SystemErrorRetryPolicy };\n/**\n * Determines if the operation should be retried and how long to wait until the next retry.\n *\n * @param {number} statusCode The HTTP status code.\n * @param {RetryData} retryData  The retry data.\n * @return {boolean} True if the operation qualifies for a retry; false otherwise.\n */\nfunction shouldRetry(policy, retryData) {\n    var currentCount;\n    if (!retryData) {\n        throw new Error(\"retryData for the SystemErrorRetryPolicyFilter cannot be null.\");\n    }\n    else {\n        currentCount = (retryData && retryData.retryCount);\n    }\n    return (currentCount < policy.retryCount);\n}\n/**\n * Updates the retry data for the next attempt.\n *\n * @param {RetryData} retryData  The retry data.\n * @param {object} err        The operation\"s error, if any.\n */\nfunction updateRetryData(policy, retryData, err) {\n    if (!retryData) {\n        retryData = {\n            retryCount: 0,\n            retryInterval: 0\n        };\n    }\n    if (err) {\n        if (retryData.error) {\n            err.innerError = retryData.error;\n        }\n        retryData.error = err;\n    }\n    // Adjust retry count\n    retryData.retryCount++;\n    // Adjust retry interval\n    var incrementDelta = Math.pow(2, retryData.retryCount) - 1;\n    var boundedRandDelta = policy.retryInterval * 0.8 +\n        Math.floor(Math.random() * (policy.retryInterval * 1.2 - policy.retryInterval * 0.8));\n    incrementDelta *= boundedRandDelta;\n    retryData.retryInterval = Math.min(policy.minRetryInterval + incrementDelta, policy.maxRetryInterval);\n    return retryData;\n}\nfunction retry(policy, request, operationResponse, retryData, err) {\n    retryData = updateRetryData(policy, retryData, err);\n    if (err && err.code && shouldRetry(policy, retryData) &&\n        (err.code === \"ETIMEDOUT\" || err.code === \"ESOCKETTIMEDOUT\" || err.code === \"ECONNREFUSED\" ||\n            err.code === \"ECONNRESET\" || err.code === \"ENOENT\")) {\n        // If previous operation ended with an error and the policy allows a retry, do that\n        return utils.delay(retryData.retryInterval)\n            .then(function () { return policy._nextPolicy.sendRequest(request.clone()); })\n            .then(function (res) { return retry(policy, request, res, retryData, err); })\n            .catch(function (err) { return retry(policy, request, operationResponse, retryData, err); });\n    }\n    else {\n        if (err != undefined) {\n            // If the operation failed in the end, return all errors instead of just the last one\n            err = retryData.error;\n            return Promise.reject(err);\n        }\n        return Promise.resolve(operationResponse);\n    }\n}\n//# sourceMappingURL=systemErrorRetryPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n/**\n * The format that will be used to join an array of values together for a query parameter value.\n */\nexport var QueryCollectionFormat;\n(function (QueryCollectionFormat) {\n    QueryCollectionFormat[\"Csv\"] = \",\";\n    QueryCollectionFormat[\"Ssv\"] = \" \";\n    QueryCollectionFormat[\"Tsv\"] = \"\\t\";\n    QueryCollectionFormat[\"Pipes\"] = \"|\";\n    QueryCollectionFormat[\"Multi\"] = \"Multi\";\n})(QueryCollectionFormat || (QueryCollectionFormat = {}));\n//# sourceMappingURL=queryCollectionFormat.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { DefaultHttpClient } from \"./defaultHttpClient\";\nimport { getPathStringFromParameter, getPathStringFromParameterPath } from \"./operationParameter\";\nimport { isStreamOperation } from \"./operationSpec\";\nimport { deserializationPolicy } from \"./policies/deserializationPolicy\";\nimport { exponentialRetryPolicy } from \"./policies/exponentialRetryPolicy\";\nimport { generateClientRequestIdPolicy } from \"./policies/generateClientRequestIdPolicy\";\nimport { msRestUserAgentPolicy } from \"./policies/msRestUserAgentPolicy\";\nimport { redirectPolicy } from \"./policies/redirectPolicy\";\nimport { RequestPolicyOptions } from \"./policies/requestPolicy\";\nimport { rpRegistrationPolicy } from \"./policies/rpRegistrationPolicy\";\nimport { signingPolicy } from \"./policies/signingPolicy\";\nimport { systemErrorRetryPolicy } from \"./policies/systemErrorRetryPolicy\";\nimport { QueryCollectionFormat } from \"./queryCollectionFormat\";\nimport { MapperType } from \"./serializer\";\nimport { URLBuilder } from \"./url\";\nimport { Constants } from \"./util/constants\";\nimport * as utils from \"./util/utils\";\nimport { stringifyXML } from \"./util/xml\";\nimport { WebResource } from \"./webResource\";\n/**\n * @class\n * Initializes a new instance of the ServiceClient.\n */\nvar ServiceClient = /** @class */ (function () {\n    /**\n     * The ServiceClient constructor\n     * @constructor\n     * @param {ServiceClientCredentials} [credentials] The credentials object used for authentication.\n     * @param {ServiceClientOptions} [options] The service client options that govern the behavior of the client.\n     */\n    function ServiceClient(credentials, options) {\n        if (!options) {\n            options = {};\n        }\n        this.userAgentInfo = { value: [] };\n        if (credentials && !credentials.signRequest) {\n            throw new Error(\"credentials argument needs to implement signRequest method\");\n        }\n        try {\n            var moduleName = \"ms-rest-js\";\n            var moduleVersion = Constants.msRestVersion;\n            this.addUserAgentInfo(moduleName + \"/\" + moduleVersion);\n        }\n        catch (err) {\n            // do nothing\n        }\n        this._withCredentials = options.withCredentials || false;\n        this._httpClient = options.httpClient || new DefaultHttpClient();\n        this._requestPolicyOptions = new RequestPolicyOptions(options.httpPipelineLogger);\n        this._requestPolicyFactories = options.requestPolicyFactories || createDefaultRequestPolicyFactories(credentials, options, this.userAgentInfo.value);\n    }\n    /**\n     * Adds custom information to user agent header\n     * @param {string} additionalUserAgentInfo information to be added to user agent header, as string.\n     */\n    ServiceClient.prototype.addUserAgentInfo = function (additionalUserAgentInfo) {\n        if (this.userAgentInfo.value.indexOf(additionalUserAgentInfo) === -1) {\n            this.userAgentInfo.value.push(additionalUserAgentInfo);\n        }\n        return;\n    };\n    /**\n     * Send the provided httpRequest.\n     */\n    ServiceClient.prototype.sendRequest = function (options) {\n        if (options === null || options === undefined || typeof options !== \"object\") {\n            throw new Error(\"options cannot be null or undefined and it must be of type object.\");\n        }\n        var httpRequest;\n        try {\n            if (options instanceof WebResource) {\n                options.validateRequestProperties();\n                httpRequest = options;\n            }\n            else {\n                httpRequest = new WebResource();\n                httpRequest = httpRequest.prepare(options);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n        var httpPipeline = this._httpClient;\n        if (this._requestPolicyFactories && this._requestPolicyFactories.length > 0) {\n            for (var i = this._requestPolicyFactories.length - 1; i >= 0; --i) {\n                httpPipeline = this._requestPolicyFactories[i].create(httpPipeline, this._requestPolicyOptions);\n            }\n        }\n        return httpPipeline.sendRequest(httpRequest);\n    };\n    /**\n     * Send an HTTP request that is populated using the provided OperationSpec.\n     * @param {OperationArguments} operationArguments The arguments that the HTTP request's templated values will be populated from.\n     * @param {OperationSpec} operationSpec The OperationSpec to use to populate the httpRequest.\n     * @param {ServiceCallback} callback The callback to call when the response is received.\n     */\n    ServiceClient.prototype.sendOperationRequest = function (operationArguments, operationSpec, callback) {\n        if (typeof operationArguments.options === \"function\") {\n            callback = operationArguments.options;\n            operationArguments.options = undefined;\n        }\n        var httpRequest = new WebResource();\n        var result;\n        try {\n            var baseUri = operationSpec.baseUrl || this.baseUri;\n            if (!baseUri) {\n                throw new Error(\"If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.\");\n            }\n            httpRequest.method = operationSpec.httpMethod;\n            httpRequest.operationSpec = operationSpec;\n            var requestUrl = URLBuilder.parse(baseUri);\n            if (operationSpec.path) {\n                requestUrl.appendPath(operationSpec.path);\n            }\n            if (operationSpec.urlParameters && operationSpec.urlParameters.length > 0) {\n                for (var _i = 0, _a = operationSpec.urlParameters; _i < _a.length; _i++) {\n                    var urlParameter = _a[_i];\n                    var urlParameterValue = getOperationArgumentValueFromParameter(this, operationArguments, urlParameter, operationSpec.serializer);\n                    urlParameterValue = operationSpec.serializer.serialize(urlParameter.mapper, urlParameterValue, getPathStringFromParameter(urlParameter));\n                    if (!urlParameter.skipEncoding) {\n                        urlParameterValue = encodeURIComponent(urlParameterValue);\n                    }\n                    requestUrl.replaceAll(\"{\" + (urlParameter.mapper.serializedName || getPathStringFromParameter(urlParameter)) + \"}\", urlParameterValue);\n                }\n            }\n            if (operationSpec.queryParameters && operationSpec.queryParameters.length > 0) {\n                for (var _b = 0, _c = operationSpec.queryParameters; _b < _c.length; _b++) {\n                    var queryParameter = _c[_b];\n                    var queryParameterValue = getOperationArgumentValueFromParameter(this, operationArguments, queryParameter, operationSpec.serializer);\n                    if (queryParameterValue != undefined) {\n                        queryParameterValue = operationSpec.serializer.serialize(queryParameter.mapper, queryParameterValue, getPathStringFromParameter(queryParameter));\n                        if (queryParameter.collectionFormat != undefined) {\n                            if (queryParameter.collectionFormat === QueryCollectionFormat.Multi) {\n                                if (queryParameterValue.length === 0) {\n                                    queryParameterValue = \"\";\n                                }\n                                else {\n                                    for (var index in queryParameterValue) {\n                                        var item = queryParameterValue[index];\n                                        queryParameterValue[index] = item == undefined ? \"\" : item.toString();\n                                    }\n                                }\n                            }\n                            else {\n                                queryParameterValue = queryParameterValue.join(queryParameter.collectionFormat);\n                            }\n                        }\n                        if (!queryParameter.skipEncoding) {\n                            if (Array.isArray(queryParameterValue)) {\n                                for (var index in queryParameterValue) {\n                                    queryParameterValue[index] = encodeURIComponent(queryParameterValue[index]);\n                                }\n                            }\n                            else {\n                                queryParameterValue = encodeURIComponent(queryParameterValue);\n                            }\n                        }\n                        requestUrl.setQueryParameter(queryParameter.mapper.serializedName || getPathStringFromParameter(queryParameter), queryParameterValue);\n                    }\n                }\n            }\n            httpRequest.url = requestUrl.toString();\n            var contentType = operationSpec.contentType || this.requestContentType;\n            if (contentType) {\n                httpRequest.headers.set(\"Content-Type\", contentType);\n            }\n            if (operationSpec.headerParameters) {\n                for (var _d = 0, _e = operationSpec.headerParameters; _d < _e.length; _d++) {\n                    var headerParameter = _e[_d];\n                    var headerValue = getOperationArgumentValueFromParameter(this, operationArguments, headerParameter, operationSpec.serializer);\n                    if (headerValue != undefined) {\n                        headerValue = operationSpec.serializer.serialize(headerParameter.mapper, headerValue, getPathStringFromParameter(headerParameter));\n                        var headerCollectionPrefix = headerParameter.mapper.headerCollectionPrefix;\n                        if (headerCollectionPrefix) {\n                            for (var _f = 0, _g = Object.keys(headerValue); _f < _g.length; _f++) {\n                                var key = _g[_f];\n                                httpRequest.headers.set(headerCollectionPrefix + key, headerValue[key]);\n                            }\n                        }\n                        else {\n                            httpRequest.headers.set(headerParameter.mapper.serializedName || getPathStringFromParameter(headerParameter), headerValue);\n                        }\n                    }\n                }\n            }\n            var options = operationArguments.options;\n            if (options) {\n                if (options.customHeaders) {\n                    for (var customHeaderName in options.customHeaders) {\n                        httpRequest.headers.set(customHeaderName, options.customHeaders[customHeaderName]);\n                    }\n                }\n                if (options.abortSignal) {\n                    httpRequest.abortSignal = options.abortSignal;\n                }\n                if (options.timeout) {\n                    httpRequest.timeout = options.timeout;\n                }\n                if (options.onUploadProgress) {\n                    httpRequest.onUploadProgress = options.onUploadProgress;\n                }\n                if (options.onDownloadProgress) {\n                    httpRequest.onDownloadProgress = options.onDownloadProgress;\n                }\n            }\n            httpRequest.withCredentials = this._withCredentials;\n            serializeRequestBody(this, httpRequest, operationArguments, operationSpec);\n            if (httpRequest.streamResponseBody == undefined) {\n                httpRequest.streamResponseBody = isStreamOperation(operationSpec);\n            }\n            result = this.sendRequest(httpRequest)\n                .then(function (res) { return flattenResponse(res, operationSpec.responses[res.status]); });\n        }\n        catch (error) {\n            result = Promise.reject(error);\n        }\n        var cb = callback;\n        if (cb) {\n            result\n                // tslint:disable-next-line:no-null-keyword\n                .then(function (res) { return cb(null, res._response.parsedBody, res._response.request, res._response); })\n                .catch(function (err) { return cb(err); });\n        }\n        return result;\n    };\n    return ServiceClient;\n}());\nexport { ServiceClient };\nexport function serializeRequestBody(serviceClient, httpRequest, operationArguments, operationSpec) {\n    if (operationSpec.requestBody && operationSpec.requestBody.mapper) {\n        httpRequest.body = getOperationArgumentValueFromParameter(serviceClient, operationArguments, operationSpec.requestBody, operationSpec.serializer);\n        var bodyMapper = operationSpec.requestBody.mapper;\n        var required = bodyMapper.required, xmlName = bodyMapper.xmlName, xmlElementName = bodyMapper.xmlElementName, serializedName = bodyMapper.serializedName;\n        var typeName = bodyMapper.type.name;\n        try {\n            if (httpRequest.body != undefined || required) {\n                var requestBodyParameterPathString = getPathStringFromParameter(operationSpec.requestBody);\n                httpRequest.body = operationSpec.serializer.serialize(bodyMapper, httpRequest.body, requestBodyParameterPathString);\n                var isStream = typeName === MapperType.Stream;\n                if (operationSpec.isXML) {\n                    if (typeName === MapperType.Sequence) {\n                        httpRequest.body = stringifyXML(utils.prepareXMLRootList(httpRequest.body, xmlElementName || xmlName || serializedName), { rootName: xmlName || serializedName });\n                    }\n                    else if (!isStream) {\n                        httpRequest.body = stringifyXML(httpRequest.body, { rootName: xmlName || serializedName });\n                    }\n                }\n                else if (!isStream) {\n                    httpRequest.body = JSON.stringify(httpRequest.body);\n                }\n            }\n        }\n        catch (error) {\n            throw new Error(\"Error \\\"\" + error.message + \"\\\" occurred in serializing the payload - \" + JSON.stringify(serializedName, undefined, \"  \") + \".\");\n        }\n    }\n    else if (operationSpec.formDataParameters && operationSpec.formDataParameters.length > 0) {\n        httpRequest.formData = {};\n        for (var _i = 0, _a = operationSpec.formDataParameters; _i < _a.length; _i++) {\n            var formDataParameter = _a[_i];\n            var formDataParameterValue = getOperationArgumentValueFromParameter(serviceClient, operationArguments, formDataParameter, operationSpec.serializer);\n            if (formDataParameterValue != undefined) {\n                var formDataParameterPropertyName = formDataParameter.mapper.serializedName || getPathStringFromParameter(formDataParameter);\n                httpRequest.formData[formDataParameterPropertyName] = operationSpec.serializer.serialize(formDataParameter.mapper, formDataParameterValue, getPathStringFromParameter(formDataParameter));\n            }\n        }\n    }\n}\nfunction isRequestPolicyFactory(instance) {\n    return typeof instance.create === \"function\";\n}\nfunction createDefaultRequestPolicyFactories(credentials, options, userAgentInfo) {\n    var factories = [];\n    if (options.generateClientRequestIdHeader) {\n        factories.push(generateClientRequestIdPolicy(options.clientRequestIdHeaderName));\n    }\n    if (credentials) {\n        if (isRequestPolicyFactory(credentials)) {\n            factories.push(credentials);\n        }\n        else {\n            factories.push(signingPolicy(credentials));\n        }\n    }\n    if (utils.isNode) {\n        factories.push(msRestUserAgentPolicy(userAgentInfo));\n    }\n    factories.push(redirectPolicy());\n    factories.push(rpRegistrationPolicy(options.rpRegistrationRetryTimeout));\n    if (!options.noRetryPolicy) {\n        factories.push(exponentialRetryPolicy());\n        factories.push(systemErrorRetryPolicy());\n    }\n    factories.push(deserializationPolicy(options.deserializationContentTypes));\n    return factories;\n}\n/**\n * Get the property parent for the property at the provided path when starting with the provided\n * parent object.\n */\nexport function getPropertyParent(parent, propertyPath) {\n    if (parent && propertyPath) {\n        var propertyPathLength = propertyPath.length;\n        for (var i = 0; i < propertyPathLength - 1; ++i) {\n            var propertyName = propertyPath[i];\n            if (!parent[propertyName]) {\n                parent[propertyName] = {};\n            }\n            parent = parent[propertyName];\n        }\n    }\n    return parent;\n}\nfunction getOperationArgumentValueFromParameter(serviceClient, operationArguments, parameter, serializer) {\n    return getOperationArgumentValueFromParameterPath(serviceClient, operationArguments, parameter.parameterPath, parameter.mapper, serializer);\n}\nexport function getOperationArgumentValueFromParameterPath(serviceClient, operationArguments, parameterPath, parameterMapper, serializer) {\n    var value;\n    if (typeof parameterPath === \"string\") {\n        parameterPath = [parameterPath];\n    }\n    if (Array.isArray(parameterPath)) {\n        if (parameterPath.length > 0) {\n            if (parameterMapper.isConstant) {\n                value = parameterMapper.defaultValue;\n            }\n            else {\n                var propertySearchResult = getPropertyFromParameterPath(operationArguments, parameterPath);\n                if (!propertySearchResult.propertyFound) {\n                    propertySearchResult = getPropertyFromParameterPath(serviceClient, parameterPath);\n                }\n                var useDefaultValue = false;\n                if (!propertySearchResult.propertyFound) {\n                    useDefaultValue = parameterMapper.required || (parameterPath[0] === \"options\" && parameterPath.length === 2);\n                }\n                value = useDefaultValue ? parameterMapper.defaultValue : propertySearchResult.propertyValue;\n            }\n            // Serialize just for validation purposes.\n            var parameterPathString = getPathStringFromParameterPath(parameterPath, parameterMapper);\n            serializer.serialize(parameterMapper, value, parameterPathString);\n        }\n    }\n    else {\n        for (var propertyName in parameterPath) {\n            var propertyMapper = parameterMapper.type.modelProperties[propertyName];\n            var propertyPath = parameterPath[propertyName];\n            var propertyValue = getOperationArgumentValueFromParameterPath(serviceClient, operationArguments, propertyPath, propertyMapper, serializer);\n            // Serialize just for validation purposes.\n            var propertyPathString = getPathStringFromParameterPath(propertyPath, propertyMapper);\n            serializer.serialize(propertyMapper, propertyValue, propertyPathString);\n            if (propertyValue !== undefined) {\n                if (!value) {\n                    value = {};\n                }\n                value[propertyName] = propertyValue;\n            }\n        }\n    }\n    return value;\n}\nfunction getPropertyFromParameterPath(parent, parameterPath) {\n    var result = { propertyFound: false };\n    var i = 0;\n    for (; i < parameterPath.length; ++i) {\n        var parameterPathPart = parameterPath[i];\n        // Make sure to check inherited properties too, so don't use hasOwnProperty().\n        if (parent != undefined && parameterPathPart in parent) {\n            parent = parent[parameterPathPart];\n        }\n        else {\n            break;\n        }\n    }\n    if (i === parameterPath.length) {\n        result.propertyValue = parent;\n        result.propertyFound = true;\n    }\n    return result;\n}\nexport function flattenResponse(_response, responseSpec) {\n    var parsedHeaders = _response.parsedHeaders;\n    var bodyMapper = responseSpec && responseSpec.bodyMapper;\n    var addOperationResponse = function (obj) {\n        return Object.defineProperty(obj, \"_response\", {\n            value: _response\n        });\n    };\n    if (bodyMapper) {\n        var typeName = bodyMapper.type.name;\n        if (typeName === \"Stream\") {\n            return addOperationResponse(tslib_1.__assign({}, parsedHeaders, { blobBody: _response.blobBody, readableStreamBody: _response.readableStreamBody }));\n        }\n        var modelProperties_1 = typeName === \"Composite\" && bodyMapper.type.modelProperties || {};\n        var isPageableResponse = Object.keys(modelProperties_1).some(function (k) { return modelProperties_1[k].serializedName === \"\"; });\n        if (typeName === \"Sequence\" || isPageableResponse) {\n            var arrayResponse = (_response.parsedBody || []).slice();\n            for (var _i = 0, _a = Object.keys(modelProperties_1); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (modelProperties_1[key].serializedName) {\n                    arrayResponse[key] = _response.parsedBody[key];\n                }\n            }\n            if (parsedHeaders) {\n                for (var _b = 0, _c = Object.keys(parsedHeaders); _b < _c.length; _b++) {\n                    var key = _c[_b];\n                    arrayResponse[key] = parsedHeaders[key];\n                }\n            }\n            addOperationResponse(arrayResponse);\n            return arrayResponse;\n        }\n        if (typeName === \"Composite\" || typeName === \"Dictionary\") {\n            return addOperationResponse(tslib_1.__assign({}, parsedHeaders, _response.parsedBody));\n        }\n    }\n    if (bodyMapper || _response.request.method === \"HEAD\") {\n        // primitive body types and HEAD booleans\n        return addOperationResponse(tslib_1.__assign({}, parsedHeaders, { body: _response.parsedBody }));\n    }\n    return addOperationResponse(tslib_1.__assign({}, parsedHeaders, _response.parsedBody));\n}\n//# sourceMappingURL=serviceClient.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function logPolicy(logger) {\n    if (logger === void 0) { logger = console.log; }\n    return {\n        create: function (nextPolicy, options) {\n            return new LogPolicy(nextPolicy, options, logger);\n        }\n    };\n}\nvar LogPolicy = /** @class */ (function (_super) {\n    tslib_1.__extends(LogPolicy, _super);\n    function LogPolicy(nextPolicy, options, logger) {\n        if (logger === void 0) { logger = console.log; }\n        var _this = _super.call(this, nextPolicy, options) || this;\n        _this.logger = logger;\n        return _this;\n    }\n    LogPolicy.prototype.sendRequest = function (request) {\n        var _this = this;\n        return this._nextPolicy.sendRequest(request).then(function (response) { return logResponse(_this, response); });\n    };\n    return LogPolicy;\n}(BaseRequestPolicy));\nexport { LogPolicy };\nfunction logResponse(policy, response) {\n    policy.logger(\">> Request: \" + JSON.stringify(response.request, undefined, 2));\n    policy.logger(\">> Response status code: \" + response.status);\n    var responseBody = response.bodyAsText;\n    policy.logger(\">> Body: \" + responseBody);\n    return Promise.resolve(response);\n}\n//# sourceMappingURL=logPolicy.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\nimport { Constants } from \"../util/constants\";\nvar HeaderConstants = Constants.HeaderConstants;\nvar DEFAULT_AUTHORIZATION_SCHEME = \"Bearer\";\n/**\n * A credentials object that uses a token string and a authorzation scheme to authenticate.\n */\nvar TokenCredentials = /** @class */ (function () {\n    /**\n     * Creates a new TokenCredentials object.\n     *\n     * @constructor\n     * @param {string} token The token.\n     * @param {string} [authorizationScheme] The authorization scheme.\n     */\n    function TokenCredentials(token, authorizationScheme) {\n        if (authorizationScheme === void 0) { authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME; }\n        this.authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n        if (!token) {\n            throw new Error(\"token cannot be null or undefined.\");\n        }\n        this.token = token;\n        this.authorizationScheme = authorizationScheme;\n    }\n    /**\n     * Signs a request with the Authentication header.\n     *\n     * @param {WebResource} webResource The WebResource to be signed.\n     * @return {Promise<WebResource>} The signed request object.\n     */\n    TokenCredentials.prototype.signRequest = function (webResource) {\n        if (!webResource.headers)\n            webResource.headers = new HttpHeaders();\n        webResource.headers.set(HeaderConstants.AUTHORIZATION, this.authorizationScheme + \" \" + this.token);\n        return Promise.resolve(webResource);\n    };\n    return TokenCredentials;\n}());\nexport { TokenCredentials };\n//# sourceMappingURL=tokenCredentials.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\nimport * as base64 from \"../util/base64\";\nimport { Constants } from \"../util/constants\";\nvar HeaderConstants = Constants.HeaderConstants;\nvar DEFAULT_AUTHORIZATION_SCHEME = \"Basic\";\nvar BasicAuthenticationCredentials = /** @class */ (function () {\n    /**\n     * Creates a new BasicAuthenticationCredentials object.\n     *\n     * @constructor\n     * @param {string} userName User name.\n     * @param {string} password Password.\n     * @param {string} [authorizationScheme] The authorization scheme.\n     */\n    function BasicAuthenticationCredentials(userName, password, authorizationScheme) {\n        if (authorizationScheme === void 0) { authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME; }\n        this.authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n        if (userName === null || userName === undefined || typeof userName.valueOf() !== \"string\") {\n            throw new Error(\"userName cannot be null or undefined and must be of type string.\");\n        }\n        if (password === null || password === undefined || typeof password.valueOf() !== \"string\") {\n            throw new Error(\"password cannot be null or undefined and must be of type string.\");\n        }\n        this.userName = userName;\n        this.password = password;\n        this.authorizationScheme = authorizationScheme;\n    }\n    /**\n     * Signs a request with the Authentication header.\n     *\n     * @param {WebResource} webResource The WebResource to be signed.\n     * @returns {Promise<WebResource>} The signed request object.\n     */\n    BasicAuthenticationCredentials.prototype.signRequest = function (webResource) {\n        var credentials = this.userName + \":\" + this.password;\n        var encodedCredentials = this.authorizationScheme + \" \" + base64.encodeString(credentials);\n        if (!webResource.headers)\n            webResource.headers = new HttpHeaders();\n        webResource.headers.set(HeaderConstants.AUTHORIZATION, encodedCredentials);\n        return Promise.resolve(webResource);\n    };\n    return BasicAuthenticationCredentials;\n}());\nexport { BasicAuthenticationCredentials };\n//# sourceMappingURL=basicAuthenticationCredentials.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\n/**\n * Authenticates to a service using an API key.\n */\nvar ApiKeyCredentials = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {object} options   Specifies the options to be provided for auth. Either header or query needs to be provided.\n     */\n    function ApiKeyCredentials(options) {\n        if (!options || (options && !options.inHeader && !options.inQuery)) {\n            throw new Error(\"options cannot be null or undefined. Either \\\"inHeader\\\" or \\\"inQuery\\\" property of the options object needs to be provided.\");\n        }\n        this.inHeader = options.inHeader;\n        this.inQuery = options.inQuery;\n    }\n    /**\n     * Signs a request with the values provided in the inHeader and inQuery parameter.\n     *\n     * @param {WebResource} webResource The WebResource to be signed.\n     * @returns {Promise<WebResource>} The signed request object.\n     */\n    ApiKeyCredentials.prototype.signRequest = function (webResource) {\n        if (!webResource) {\n            return Promise.reject(new Error(\"webResource cannot be null or undefined and must be of type \\\"object\\\".\"));\n        }\n        if (this.inHeader) {\n            if (!webResource.headers) {\n                webResource.headers = new HttpHeaders();\n            }\n            for (var headerName in this.inHeader) {\n                webResource.headers.set(headerName, this.inHeader[headerName]);\n            }\n        }\n        if (this.inQuery) {\n            if (!webResource.url) {\n                return Promise.reject(new Error(\"url cannot be null in the request object.\"));\n            }\n            if (webResource.url.indexOf(\"?\") < 0) {\n                webResource.url += \"?\";\n            }\n            for (var key in this.inQuery) {\n                if (!webResource.url.endsWith(\"?\")) {\n                    webResource.url += \"&\";\n                }\n                webResource.url += key + \"=\" + this.inQuery[key];\n            }\n        }\n        return Promise.resolve(webResource);\n    };\n    return ApiKeyCredentials;\n}());\nexport { ApiKeyCredentials };\n//# sourceMappingURL=apiKeyCredentials.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport * as tslib_1 from \"tslib\";\nimport { ApiKeyCredentials } from \"./apiKeyCredentials\";\nvar TopicCredentials = /** @class */ (function (_super) {\n    tslib_1.__extends(TopicCredentials, _super);\n    /**\n     * Creates a new EventGrid TopicCredentials object.\n     *\n     * @constructor\n     * @param {string} topicKey   The EventGrid topic key\n     */\n    function TopicCredentials(topicKey) {\n        var _this = this;\n        if (!topicKey || (topicKey && typeof topicKey !== \"string\")) {\n            throw new Error(\"topicKey cannot be null or undefined and must be of type string.\");\n        }\n        var options = {\n            inHeader: {\n                \"aeg-sas-key\": topicKey\n            }\n        };\n        _this = _super.call(this, options) || this;\n        return _this;\n    }\n    return TopicCredentials;\n}(ApiKeyCredentials));\nexport { TopicCredentials };\n//# sourceMappingURL=topicCredentials.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nexport { WebResource } from \"./webResource\";\nexport { DefaultHttpClient } from \"./defaultHttpClient\";\nexport { HttpHeaders } from \"./httpHeaders\";\nexport { HttpPipelineLogLevel } from \"./httpPipelineLogLevel\";\nexport { RestError } from \"./restError\";\nexport { ServiceClient, flattenResponse } from \"./serviceClient\";\nexport { QueryCollectionFormat } from \"./queryCollectionFormat\";\nexport { Constants } from \"./util/constants\";\nexport { logPolicy } from \"./policies/logPolicy\";\nexport { BaseRequestPolicy, RequestPolicyOptions } from \"./policies/requestPolicy\";\nexport { exponentialRetryPolicy } from \"./policies/exponentialRetryPolicy\";\nexport { systemErrorRetryPolicy } from \"./policies/systemErrorRetryPolicy\";\nexport { redirectPolicy } from \"./policies/redirectPolicy\";\nexport { signingPolicy } from \"./policies/signingPolicy\";\nexport { msRestUserAgentPolicy } from \"./policies/msRestUserAgentPolicy\";\nexport { deserializationPolicy, deserializeResponseBody } from \"./policies/deserializationPolicy\";\nexport { MapperType, Serializer, serializeObject } from \"./serializer\";\nexport { stripRequest, stripResponse, delay, executePromisesSequentially, generateUuid, encodeUri, promiseToCallback, promiseToServiceCallback, isValidUuid, applyMixins, isNode, isDuration } from \"./util/utils\";\nexport { URLBuilder, URLQuery } from \"./url\";\n// Credentials\nexport { TokenCredentials } from \"./credentials/tokenCredentials\";\nexport { BasicAuthenticationCredentials } from \"./credentials/basicAuthenticationCredentials\";\nexport { ApiKeyCredentials } from \"./credentials/apiKeyCredentials\";\nexport { TopicCredentials } from \"./credentials/topicCredentials\";\n//# sourceMappingURL=msRest.js.map"],"names":["base64.decodeString","base64.encodeByteArray","utils.isValidUuid","utils.isDuration","tslib_1.__extends","tslib_1.__assign","tough.CookieJar","tslib_1.__awaiter","tslib_1.__generator","Transform","HttpPipelineLogLevel","xml2js.Builder","xml2js.Parser","utils.stripRequest","utils.stripResponse","utils.delay","utils.generateUuid","os.arch","os.type","os.release","retry","shouldRetry","updateRetryData","QueryCollectionFormat","DefaultHttpClient","utils.prepareXMLRootList","utils.isNode","HeaderConstants","DEFAULT_AUTHORIZATION_SCHEME","base64.encodeString"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;;AAKA,SAAS,YAAY,CAAC,UAAU,EAAE;IAC9B,OAAO,UAAU,CAAC,WAAW,EAAE,CAAC;CACnC;;;;AAID,AAAG,IAAC,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,UAAU,EAAE;QAC7B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,UAAU,EAAE;YACZ,KAAK,IAAI,UAAU,IAAI,UAAU,EAAE;gBAC/B,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;aAChD;SACJ;KACJ;;;;;;;IAOD,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,UAAU,EAAE,WAAW,EAAE;QAC3D,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,EAAE,CAAC;KACpG,CAAC;;;;;;IAMF,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,UAAU,EAAE;QAC9C,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;QACxD,OAAO,CAAC,MAAM,GAAG,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC;KAC7C,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,UAAU,EAAE;QACnD,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;KACvD,CAAC;;;;;;IAMF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,UAAU,EAAE;QACjD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACvC,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,OAAO,MAAM,CAAC;KACjB,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC3C,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,WAAW,EAAE;YACpC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACzC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;SACpD;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC7C,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,WAAW,EAAE;YACpC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC;SAC7C;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACrC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACrC;QACD,OAAO,WAAW,CAAC;KACtB,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC7C,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACrC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SACvC;QACD,OAAO,YAAY,CAAC;KACvB,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;KAC5B,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACxC,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACtC,OAAO,IAAI,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;KAC7C,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC;;ACpHJ;;;;;;AAMA,AAAO,SAAS,YAAY,CAAC,KAAK,EAAE;IAChC,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;CAChD;;;;;AAKD,AAAO,SAAS,eAAe,CAAC,KAAK,EAAE;;;IAGnC,IAAI,WAAW,GAAG,CAAC,KAAK,YAAY,MAAM,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAChF,OAAO,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;CACzC;;;;;AAKD,AAAO,SAAS,YAAY,CAAC,KAAK,EAAE;IAChC,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;CACvC;;ACzBD;;AAEA,AAAU,IAAC,SAAS,GAAG;;;;;;IAMnB,aAAa,EAAE,OAAO;;;;;;;IAOtB,IAAI,EAAE,OAAO;;;;;;;IAOb,KAAK,EAAE,QAAQ;;;;;;;IAOf,UAAU,EAAE,YAAY;;;;;;;IAOxB,WAAW,EAAE,aAAa;IAC1B,aAAa,EAAE;;;;;;;QAOX,SAAS,EAAE;YACP,GAAG,EAAE,KAAK;YACV,GAAG,EAAE,KAAK;YACV,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,OAAO;SACjB;KACJ;;;;IAID,eAAe,EAAE;;;;;;;QAOb,aAAa,EAAE,eAAe;QAC9B,oBAAoB,EAAE,QAAQ;;;;;;;QAO9B,UAAU,EAAE,YAAY;KAC3B;CACJ;;AC1ED;AACA,AAGA;;;AAGA,AAAU,IAAC,MAAM,GAAG,OAAO,SAAS,KAAK,WAAW,IAAI,OAAO,OAAO,KAAK,WAAW,CAAC;AACvF,AASA;;;;;;AAMA,AAAO,SAAS,SAAS,CAAC,GAAG,EAAE;IAC3B,OAAO,kBAAkB,CAAC,GAAG,CAAC;SACzB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;SACpB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;SACpB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;SACrB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;SACrB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;CAC9B;;;;;;;;;AASD,AAAO,SAAS,aAAa,CAAC,QAAQ,EAAE;IACpC,IAAI,gBAAgB,GAAG,EAAE,CAAC;IAC1B,gBAAgB,CAAC,IAAI,GAAG,QAAQ,CAAC,UAAU,CAAC;IAC5C,gBAAgB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;IAC5C,gBAAgB,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;IAC1C,OAAO,gBAAgB,CAAC;CAC3B;;;;;;;;;AASD,AAAO,SAAS,YAAY,CAAC,OAAO,EAAE;IAClC,IAAI,eAAe,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;IACtC,IAAI,eAAe,CAAC,OAAO,EAAE;QACzB,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;KACnD;IACD,OAAO,eAAe,CAAC;CAC1B;;;;;;;;AAQD,AAAO,SAAS,WAAW,CAAC,IAAI,EAAE;IAC9B,IAAI,cAAc,GAAG,IAAI,MAAM,CAAC,+EAA+E,EAAE,IAAI,CAAC,CAAC;IACvH,OAAO,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CACpC;AACD,AAuBA;;;;;AAKA,AAAO,SAAS,YAAY,GAAG;IAC3B,OAAO,MAAM,EAAE,CAAC;CACnB;;;;;;;;;;;;AAYD,AAAO,SAAS,2BAA2B,CAAC,gBAAgB,EAAE,SAAS,EAAE;IACrE,IAAI,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACxC,gBAAgB,CAAC,OAAO,CAAC,UAAU,cAAc,EAAE;QAC/C,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KACxC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;CACjB;AACD,AAcA;;;;;;AAMA,AAAO,SAAS,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE;IAC5B,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,UAAU,CAAC,YAAY,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;CAC5G;;;;;;;AAOD,AAAO,SAAS,iBAAiB,CAAC,OAAO,EAAE;IACvC,IAAI,OAAO,OAAO,CAAC,IAAI,KAAK,UAAU,EAAE;QACpC,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;KAC3D;IACD,OAAO,UAAU,EAAE,EAAE;QACjB,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;YACzB,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SACvB,EAAE,UAAU,GAAG,EAAE;YACd,EAAE,CAAC,GAAG,CAAC,CAAC;SACX,CAAC,CAAC;KACN,CAAC;CACL;;;;;;AAMD,AAAO,SAAS,wBAAwB,CAAC,OAAO,EAAE;IAC9C,IAAI,OAAO,OAAO,CAAC,IAAI,KAAK,UAAU,EAAE;QACpC,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;KAC3D;IACD,OAAO,UAAU,EAAE,EAAE;QACjB,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;YACzB,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SACxE,EAAE,UAAU,GAAG,EAAE;YACd,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;SAC7B,CAAC,CAAC;KACN,CAAC;CACL;AACD,AAAO,SAAS,kBAAkB,CAAC,GAAG,EAAE,WAAW,EAAE;IACjD,IAAI,EAAE,CAAC;IACP,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACrB,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;KACf;IACD,OAAO,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC;CAC7C;;;;;;AAMD,AAAO,SAAS,WAAW,CAAC,UAAU,EAAE,WAAW,EAAE;IACjD,WAAW,CAAC,OAAO,CAAC,UAAU,WAAW,EAAE;QACvC,MAAM,CAAC,mBAAmB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;YACtE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SAC5D,CAAC,CAAC;KACN,CAAC,CAAC;CACN;AACD,IAAI,mBAAmB,GAAG,qKAAqK,CAAC;;;;;;AAMhM,AAAO,SAAS,UAAU,CAAC,KAAK,EAAE;IAC9B,OAAO,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;CAC1C;;;;;;;;AAQD,AAAO,SAAS,UAAU,CAAC,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE;IACzD,OAAO,CAAC,KAAK,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC,CAAC;CAC7F;;ACxND;AACA,AAGG,IAAC,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,YAAY,EAAE,KAAK,EAAE;QACrC,IAAI,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE,YAAY,GAAG,EAAE,CAAC,EAAE;QACnD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;IACD,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE;QAC5E,IAAI,cAAc,GAAG,UAAU,cAAc,EAAE,eAAe,EAAE;YAC5D,MAAM,IAAI,KAAK,CAAC,IAAI,GAAG,UAAU,GAAG,kBAAkB,GAAG,KAAK,GAAG,qCAAqC,GAAG,cAAc,GAAG,MAAM,GAAG,eAAe,GAAG,GAAG,CAAC,CAAC;SAC7J,CAAC;QACF,IAAI,MAAM,CAAC,WAAW,KAAK,KAAK,IAAI,SAAS,CAAC,EAAE;YAC5C,IAAI,EAAE,GAAG,MAAM,CAAC,WAAW,EAAE,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;YAChX,IAAI,gBAAgB,IAAI,SAAS,IAAI,KAAK,IAAI,gBAAgB,EAAE;gBAC5D,cAAc,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;aACxD;YACD,IAAI,gBAAgB,IAAI,SAAS,IAAI,KAAK,IAAI,gBAAgB,EAAE;gBAC5D,cAAc,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;aACxD;YACD,IAAI,gBAAgB,IAAI,SAAS,IAAI,KAAK,GAAG,gBAAgB,EAAE;gBAC3D,cAAc,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;aACxD;YACD,IAAI,gBAAgB,IAAI,SAAS,IAAI,KAAK,GAAG,gBAAgB,EAAE;gBAC3D,cAAc,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;aACxD;YACD,IAAI,QAAQ,IAAI,SAAS,IAAI,KAAK,CAAC,MAAM,GAAG,QAAQ,EAAE;gBAClD,cAAc,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;aACxC;YACD,IAAI,SAAS,IAAI,SAAS,IAAI,KAAK,CAAC,MAAM,GAAG,SAAS,EAAE;gBACpD,cAAc,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;aAC1C;YACD,IAAI,QAAQ,IAAI,SAAS,IAAI,KAAK,CAAC,MAAM,GAAG,QAAQ,EAAE;gBAClD,cAAc,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;aACxC;YACD,IAAI,SAAS,IAAI,SAAS,IAAI,KAAK,CAAC,MAAM,GAAG,SAAS,EAAE;gBACpD,cAAc,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;aAC1C;YACD,IAAI,UAAU,IAAI,SAAS,IAAI,KAAK,GAAG,UAAU,KAAK,CAAC,EAAE;gBACrD,cAAc,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;aAC5C;YACD,IAAI,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;gBAC1C,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;aACtC;YACD,IAAI,WAAW,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE;gBACtF,cAAc,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;aAC9C;SACJ;KACJ,CAAC;;;;;;;;;;;;IAYF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;QACnE,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAClC,IAAI,CAAC,UAAU,EAAE;YACb,UAAU,GAAG,MAAM,CAAC,cAAc,CAAC;SACtC;QACD,IAAI,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;YAC3C,OAAO,GAAG,EAAE,CAAC;SAChB;QACD,IAAI,MAAM,IAAI,SAAS,KAAK,MAAM,CAAC,YAAY,IAAI,SAAS,IAAI,MAAM,CAAC,UAAU,CAAC,EAAE;YAChF,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC;SAChC;;;;;;;;;;QAUD,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC3D,IAAI,QAAQ,IAAI,QAAQ,IAAI,MAAM,KAAK,SAAS,EAAE;YAC9C,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,uBAAuB,CAAC,CAAC;SACzD;QACD,IAAI,QAAQ,IAAI,CAAC,QAAQ,IAAI,MAAM,IAAI,SAAS,EAAE;YAC9C,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,+BAA+B,CAAC,CAAC;SACjE;QACD,IAAI,CAAC,QAAQ,IAAI,QAAQ,KAAK,KAAK,IAAI,MAAM,KAAK,IAAI,EAAE;YACpD,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,kBAAkB,CAAC,CAAC;SACpD;QACD,IAAI,MAAM,IAAI,SAAS,EAAE;YACrB,OAAO,GAAG,MAAM,CAAC;SACpB;aACI;;YAED,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;YACrD,IAAI,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;gBACtC,OAAO,GAAG,MAAM,CAAC;aACpB;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,gDAAgD,CAAC,KAAK,IAAI,EAAE;gBAClF,OAAO,GAAG,mBAAmB,CAAC,UAAU,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;aACjE;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;gBAC5C,IAAI,UAAU,GAAG,MAAM,CAAC;gBACxB,OAAO,GAAG,iBAAiB,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;aAClF;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,uDAAuD,CAAC,KAAK,IAAI,EAAE;gBACzF,OAAO,GAAG,kBAAkB,CAAC,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;aAChE;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;gBACjD,OAAO,GAAG,sBAAsB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;aACxD;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;gBACjD,OAAO,GAAG,sBAAsB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;aACxD;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;gBAChD,OAAO,GAAG,qBAAqB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;aACrE;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;gBAClD,OAAO,GAAG,uBAAuB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;aACvE;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;gBACjD,OAAO,GAAG,sBAAsB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;aACtE;SACJ;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;;;;;;;;;;;;IAYF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE;QAC3E,IAAI,YAAY,IAAI,SAAS,EAAE;YAC3B,IAAI,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;;;;gBAIvE,YAAY,GAAG,EAAE,CAAC;aACrB;YACD,OAAO,YAAY,CAAC;SACvB;QACD,IAAI,OAAO,CAAC;QACZ,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAClC,IAAI,CAAC,UAAU,EAAE;YACb,UAAU,GAAG,MAAM,CAAC,cAAc,CAAC;SACtC;QACD,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;YAC5C,OAAO,GAAG,wBAAwB,CAAC,IAAI,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;SAC9E;aACI;YACD,IAAI,IAAI,CAAC,KAAK,EAAE;;;;;;gBAMZ,IAAI,YAAY,CAAC,GAAG,CAAC,IAAI,SAAS,IAAI,YAAY,CAAC,GAAG,CAAC,IAAI,SAAS,EAAE;oBAClE,YAAY,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;iBACpC;aACJ;YACD,IAAI,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE;gBACzC,OAAO,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;gBACnC,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE;oBAChB,OAAO,GAAG,YAAY,CAAC;iBAC1B;aACJ;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE;gBAC/C,IAAI,YAAY,KAAK,MAAM,EAAE;oBACzB,OAAO,GAAG,IAAI,CAAC;iBAClB;qBACI,IAAI,YAAY,KAAK,OAAO,EAAE;oBAC/B,OAAO,GAAG,KAAK,CAAC;iBACnB;qBACI;oBACD,OAAO,GAAG,YAAY,CAAC;iBAC1B;aACJ;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,mDAAmD,CAAC,KAAK,IAAI,EAAE;gBACrF,OAAO,GAAG,YAAY,CAAC;aAC1B;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,qCAAqC,CAAC,KAAK,IAAI,EAAE;gBACvE,OAAO,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;aACpC;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;gBAChD,OAAO,GAAG,cAAc,CAAC,YAAY,CAAC,CAAC;aAC1C;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;gBACjD,OAAO,GAAGA,YAAmB,CAAC,YAAY,CAAC,CAAC;aAC/C;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;gBACjD,OAAO,GAAG,oBAAoB,CAAC,YAAY,CAAC,CAAC;aAChD;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;gBAChD,OAAO,GAAG,uBAAuB,CAAC,IAAI,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;aAC7E;iBACI,IAAI,UAAU,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;gBAClD,OAAO,GAAG,yBAAyB,CAAC,IAAI,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;aAC/E;SACJ;QACD,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,OAAO,GAAG,MAAM,CAAC,YAAY,CAAC;SACjC;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,SAAS,OAAO,CAAC,GAAG,EAAE,EAAE,EAAE;IACtB,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IACrB,OAAO,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;QAC1C,EAAE,GAAG,CAAC;KACT;IACD,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;CAC7B;AACD,SAAS,iBAAiB,CAAC,MAAM,EAAE;IAC/B,IAAI,CAAC,MAAM,EAAE;QACT,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,EAAE,MAAM,YAAY,UAAU,CAAC,EAAE;QACjC,MAAM,IAAI,KAAK,CAAC,yEAAyE,CAAC,CAAC;KAC9F;;IAED,IAAI,GAAG,GAAGC,eAAsB,CAAC,MAAM,CAAC,CAAC;;IAEzC,OAAO,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;CACpE;AACD,SAAS,oBAAoB,CAAC,GAAG,EAAE;IAC/B,IAAI,CAAC,GAAG,EAAE;QACN,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,GAAG,IAAI,OAAO,GAAG,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;QAC1C,MAAM,IAAI,KAAK,CAAC,qEAAqE,CAAC,CAAC;KAC1F;;IAED,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;;IAElD,OAAOD,YAAmB,CAAC,GAAG,CAAC,CAAC;CACnC;AACD,SAAS,kBAAkB,CAAC,IAAI,EAAE;IAC9B,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI,YAAY,GAAG,EAAE,CAAC;IACtB,IAAI,IAAI,EAAE;QACN,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,UAAU,GAAG,QAAQ,EAAE,EAAE,GAAG,UAAU,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAClE,IAAI,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;gBACvC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;aACzD;iBACI;gBACD,YAAY,IAAI,IAAI,CAAC;gBACrB,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC3B,YAAY,GAAG,EAAE,CAAC;aACrB;SACJ;KACJ;IACD,OAAO,OAAO,CAAC;CAClB;AACD,SAAS,cAAc,CAAC,CAAC,EAAE;IACvB,IAAI,CAAC,CAAC,EAAE;QACJ,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;KACnB;IACD,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;CACzC;AACD,SAAS,cAAc,CAAC,CAAC,EAAE;IACvB,IAAI,CAAC,CAAC,EAAE;QACJ,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;CAC7B;AACD,SAAS,mBAAmB,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE;IACtD,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;QACvC,IAAI,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE;YACvC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC3B,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,cAAc,GAAG,KAAK,GAAG,0BAA0B,CAAC,CAAC;aACrF;SACJ;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE;YAC5C,IAAI,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;gBACrC,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,gBAAgB,GAAG,KAAK,GAAG,4BAA4B,CAAC,CAAC;aACzF;SACJ;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;YAC1C,IAAI,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,IAAIE,WAAiB,CAAC,KAAK,CAAC,CAAC,EAAE;gBACpE,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,gBAAgB,GAAG,KAAK,GAAG,6CAA6C,CAAC,CAAC;aAC1G;SACJ;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE;YAC7C,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;gBAC5B,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,cAAc,GAAG,KAAK,GAAG,2BAA2B,CAAC,CAAC;aACtF;SACJ;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE;YAC5C,IAAI,UAAU,GAAG,OAAO,KAAK,CAAC;YAC9B,IAAI,UAAU,KAAK,QAAQ;gBACvB,UAAU,KAAK,UAAU;gBACzB,EAAE,KAAK,YAAY,WAAW,CAAC;gBAC/B,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC1B,EAAE,OAAO,IAAI,KAAK,UAAU,IAAI,KAAK,YAAY,IAAI,CAAC,EAAE;gBACxD,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,uGAAuG,CAAC,CAAC;aACzI;SACJ;KACJ;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,iBAAiB,CAAC,UAAU,EAAE,aAAa,EAAE,KAAK,EAAE;IACzD,IAAI,CAAC,aAAa,EAAE;QAChB,MAAM,IAAI,KAAK,CAAC,oDAAoD,GAAG,UAAU,GAAG,mBAAmB,CAAC,CAAC;KAC5G;IACD,IAAI,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;QAC/C,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;YACpC,OAAO,IAAI,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC,WAAW,EAAE,CAAC;SACrD;QACD,OAAO,IAAI,KAAK,KAAK,CAAC;KACzB,CAAC,CAAC;IACH,IAAI,CAAC,SAAS,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,KAAK,GAAG,4BAA4B,GAAG,UAAU,GAAG,0BAA0B,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC;KACzI;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,sBAAsB,CAAC,UAAU,EAAE,KAAK,EAAE;IAC/C,IAAI,KAAK,IAAI,SAAS,EAAE;QACpB,IAAI,EAAE,KAAK,YAAY,UAAU,CAAC,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,8BAA8B,CAAC,CAAC;SAChE;QACD,KAAK,GAAGD,eAAsB,CAAC,KAAK,CAAC,CAAC;KACzC;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,sBAAsB,CAAC,UAAU,EAAE,KAAK,EAAE;IAC/C,IAAI,KAAK,IAAI,SAAS,EAAE;QACpB,IAAI,EAAE,KAAK,YAAY,UAAU,CAAC,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,8BAA8B,CAAC,CAAC;SAChE;QACD,KAAK,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;KACpC;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,kBAAkB,CAAC,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE;IACrD,IAAI,KAAK,IAAI,SAAS,EAAE;QACpB,IAAI,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;YACrC,IAAI,EAAE,KAAK,YAAY,IAAI;iBACtB,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,4DAA4D,CAAC,CAAC;aAC9F;YACD,KAAK,GAAG,CAAC,KAAK,YAAY,IAAI,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;SAC3H;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;YAC9C,IAAI,EAAE,KAAK,YAAY,IAAI;iBACtB,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,4DAA4D,CAAC,CAAC;aAC9F;YACD,KAAK,GAAG,CAAC,KAAK,YAAY,IAAI,IAAI,KAAK,CAAC,WAAW,EAAE,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;SACzF;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,qBAAqB,CAAC,KAAK,IAAI,EAAE;YACrD,IAAI,EAAE,KAAK,YAAY,IAAI;iBACtB,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,6DAA6D,CAAC,CAAC;aAC/F;YACD,KAAK,GAAG,CAAC,KAAK,YAAY,IAAI,IAAI,KAAK,CAAC,WAAW,EAAE,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;SACzF;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;YAC9C,IAAI,EAAE,KAAK,YAAY,IAAI;iBACtB,OAAO,KAAK,CAAC,OAAO,EAAE,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,qEAAqE;oBAC9F,mDAAmD,CAAC,CAAC;aAC5D;YACD,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;SACjC;aACI,IAAI,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;YAC9C,IAAI,CAACE,UAAgB,CAAC,KAAK,CAAC,EAAE;gBAC1B,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,sDAAsD,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;aACxG;YACD,KAAK,GAAG,KAAK,CAAC;SACjB;KACJ;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,qBAAqB,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;IACnE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;QACxB,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,yBAAyB,CAAC,CAAC;KAC3D;IACD,IAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACtC,IAAI,CAAC,WAAW,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACjD,MAAM,IAAI,KAAK,CAAC,yDAAyD;aACpE,2CAA2C,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC;KACzE;IACD,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACpC,SAAS,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;KAC3E;IACD,OAAO,SAAS,CAAC;CACpB;AACD,SAAS,uBAAuB,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;IACrE,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;QAC5B,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,0BAA0B,CAAC,CAAC;KAC5D;IACD,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IAClC,IAAI,CAAC,SAAS,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;QAC7C,MAAM,IAAI,KAAK,CAAC,6DAA6D;aACxE,2CAA2C,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC;KACzE;IACD,IAAI,cAAc,GAAG,EAAE,CAAC;IACxB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC7D,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QACjB,cAAc,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,SAAS,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;KAC9F;IACD,OAAO,cAAc,CAAC;CACzB;;;;;;AAMD,SAAS,sBAAsB,CAAC,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE;IAC5D,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;IAC7C,IAAI,CAAC,UAAU,EAAE;QACb,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACtC,IAAI,CAAC,SAAS,EAAE;YACZ,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,UAAU,GAAG,qCAAqC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;SAClJ;QACD,IAAI,WAAW,GAAG,UAAU,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,EAAE;YACd,MAAM,IAAI,KAAK,CAAC,mDAAmD,GAAG,SAAS,GAAG,KAAK,CAAC,CAAC;SAC5F;QACD,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,UAAU,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,qDAAqD;iBAChE,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,eAAe,GAAG,SAAS,GAAG,kBAAkB,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC;SAC5H;KACJ;IACD,OAAO,UAAU,CAAC;CACrB;AACD,SAAS,sBAAsB,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;IACpE,IAAI,EAAE,CAAC;IACP,IAAI,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE;QACtC,MAAM,GAAG,oBAAoB,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC;KAC3E;IACD,IAAI,MAAM,IAAI,SAAS,EAAE;QACrB,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,UAAU,GAAG,sBAAsB,CAAC,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QACxE,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACjE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,cAAc,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;YACrC,IAAI,cAAc,CAAC,QAAQ,EAAE;gBACzB,SAAS;aACZ;YACD,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC;YACtB,IAAI,YAAY,GAAG,OAAO,CAAC;YAC3B,IAAI,UAAU,CAAC,KAAK,EAAE;gBAClB,IAAI,cAAc,CAAC,YAAY,EAAE;oBAC7B,QAAQ,GAAG,cAAc,CAAC,OAAO,CAAC;iBACrC;qBACI;oBACD,QAAQ,GAAG,cAAc,CAAC,cAAc,IAAI,cAAc,CAAC,OAAO,CAAC;iBACtE;aACJ;iBACI;gBACD,IAAI,KAAK,GAAG,kBAAkB,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;gBAC9D,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACzD,IAAI,QAAQ,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;oBAC3B,IAAI,WAAW,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;oBACzC,IAAI,CAAC,WAAW,IAAI,SAAS,MAAM,MAAM,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,EAAE;wBAC1D,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;qBAC/B;oBACD,YAAY,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;iBACzC;aACJ;YACD,IAAI,YAAY,IAAI,SAAS,EAAE;gBAC3B,IAAI,kBAAkB,GAAG,cAAc,CAAC,cAAc,KAAK,EAAE;sBACvD,UAAU,GAAG,GAAG,GAAG,cAAc,CAAC,cAAc;sBAChD,UAAU,CAAC;gBACjB,IAAI,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9B,IAAI,wBAAwB,GAAG,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC;gBACpE,IAAI,wBAAwB,IAAI,wBAAwB,CAAC,UAAU,KAAK,GAAG,IAAI,WAAW,IAAI,SAAS,EAAE;oBACrG,WAAW,GAAG,MAAM,CAAC,cAAc,CAAC;iBACvC;gBACD,IAAI,eAAe,GAAG,UAAU,CAAC,SAAS,CAAC,cAAc,EAAE,WAAW,EAAE,kBAAkB,CAAC,CAAC;gBAC5F,IAAI,eAAe,KAAK,SAAS,IAAI,QAAQ,IAAI,SAAS,EAAE;oBACxD,IAAI,cAAc,CAAC,cAAc,EAAE;;;;wBAI/B,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;wBACtC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,eAAe,CAAC;qBAC9C;yBACI,IAAI,cAAc,CAAC,YAAY,EAAE;wBAClC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,cAAc,CAAC,cAAc,CAAC,GAAG,eAAe,EAAE,EAAE,CAAC,CAAC;qBAC/F;yBACI;wBACD,YAAY,CAAC,QAAQ,CAAC,GAAG,eAAe,CAAC;qBAC5C;iBACJ;aACJ;SACJ;QACD,IAAI,0BAA0B,GAAG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC;QAClE,IAAI,0BAA0B,EAAE;YAC5B,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACxC,IAAI,OAAO,GAAG,UAAU,cAAc,EAAE;gBACpC,IAAI,oBAAoB,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,cAAc,CAAC,EAAE,CAAC,CAAC;gBAC5F,IAAI,oBAAoB,EAAE;oBACtB,OAAO,CAAC,cAAc,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,0BAA0B,EAAE,MAAM,CAAC,cAAc,CAAC,EAAE,UAAU,GAAG,IAAI,GAAG,cAAc,GAAG,IAAI,CAAC,CAAC;iBACjJ;aACJ,CAAC;YACF,KAAK,IAAI,cAAc,IAAI,MAAM,EAAE;gBAC/B,OAAO,CAAC,cAAc,CAAC,CAAC;aAC3B;SACJ;QACD,OAAO,OAAO,CAAC;KAClB;IACD,OAAO,MAAM,CAAC;CACjB;AACD,SAAS,wBAAwB,CAAC,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE;IAC5E,IAAI,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE;QACtC,MAAM,GAAG,oBAAoB,CAAC,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,gBAAgB,CAAC,CAAC;KACrF;IACD,IAAI,UAAU,GAAG,sBAAsB,CAAC,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;IACxE,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QACjE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QACjB,IAAI,cAAc,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QACrC,IAAI,cAAc,GAAG,cAAc,CAAC,cAAc,EAAE,OAAO,GAAG,cAAc,CAAC,OAAO,EAAE,cAAc,GAAG,cAAc,CAAC,cAAc,CAAC;QACrI,IAAI,kBAAkB,GAAG,UAAU,CAAC;QACpC,IAAI,cAAc,KAAK,EAAE,IAAI,cAAc,KAAK,SAAS,EAAE;YACvD,kBAAkB,GAAG,UAAU,GAAG,GAAG,GAAG,cAAc,CAAC;SAC1D;QACD,IAAI,sBAAsB,GAAG,cAAc,CAAC,sBAAsB,CAAC;QACnE,IAAI,sBAAsB,EAAE;YACxB,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACnE,IAAI,SAAS,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACvB,IAAI,SAAS,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE;oBAC9C,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,SAAS,CAAC,EAAE,kBAAkB,CAAC,CAAC;iBACnK;aACJ;YACD,QAAQ,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;SAC9B;aACI,IAAI,UAAU,CAAC,KAAK,EAAE;YACvB,IAAI,cAAc,CAAC,cAAc,IAAI,YAAY,CAAC,CAAC,EAAE;gBACjD,QAAQ,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,kBAAkB,CAAC,CAAC;aACvG;iBACI;gBACD,IAAI,YAAY,GAAG,cAAc,IAAI,OAAO,IAAI,cAAc,CAAC;gBAC/D,IAAI,iBAAiB,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC;gBACnD,IAAI,cAAc,CAAC,YAAY,EAAE;oBAC7B,iBAAiB,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;oBAC1C,iBAAiB,GAAG,iBAAiB,IAAI,iBAAiB,CAAC,cAAc,CAAC,CAAC;oBAC3E,IAAI,kBAAkB,GAAG,iBAAiB,KAAK,SAAS,CAAC;oBACzD,IAAI,kBAAkB,EAAE;wBACpB,iBAAiB,GAAG,EAAE,CAAC;qBAC1B;iBACJ;gBACD,QAAQ,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,cAAc,EAAE,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;aACjG;SACJ;aACI;YACD,IAAI,KAAK,GAAG,kBAAkB,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC;;YAE/D,IAAI,gBAAgB,GAAG,KAAK,CAAC,CAAC;YAC9B,IAAI,GAAG,GAAG,YAAY,CAAC;;YAEvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACzD,IAAI,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;gBACvB,IAAI,CAAC,GAAG;oBACJ,MAAM;gBACV,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;aACnB;YACD,gBAAgB,GAAG,GAAG,CAAC;YACvB,IAAI,wBAAwB,GAAG,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC;YACpE,IAAI,wBAAwB,IAAI,cAAc,CAAC,cAAc,KAAK,wBAAwB,CAAC,cAAc,IAAI,gBAAgB,IAAI,SAAS,EAAE;gBACxI,gBAAgB,GAAG,MAAM,CAAC,cAAc,CAAC;aAC5C;YACD,IAAI,eAAe,GAAG,KAAK,CAAC,CAAC;;YAE7B,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,cAAc,KAAK,EAAE,EAAE;gBAC3E,gBAAgB,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;gBACrC,QAAQ,GAAG,UAAU,CAAC,WAAW,CAAC,cAAc,EAAE,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;aAC3F;iBACI,IAAI,gBAAgB,KAAK,SAAS,EAAE;gBACrC,eAAe,GAAG,UAAU,CAAC,WAAW,CAAC,cAAc,EAAE,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;gBAC/F,QAAQ,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC;aACnC;SACJ;KACJ;IACD,IAAI,0BAA0B,GAAG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC;IAClE,IAAI,0BAA0B,EAAE;QAC5B,IAAI,oBAAoB,GAAG,UAAU,gBAAgB,EAAE;YACnD,KAAK,IAAI,cAAc,IAAI,UAAU,EAAE;gBACnC,IAAI,KAAK,GAAG,kBAAkB,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,CAAC;gBAC1E,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,gBAAgB,EAAE;oBAC/B,OAAO,KAAK,CAAC;iBAChB;aACJ;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,IAAI,gBAAgB,IAAI,YAAY,EAAE;YACvC,IAAI,oBAAoB,CAAC,gBAAgB,CAAC,EAAE;gBACxC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,0BAA0B,EAAE,YAAY,CAAC,gBAAgB,CAAC,EAAE,UAAU,GAAG,IAAI,GAAG,gBAAgB,GAAG,IAAI,CAAC,CAAC;aAChK;SACJ;KACJ;IACD,OAAO,QAAQ,CAAC;CACnB;AACD,SAAS,yBAAyB,CAAC,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE;;IAE7E,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IAC9B,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QACrC,MAAM,IAAI,KAAK,CAAC,6DAA6D;aACxE,2CAA2C,GAAG,UAAU,CAAC,CAAC,CAAC;KACnE;IACD,IAAI,YAAY,EAAE;QACd,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACnE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACjB,cAAc,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,KAAK,EAAE,YAAY,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;SACtF;QACD,OAAO,cAAc,CAAC;KACzB;IACD,OAAO,YAAY,CAAC;CACvB;AACD,SAAS,uBAAuB,CAAC,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE;;IAE3E,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IAClC,IAAI,CAAC,OAAO,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;QACzC,MAAM,IAAI,KAAK,CAAC,yDAAyD;aACpE,2CAA2C,GAAG,UAAU,CAAC,CAAC,CAAC;KACnE;IACD,IAAI,YAAY,EAAE;QACd,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;;YAE9B,YAAY,GAAG,CAAC,YAAY,CAAC,CAAC;SACjC;QACD,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC1C,SAAS,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;SAC/E;QACD,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,YAAY,CAAC;CACvB;AACD,SAAS,oBAAoB,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,uBAAuB,EAAE;IAC/E,IAAI,wBAAwB,GAAG,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC;IACpE,IAAI,wBAAwB,EAAE;QAC1B,IAAI,iBAAiB,GAAG,wBAAwB,CAAC,uBAAuB,CAAC,CAAC;QAC1E,IAAI,iBAAiB,IAAI,SAAS,EAAE;YAChC,IAAI,kBAAkB,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;YACnD,IAAI,kBAAkB,IAAI,SAAS,EAAE;gBACjC,IAAI,kBAAkB,GAAG,kBAAkB,KAAK,MAAM,CAAC,IAAI,CAAC,UAAU;sBAChE,kBAAkB;sBAClB,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,kBAAkB,CAAC;gBACxD,IAAI,iBAAiB,GAAG,UAAU,CAAC,YAAY,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;gBACnF,IAAI,iBAAiB,EAAE;oBACnB,MAAM,GAAG,iBAAiB,CAAC;iBAC9B;aACJ;SACJ;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;;AAED,AAAO,SAAS,eAAe,CAAC,WAAW,EAAE;IACzC,IAAI,WAAW,IAAI,SAAS;QACxB,OAAO,SAAS,CAAC;IACrB,IAAI,WAAW,YAAY,UAAU,EAAE;QACnC,WAAW,GAAGF,eAAsB,CAAC,WAAW,CAAC,CAAC;QAClD,OAAO,WAAW,CAAC;KACtB;SACI,IAAI,WAAW,YAAY,IAAI,EAAE;QAClC,OAAO,WAAW,CAAC,WAAW,EAAE,CAAC;KACpC;SACI,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;QACjC,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;QACD,OAAO,KAAK,CAAC;KAChB;SACI,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;QACtC,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,KAAK,IAAI,QAAQ,IAAI,WAAW,EAAE;YAC9B,UAAU,CAAC,QAAQ,CAAC,GAAG,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC;SACjE;QACD,OAAO,UAAU,CAAC;KACrB;IACD,OAAO,WAAW,CAAC;CACtB;;;;AAID,SAAS,OAAO,CAAC,CAAC,EAAE;IAChB,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC7C,IAAI,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;QAClB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;KACrB;IACD,OAAO,MAAM,CAAC;CACjB;AACD,AAAU,IAAC,UAAU,GAAG,OAAO,CAAC;IAC5B,WAAW;IACX,SAAS;IACT,WAAW;IACX,WAAW;IACX,MAAM;IACN,UAAU;IACV,iBAAiB;IACjB,YAAY;IACZ,MAAM;IACN,QAAQ;IACR,QAAQ;IACR,UAAU;IACV,QAAQ;IACR,QAAQ;IACR,UAAU;IACV,UAAU;CACb,CAAC;;ACvtBF;AACA,AAIA;;;;;;;;AAQA,AAAG,IAAC,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,kBAAkB,EAAE,eAAe,EAAE,WAAW,EAAE,OAAO,EAAE,gBAAgB,EAAE,kBAAkB,EAAE;QACrJ,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC;QAC9B,IAAI,CAAC,OAAO,IAAI,OAAO,YAAY,WAAW,GAAG,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,eAAe,IAAI,KAAK,CAAC;QAChD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;KAChD;;;;;;IAMD,WAAW,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QAC1D,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;SACtD;QACD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;SACnD;KACJ,CAAC;;;;;;IAMF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE;QAC/C,IAAI,CAAC,OAAO,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;SACjD;QACD,IAAI,OAAO,CAAC,MAAM,IAAI,SAAS,IAAI,OAAO,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;YAC7E,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACvD;QACD,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,YAAY,EAAE;YACrC,MAAM,IAAI,KAAK,CAAC,kGAAkG,CAAC,CAAC;SACvH;QACD,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,SAAS,IAAI,OAAO,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,QAAQ,MAAM,OAAO,CAAC,GAAG,IAAI,SAAS,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,QAAQ,CAAC,EAAE;YACtK,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;SACzF;;QAED,IAAI,OAAO,CAAC,GAAG,EAAE;YACb,IAAI,OAAO,OAAO,CAAC,GAAG,KAAK,QAAQ,EAAE;gBACjC,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;aAC9D;YACD,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;SAC1B;;QAED,IAAI,OAAO,CAAC,MAAM,EAAE;YAChB,IAAI,YAAY,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;YACzF,IAAI,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC3D,MAAM,IAAI,KAAK,CAAC,wBAAwB,GAAG,OAAO,CAAC,MAAM,GAAG,6CAA6C,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;aAC7I;SACJ;QACD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;;QAE3C,IAAI,OAAO,CAAC,YAAY,EAAE;YACtB,IAAI,cAAc,GAAG,OAAO,CAAC,YAAY,EAAE,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC;YACrF,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE;gBACpC,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;aACvE;YACD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBAClB,OAAO,CAAC,OAAO,GAAG,8BAA8B,CAAC;aACpD;YACD,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAC9B,IAAI,KAAK,GAAG,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC;YACvI,IAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YAC9C,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;gBAC7B,IAAI,CAAC,gBAAgB,EAAE;oBACnB,MAAM,IAAI,KAAK,CAAC,gBAAgB,GAAG,cAAc,GAAG,0EAA0E,CAAC,CAAC;iBACnI;gBACD,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;oBAC7B,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBACtC,IAAI,SAAS,GAAG,gBAAgB,CAAC,aAAa,CAAC,CAAC;oBAChD,IAAI,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,SAAS,IAAI,EAAE,OAAO,SAAS,KAAK,QAAQ,IAAI,OAAO,SAAS,KAAK,QAAQ,CAAC,EAAE;wBACpH,MAAM,IAAI,KAAK,CAAC,gBAAgB,GAAG,cAAc,GAAG,+BAA+B,GAAG,aAAa;6BAC9F,iCAAiC,GAAG,gBAAgB,GAAG,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,SAAS,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC;6BACpH,2EAA2E,GAAG,aAAa,GAAG,+BAA+B,CAAC;6BAC9H,0CAA0C,GAAG,aAAa,GAAG,gEAAgE,CAAC,CAAC,CAAC;qBACxI;oBACD,IAAI,OAAO,SAAS,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;wBACzC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;qBAC9D;oBACD,IAAI,OAAO,SAAS,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;wBACzC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;4BAClB,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,aAAa,GAAG,uEAAuE,CAAC,CAAC;yBACxI;wBACD,IAAI,SAAS,CAAC,eAAe,EAAE;4BAC3B,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;yBAChD;6BACI;4BACD,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;yBACpE;qBACJ;iBACJ,CAAC,CAAC;aACN;YACD,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;SACpB;;QAED,IAAI,OAAO,CAAC,eAAe,EAAE;YACzB,IAAI,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;YAC9C,IAAI,OAAO,eAAe,KAAK,QAAQ,EAAE;gBACrC,MAAM,IAAI,KAAK,CAAC,6EAA6E;oBACzF,yFAAyF;oBACzF,mJAAmJ,CAAC,CAAC;aAC5J;;YAED,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC1C,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC;aACnB;;YAED,IAAI,WAAW,GAAG,EAAE,CAAC;;YAErB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,KAAK,IAAI,cAAc,IAAI,eAAe,EAAE;gBACxC,IAAI,UAAU,GAAG,eAAe,CAAC,cAAc,CAAC,CAAC;gBACjD,IAAI,UAAU,EAAE;oBACZ,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;wBAChC,WAAW,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC;wBACxE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC;qBAC/D;yBACI,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;wBACrC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;4BACnB,MAAM,IAAI,KAAK,CAAC,0BAA0B,GAAG,cAAc,GAAG,uEAAuE,CAAC,CAAC;yBAC1I;wBACD,IAAI,UAAU,CAAC,eAAe,EAAE;4BAC5B,WAAW,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;4BAC1D,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;yBACjD;6BACI;4BACD,WAAW,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;4BAC9E,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;yBACrE;qBACJ;iBACJ;aACJ;;YAED,IAAI,CAAC,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACrC;;QAED,IAAI,OAAO,CAAC,OAAO,EAAE;YACjB,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAC9B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACtE,IAAI,UAAU,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACxB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;aACrD;SACJ;;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE;YACtC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;SAChD;;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE;YAChF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,YAAY,EAAE,CAAC,CAAC;SAC9D;;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE;YACnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,iCAAiC,CAAC,CAAC;SACvE;;QAED,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,OAAO,CAAC,IAAI,IAAI,SAAS,EAAE;;YAE3B,IAAI,OAAO,CAAC,YAAY,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE;oBACxC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;iBACpD;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,0BAA0B,EAAE;oBACjE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,0BAA0B,CAAC,CAAC;iBAChE;aACJ;iBACI;gBACD,IAAI,OAAO,CAAC,mBAAmB,EAAE;oBAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,mBAAmB,EAAE,OAAO,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;iBACnH;gBACD,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAAE;oBACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;iBAC5C;aACJ;SACJ;QACD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QACvC,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,CAAC;QACrD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;QACjD,OAAO,IAAI,CAAC;KACf,CAAC;;;;;IAKF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACtC,IAAI,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAChP,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAChC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAC1C,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAClD,MAAM,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAC9D,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC;;ACzNJ;AACA,AAEG,IAAC,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CG,iBAAiB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE;QACnE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC/C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACxB,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC1B,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,KAAK,CAAC;KAChB;IACD,SAAS,CAAC,kBAAkB,GAAG,oBAAoB,CAAC;IACpD,SAAS,CAAC,qBAAqB,GAAG,uBAAuB,CAAC;IAC1D,SAAS,CAAC,WAAW,GAAG,aAAa,CAAC;IACtC,OAAO,SAAS,CAAC;CACpB,CAAC,KAAK,CAAC,CAAC;;ACnBT;AACA,AAQA,IAAI,WAAW,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;;AAEjC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE,EAAE,QAAQC,gBAAgB,CAAC,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;;;;AAI7J,AAAG,IAAC,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,GAAG;QACvB,IAAI,CAAC,SAAS,GAAG,IAAIC,eAAe,EAAE,CAAC;KAC1C;IACD,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,WAAW,EAAE;QAC3D,OAAOC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;YACvD,IAAI,QAAQ,EAAE,aAAa,EAAE,eAAe,EAAE,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,WAAW,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,UAAU,EAAE,eAAe,EAAE,SAAS,EAAE,gBAAgB,EAAE,aAAa,EAAE,kBAAkB,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,kBAAkB,EAAE,YAAY,EAAE,aAAa,EAAE,oBAAoB,EAAE,QAAQ,EAAE,iBAAiB,EAAE,iBAAiB,CAAC;YAC3Y,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,OAAOC,mBAAmB,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBAC3C,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,IAAI,CAAC,WAAW,EAAE;4BACd,MAAM,IAAI,KAAK,CAAC,mFAAmF,CAAC,CAAC;yBACxG;wBACD,IAAI,WAAW,CAAC,QAAQ,EAAE;4BACtB,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;4BAChC,aAAa,GAAG,IAAI,QAAQ,EAAE,CAAC;4BAC/B,eAAe,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;;gCAEpC,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;oCAC7B,KAAK,GAAG,KAAK,EAAE,CAAC;iCACnB;gCACD,IAAI,KAAK,IAAI,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oCAC3E,aAAa,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;iCACzD;qCACI;oCACD,aAAa,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;iCACpC;6BACJ,CAAC;4BACF,KAAK,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gCAC3D,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gCACjB,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;gCAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;oCAC1B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wCACnC,eAAe,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;qCAC1C;iCACJ;qCACI;oCACD,eAAe,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;iCACvC;6BACJ;4BACD,WAAW,CAAC,IAAI,GAAG,aAAa,CAAC;4BACjC,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC;4BACjC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;4BACtD,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,EAAE;gCAClE,IAAI,OAAO,aAAa,CAAC,WAAW,KAAK,UAAU,EAAE;oCACjD,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,gCAAgC,GAAG,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;iCAC3G;qCACI;;oCAED,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;iCAC9C;6BACJ;yBACJ;wBACD,IAAI,EAAE,IAAI,CAAC,SAAS,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACrF,OAAO,CAAC,CAAC,YAAY,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;gCACpD,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,MAAM,EAAE;oCACpE,IAAI,GAAG,EAAE;wCACL,MAAM,CAAC,GAAG,CAAC,CAAC;qCACf;yCACI;wCACD,OAAO,CAAC,MAAM,CAAC,CAAC;qCACnB;iCACJ,CAAC,CAAC;6BACN,CAAC,CAAC,CAAC;oBACZ,KAAK,CAAC;wBACF,YAAY,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBACzB,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;wBAChD,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;wBACtC,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,EAAE;4BACpC,MAAM,IAAI,SAAS,CAAC,yBAAyB,EAAE,SAAS,CAAC,qBAAqB,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;yBAC3G;wBACD,WAAW,GAAG,WAAW,IAAI,IAAI,KAAK,CAAC,WAAW,CAAC,UAAU,QAAQ,EAAE;4BACnE,aAAa,GAAG,YAAY,EAAE,OAAO,QAAQ,EAAE,CAAC,EAAE,CAAC;4BACnD,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;yBACxD,CAAC,CAAC;wBACH,UAAU,GAAG,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;wBAC9C,eAAe,GAAG,WAAW,CAAC,IAAI,CAAC;wBACnC,SAAS;;;wBAGT,OAAO,eAAe,KAAK,WAAW,GAAG,IAAI;4BACzC,OAAO,eAAe,KAAK,UAAU,GAAG,eAAe,EAAE;gCACrD,eAAe,CAAC;wBACxB,gBAAgB,GAAG,WAAW,CAAC,gBAAgB,CAAC;wBAChD,IAAI,gBAAgB,IAAI,SAAS,EAAE;4BAC/B,aAAa,GAAG,CAAC,CAAC;4BAClB,kBAAkB,GAAG,IAAIC,gBAAS,CAAC;gCAC/B,SAAS,EAAE,UAAU,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE;oCAC7C,aAAa,IAAI,KAAK,CAAC,MAAM,CAAC;oCAC9B,gBAAgB,CAAC,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC,CAAC;oCACjD,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;iCAC9B;6BACJ,CAAC,CAAC;4BACH,IAAI,gBAAgB,CAAC,SAAS,CAAC,EAAE;gCAC7B,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;6BACtC;iCACI;gCACD,kBAAkB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;6BACrC;4BACD,SAAS,GAAG,kBAAkB,CAAC;yBAClC;wBACD,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;wBAC3B,MAAM,GAAG;4BACL,MAAM,EAAE,WAAW,CAAC,MAAM;4BAC1B,GAAG,EAAE,WAAW,CAAC,GAAG;4BACpB,OAAO,EAAE,UAAU;4BACnB,IAAI,EAAE,SAAS;4BACf,iBAAiB,EAAE,SAAS;4BAC5B,cAAc,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE;;4BAE5C,gBAAgB,EAAE,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE;4BACzC,YAAY,EAAE,WAAW,CAAC,kBAAkB,GAAG,QAAQ,GAAG,MAAM;4BAChE,WAAW,EAAE,WAAW;4BACxB,OAAO,EAAE,WAAW,CAAC,OAAO;yBAC/B,CAAC;wBACF,OAAO,CAAC,CAAC,YAAY,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9C,KAAK,CAAC;wBACF,GAAG,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBAChB,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC;wBACF,KAAK,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBAClB,IAAI,KAAK,YAAY,KAAK,CAAC,MAAM,EAAE;4BAC/B,MAAM,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,kBAAkB,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;yBAC5F;6BACI;4BACD,QAAQ,GAAG,KAAK,CAAC;4BACjB,MAAM,IAAI,SAAS,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,CAAC,kBAAkB,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;yBAC/F;wBACD,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC;wBACF,IAAI,WAAW,IAAI,aAAa,EAAE;4BAC9B,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;yBAC3D;wBACD,OAAO,CAAC,CAAC,gBAAgB,CAAC;oBAC9B,KAAK,CAAC;wBACF,OAAO,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACvC,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC;wBACpD,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC;wBACxB,IAAI,kBAAkB,EAAE;4BACpB,IAAI,gBAAgB,CAAC,YAAY,CAAC,EAAE;gCAChC,aAAa,GAAG,CAAC,CAAC;gCAClB,oBAAoB,GAAG,IAAIA,gBAAS,CAAC;oCACjC,SAAS,EAAE,UAAU,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE;wCAC7C,aAAa,IAAI,KAAK,CAAC,MAAM,CAAC;wCAC9B,kBAAkB,CAAC,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC,CAAC;wCACnD,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;qCAC9B;iCACJ,CAAC,CAAC;gCACH,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;gCACxC,YAAY,GAAG,oBAAoB,CAAC;6BACvC;iCACI;gCACD,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,IAAI,YAAY,CAAC,MAAM,IAAI,SAAS,CAAC;gCACvF,IAAI,QAAQ,EAAE;;oCAEV,kBAAkB,CAAC,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAC;iCACjD;6BACJ;yBACJ;wBACD,iBAAiB,GAAG;4BAChB,OAAO,EAAE,WAAW;4BACpB,MAAM,EAAE,GAAG,CAAC,MAAM;4BAClB,OAAO,EAAE,OAAO;4BAChB,kBAAkB,EAAE,WAAW,CAAC,kBAAkB,GAAG,YAAY,GAAG,SAAS;4BAC7E,UAAU,EAAE,WAAW,CAAC,kBAAkB,GAAG,SAAS,GAAG,YAAY;yBACxE,CAAC;wBACF,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC7C,iBAAiB,GAAG,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAChE,IAAI,EAAE,iBAAiB,IAAI,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC/D,OAAO,CAAC,CAAC,YAAY,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;gCACpD,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,iBAAiB,EAAE,WAAW,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE;oCACzE,IAAI,GAAG,EAAE;wCACL,MAAM,CAAC,GAAG,CAAC,CAAC;qCACf;yCACI;wCACD,OAAO,EAAE,CAAC;qCACb;iCACJ,CAAC,CAAC;6BACN,CAAC,CAAC,CAAC;oBACZ,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,aAAa,iBAAiB,CAAC,CAAC;iBACpD;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;AACL,AACA,SAAS,gBAAgB,CAAC,IAAI,EAAE;IAC5B,OAAO,OAAO,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC;CAC1C;;ACpND,4DAA4D;;ACA5D;AACA,AAKA,CAAC,UAAU,oBAAoB,EAAE;;;;IAI7B,oBAAoB,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;;;;IAI9D,oBAAoB,CAAC,oBAAoB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;;;;IAIlE,oBAAoB,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC;;;;IAItE,oBAAoB,CAAC,oBAAoB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;CACnE,EAAEC,4BAAoB,KAAKA,4BAAoB,GAAG,EAAE,CAAC,CAAC,CAAC;;ACvBxD;;;;;;;AAOA,AAAO,SAAS,0BAA0B,CAAC,SAAS,EAAE;IAClD,OAAO,8BAA8B,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;CACpF;AACD,AAAO,SAAS,8BAA8B,CAAC,aAAa,EAAE,MAAM,EAAE;IAClE,IAAI,MAAM,CAAC;IACX,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;QACnC,MAAM,GAAG,aAAa,CAAC;KAC1B;SACI,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;QACnC,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACpC;SACI;QACD,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC;KAClC;IACD,OAAO,MAAM,CAAC;CACjB;;ACtBD;AACA,AAEO,SAAS,iBAAiB,CAAC,aAAa,EAAE;IAC7C,IAAI,MAAM,GAAG,KAAK,CAAC;IACnB,KAAK,IAAI,UAAU,IAAI,aAAa,CAAC,SAAS,EAAE;QAC5C,IAAI,iBAAiB,GAAG,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC5D,IAAI,iBAAiB,CAAC,UAAU,IAAI,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;YAC9F,MAAM,GAAG,IAAI,CAAC;YACd,MAAM;SACT;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;;ACbD;AACA,AAEO,SAAS,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE;IACpC,IAAI,OAAO,GAAG,IAAIC,cAAc,CAAC;QAC7B,aAAa,EAAE,KAAK;QACpB,eAAe,EAAE,KAAK;QACtB,QAAQ,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,QAAQ;QAC/B,UAAU,EAAE;YACR,MAAM,EAAE,KAAK;SAChB;KACJ,CAAC,CAAC;IACH,OAAO,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;CACnC;AACD,AAAO,SAAS,QAAQ,CAAC,GAAG,EAAE;IAC1B,IAAI,SAAS,GAAG,IAAIC,aAAa,CAAC;QAC9B,aAAa,EAAE,KAAK;QACpB,eAAe,EAAE,KAAK;QACtB,YAAY,EAAE,KAAK;KACtB,CAAC,CAAC;IACH,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;QAC1C,IAAI,CAAC,GAAG,EAAE;YACN,MAAM,CAAC,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;SAC1C;aACI;YACD,SAAS,CAAC,WAAW,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;gBAC3C,IAAI,GAAG,EAAE;oBACL,MAAM,CAAC,GAAG,CAAC,CAAC;iBACf;qBACI;oBACD,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;aACJ,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;CACN;;ACnCD;AACA,AAEG,IAAC,iBAAiB,kBAAkB,YAAY;IAC/C,SAAS,iBAAiB,CAAC,WAAW,EAAE,QAAQ,EAAE;QAC9C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC5B;;;;;;IAMD,iBAAiB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;QACxD,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC5C,CAAC;;;;;;;IAOF,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,OAAO,EAAE;QAC3D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;KACxC,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,AAAG,IAAC,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,OAAO,EAAE;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;;;;;;IAMD,oBAAoB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;QAC3D,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO;YACjB,QAAQ,KAAKF,4BAAoB,CAAC,GAAG;YACrC,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;KAChD,CAAC;;;;;;;IAOF,oBAAoB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,OAAO,EAAE;QAC9D,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC1C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;SACvC;KACJ,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC;;ACzDJ;AACA,AAQA;;;;AAIA,AAAO,SAAS,qBAAqB,CAAC,2BAA2B,EAAE;IAC/D,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,qBAAqB,CAAC,UAAU,EAAE,2BAA2B,EAAE,OAAO,CAAC,CAAC;SACtF;KACJ,CAAC;CACL;AACD,AAAO,IAAI,uBAAuB,GAAG,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC;AACvE,AAAO,IAAI,sBAAsB,GAAG,CAAC,iBAAiB,EAAE,sBAAsB,CAAC,CAAC;;;;;AAKhF,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDN,iBAAiB,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACjD,SAAS,qBAAqB,CAAC,UAAU,EAAE,2BAA2B,EAAE,OAAO,EAAE;QAC7E,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,gBAAgB,GAAG,2BAA2B,IAAI,2BAA2B,CAAC,IAAI,IAAI,uBAAuB,CAAC;QACpH,KAAK,CAAC,eAAe,GAAG,2BAA2B,IAAI,2BAA2B,CAAC,GAAG,IAAI,sBAAsB,CAAC;QACjH,OAAO,KAAK,CAAC;KAChB;IACD,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QAC7D,OAAOG,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;YACvD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,OAAOC,mBAAmB,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBAC3C,OAAO,CAAC,CAAC,aAAa,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,uBAAuB,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACvL,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,SAAS,oBAAoB,CAAC,cAAc,EAAE;IAC1C,IAAI,MAAM,CAAC;IACX,IAAI,OAAO,GAAG,cAAc,CAAC,OAAO,CAAC;IACrC,IAAI,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;IAC1C,IAAI,aAAa,EAAE;QACf,IAAI,uBAAuB,GAAG,OAAO,CAAC,uBAAuB,CAAC;QAC9D,IAAI,CAAC,uBAAuB,EAAE;YAC1B,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;SAC3D;aACI;YACD,MAAM,GAAG,uBAAuB,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;SACnE;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;AACD,SAAS,yBAAyB,CAAC,cAAc,EAAE;IAC/C,IAAI,iBAAiB,GAAG,cAAc,CAAC,OAAO,CAAC,iBAAiB,CAAC;IACjE,IAAI,MAAM,CAAC;IACX,IAAI,iBAAiB,KAAK,SAAS,EAAE;QACjC,MAAM,GAAG,IAAI,CAAC;KACjB;SACI,IAAI,OAAO,iBAAiB,KAAK,SAAS,EAAE;QAC7C,MAAM,GAAG,iBAAiB,CAAC;KAC9B;SACI;QACD,MAAM,GAAG,iBAAiB,CAAC,cAAc,CAAC,CAAC;KAC9C;IACD,OAAO,MAAM,CAAC;CACjB;AACD,AAAO,SAAS,uBAAuB,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,EAAE;IACjF,OAAO,KAAK,CAAC,gBAAgB,EAAE,eAAe,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,cAAc,EAAE;QACrF,IAAI,iBAAiB,GAAG,yBAAyB,CAAC,cAAc,CAAC,CAAC;QAClE,IAAI,iBAAiB,EAAE;YACnB,IAAI,aAAa,GAAG,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC;YACzD,IAAI,aAAa,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC1C,IAAI,UAAU,GAAG,cAAc,CAAC,MAAM,CAAC;gBACvC,IAAI,mBAAmB,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,wBAAwB,IAAI,mBAAmB,CAAC,MAAM,KAAK,CAAC,KAAK,mBAAmB,CAAC,MAAM,KAAK,CAAC,IAAI,mBAAmB,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChJ,IAAI,YAAY,GAAG,oBAAoB,CAAC,cAAc,CAAC,CAAC;gBACxD,IAAI,oBAAoB,GAAG,wBAAwB,IAAI,GAAG,IAAI,UAAU,IAAI,UAAU,GAAG,GAAG,IAAI,CAAC,CAAC,YAAY,CAAC;gBAC/G,IAAI,CAAC,oBAAoB,EAAE;oBACvB,IAAI,mBAAmB,GAAG,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC;oBAC1D,IAAI,mBAAmB,EAAE;wBACrB,IAAI,mBAAmB,GAAG,iBAAiB,CAAC,aAAa,CAAC;8BACpD,0BAA0B,GAAG,UAAU;8BACvC,cAAc,CAAC,UAAU,CAAC;wBAChC,IAAI,KAAK,GAAG,IAAI,SAAS,CAAC,mBAAmB,CAAC,CAAC;wBAC/C,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;wBAC9B,KAAK,CAAC,OAAO,GAAGK,YAAkB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;wBAC3D,KAAK,CAAC,QAAQ,GAAGC,aAAmB,CAAC,cAAc,CAAC,CAAC;wBACrD,IAAI,mBAAmB,GAAG,cAAc,CAAC,UAAU,CAAC;wBACpD,IAAI;4BACA,IAAI,mBAAmB,EAAE;gCACrB,IAAI,yBAAyB,GAAG,mBAAmB,CAAC,UAAU,CAAC;gCAC/D,IAAI,yBAAyB,IAAI,yBAAyB,CAAC,cAAc,KAAK,YAAY,EAAE;oCACxF,IAAI,mBAAmB,CAAC,KAAK,EAAE;wCAC3B,mBAAmB,GAAG,mBAAmB,CAAC,KAAK,CAAC;qCACnD;oCACD,IAAI,mBAAmB,CAAC,IAAI,EAAE;wCAC1B,KAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,IAAI,CAAC;qCACzC;oCACD,IAAI,mBAAmB,CAAC,OAAO,EAAE;wCAC7B,KAAK,CAAC,OAAO,GAAG,mBAAmB,CAAC,OAAO,CAAC;qCAC/C;iCACJ;qCACI;oCACD,IAAI,aAAa,GAAG,mBAAmB,CAAC;oCACxC,IAAI,mBAAmB,CAAC,KAAK,EAAE;wCAC3B,aAAa,GAAG,mBAAmB,CAAC,KAAK,CAAC;qCAC7C;oCACD,KAAK,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;oCAChC,IAAI,aAAa,CAAC,OAAO,EAAE;wCACvB,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;qCACzC;iCACJ;gCACD,IAAI,yBAAyB,EAAE;oCAC3B,IAAI,kBAAkB,GAAG,mBAAmB,CAAC;oCAC7C,IAAI,aAAa,CAAC,KAAK,IAAI,yBAAyB,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAE;wCACpF,kBAAkB,GAAG,OAAO,mBAAmB,KAAK,QAAQ;8CACtD,mBAAmB,CAAC,yBAAyB,CAAC,cAAc,CAAC;8CAC7D,EAAE,CAAC;qCACZ;oCACD,KAAK,CAAC,IAAI,GAAG,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,yBAAyB,EAAE,kBAAkB,EAAE,YAAY,CAAC,CAAC;iCAClH;6BACJ;yBACJ;wBACD,OAAO,YAAY,EAAE;4BACjB,KAAK,CAAC,OAAO,GAAG,UAAU,GAAG,YAAY,CAAC,OAAO,GAAG,oDAAoD,GAAG,cAAc,CAAC,UAAU,GAAG,8BAA8B,CAAC;yBACzK;wBACD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;iBACJ;qBACI,IAAI,YAAY,EAAE;oBACnB,IAAI,YAAY,CAAC,UAAU,EAAE;wBACzB,IAAI,kBAAkB,GAAG,cAAc,CAAC,UAAU,CAAC;wBACnD,IAAI,aAAa,CAAC,KAAK,IAAI,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAE;4BAClF,kBAAkB,GAAG,OAAO,kBAAkB,KAAK,QAAQ,GAAG,kBAAkB,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;yBACjI;wBACD,IAAI;4BACA,cAAc,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,EAAE,kBAAkB,EAAE,yBAAyB,CAAC,CAAC;yBAC5I;wBACD,OAAO,KAAK,EAAE;4BACV,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,QAAQ,GAAG,KAAK,GAAG,gDAAgD,GAAG,cAAc,CAAC,UAAU,CAAC,CAAC;4BAC/H,SAAS,CAAC,OAAO,GAAGD,YAAkB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;4BAC/D,SAAS,CAAC,QAAQ,GAAGC,aAAmB,CAAC,cAAc,CAAC,CAAC;4BACzD,OAAO,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;yBACpC;qBACJ;yBACI,IAAI,aAAa,CAAC,UAAU,KAAK,MAAM,EAAE;;wBAE1C,cAAc,CAAC,UAAU,GAAG,QAAQ,CAAC,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;qBAC/E;oBACD,IAAI,YAAY,CAAC,aAAa,EAAE;wBAC5B,cAAc,CAAC,aAAa,GAAG,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,aAAa,EAAE,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,4BAA4B,CAAC,CAAC;qBACtK;iBACJ;aACJ;SACJ;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KAC1C,CAAC,CAAC;CACN;AACD,SAAS,KAAK,CAAC,gBAAgB,EAAE,eAAe,EAAE,iBAAiB,EAAE;IACjE,IAAI,YAAY,GAAG,UAAU,GAAG,EAAE;QAC9B,IAAI,GAAG,GAAG,UAAU,GAAG,GAAG,GAAG,gDAAgD,GAAG,iBAAiB,CAAC,UAAU,GAAG,GAAG,CAAC;QACnH,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,IAAI,SAAS,CAAC,WAAW,CAAC;QAChD,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,GAAG,EAAE,OAAO,EAAE,iBAAiB,CAAC,MAAM,EAAE,iBAAiB,CAAC,OAAO,EAAE,iBAAiB,EAAE,iBAAiB,CAAC,UAAU,CAAC,CAAC;QAC1I,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KAC5B,CAAC;IACF,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,kBAAkB,IAAI,iBAAiB,CAAC,UAAU,EAAE;QAC/E,IAAI,MAAM,GAAG,iBAAiB,CAAC,UAAU,CAAC;QAC1C,IAAI,WAAW,GAAG,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,iBAAiB,GAAG,CAAC,WAAW,GAAG,EAAE,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,SAAS,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QACjI,IAAI,iBAAiB,CAAC,MAAM,KAAK,CAAC,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,gBAAgB,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACvI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE;gBAClC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAClD,OAAO,CAAC,iBAAiB,CAAC,CAAC;aAC9B,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;SAC1B;aACI,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACzG,OAAO,QAAQ,CAAC,MAAM,CAAC;iBAClB,IAAI,CAAC,UAAU,IAAI,EAAE;gBACtB,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC;gBACpC,OAAO,iBAAiB,CAAC;aAC5B,CAAC;iBACG,KAAK,CAAC,YAAY,CAAC,CAAC;SAC5B;KACJ;IACD,OAAO,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;CAC7C;;ACjMD;AACA,AAKO,SAAS,sBAAsB,CAAC,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,EAAE;IAClG,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,sBAAsB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;SACzH;KACJ,CAAC;CACL;AACD,IAAI,6BAA6B,GAAG,IAAI,GAAG,EAAE,CAAC;AAC9C,IAAI,0BAA0B,GAAG,CAAC,CAAC;AACnC,IAAI,iCAAiC,GAAG,IAAI,GAAG,EAAE,CAAC;AAClD,IAAI,iCAAiC,GAAG,IAAI,GAAG,CAAC,CAAC;;;;;AAKjD,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DV,iBAAiB,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;;;;;;;;;;IAUlD,SAAS,sBAAsB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,EAAE;QAChH,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,SAAS,QAAQ,CAAC,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC,KAAK,QAAQ,CAAC,EAAE;QACtD,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC,GAAG,UAAU,GAAG,0BAA0B,CAAC;QAClF,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,aAAa,GAAG,6BAA6B,CAAC;QAC9F,KAAK,CAAC,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,GAAG,gBAAgB,GAAG,iCAAiC,CAAC;QAC3G,KAAK,CAAC,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,GAAG,gBAAgB,GAAG,iCAAiC,CAAC;QAC3G,OAAO,KAAK,CAAC;KAChB;IACD,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;aAC/C,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC;aACrE,KAAK,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KACpG,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA;;;;;;;;AAQA,SAAS,WAAW,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE;IAChD,IAAI,UAAU,IAAI,SAAS,KAAK,UAAU,GAAG,GAAG,IAAI,UAAU,KAAK,GAAG,CAAC,IAAI,UAAU,KAAK,GAAG,IAAI,UAAU,KAAK,GAAG,EAAE;QACjH,OAAO,KAAK,CAAC;KAChB;IACD,IAAI,YAAY,CAAC;IACjB,IAAI,CAAC,SAAS,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;KACrF;SACI;QACD,YAAY,IAAI,SAAS,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC;KACtD;IACD,QAAQ,YAAY,GAAG,MAAM,CAAC,UAAU,EAAE;CAC7C;;;;;;;;AAQD,SAAS,eAAe,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE;IAC7C,IAAI,CAAC,SAAS,EAAE;QACZ,SAAS,GAAG;YACR,UAAU,EAAE,CAAC;YACb,aAAa,EAAE,CAAC;SACnB,CAAC;KACL;IACD,IAAI,GAAG,EAAE;QACL,IAAI,SAAS,CAAC,KAAK,EAAE;YACjB,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;SACpC;QACD,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC;KACzB;;IAED,SAAS,CAAC,UAAU,EAAE,CAAC;;IAEvB,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC3D,IAAI,gBAAgB,GAAG,MAAM,CAAC,aAAa,GAAG,GAAG;QAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,MAAM,CAAC,aAAa,GAAG,GAAG,GAAG,MAAM,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1F,cAAc,IAAI,gBAAgB,CAAC;IACnC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,GAAG,cAAc,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACtG,OAAO,SAAS,CAAC;CACpB;AACD,SAAS,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE;IAC/D,SAAS,GAAG,eAAe,CAAC,MAAM,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;IAC7D,IAAI,SAAS,GAAG,OAAO,CAAC,WAAW,IAAI,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC;IACnE,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,EAAE,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE;QAC3E,OAAOW,KAAW,CAAC,SAAS,CAAC,aAAa,CAAC;aACtC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC;aAC7E,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC;aAClF,KAAK,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC3F;SACI,IAAI,SAAS,IAAI,YAAY,IAAI,CAAC,QAAQ,EAAE;;QAE7C,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK;YACrB,IAAI,SAAS,CAAC,6BAA6B,EAAE,SAAS,CAAC,kBAAkB,EAAE,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACpJ,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KAC9B;SACI;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KACpC;CACJ;;ACvHD;AACA,AAIO,SAAS,6BAA6B,CAAC,mBAAmB,EAAE;IAC/D,IAAI,mBAAmB,KAAK,KAAK,CAAC,EAAE,EAAE,mBAAmB,GAAG,wBAAwB,CAAC,EAAE;IACvF,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,6BAA6B,CAAC,UAAU,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC;SACtF;KACJ,CAAC;CACL;AACD,IAAI,6BAA6B,kBAAkB,UAAU,MAAM,EAAE;IACjEX,iBAAiB,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;IACzD,SAAS,6BAA6B,CAAC,UAAU,EAAE,OAAO,EAAE,oBAAoB,EAAE;QAC9E,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QAClD,OAAO,KAAK,CAAC;KAChB;IACD,6BAA6B,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACrE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE;YACtD,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAEY,YAAkB,EAAE,CAAC,CAAC;SACxE;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KAChD,CAAC;IACF,OAAO,6BAA6B,CAAC;CACxC,CAAC,iBAAiB,CAAC,CAAC,CAAC;;AC3BtB;AACA,AAOA,IAAI,eAAe,GAAG,SAAS,CAAC,eAAe,CAAC;AAChD,AAAO,SAAS,qBAAqB,CAAC,aAAa,EAAE;IACjD,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,qBAAqB,CAAC,UAAU,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;SACxE;KACJ,CAAC;CACL;AACD,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDZ,iBAAiB,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACjD,SAAS,qBAAqB,CAAC,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE;QAC/D,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,OAAO,KAAK,CAAC;KAChB;IACD,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QAC5D,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,GAAG,GAAG,GAAGa,OAAO,EAAE,GAAG,GAAG,GAAGC,OAAO,EAAE,GAAG,GAAG,GAAGC,UAAU,EAAE,GAAG,GAAG,CAAC;YAC1E,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC3C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;aACtC;YACD,IAAI,WAAW,GAAG,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAC5C,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE;gBAChD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;aAC3C;YACD,IAAI,gBAAgB,GAAG,kBAAkB,CAAC;YAC1C,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE;gBACrD,IAAI,YAAY,GAAG,kBAAkB,CAAC;gBACtC,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;;gBAE3D,WAAW,GAAG,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,WAAW,GAAG,CAAC,CAAC;gBAC5E,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,gBAAgB,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBAClB,OAAO,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;aACvC;YACD,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACjF;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,OAAO,EAAE;QACpE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YAClB,OAAO,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;SACvC;QACD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,CAAC,EAAE;YAClD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SAC5B;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QAC7D,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KAChD,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,iBAAiB,CAAC,CAAC,CAAC;;AC5DtB;AACA,AAEA;;;AAGA,AAAG,IAAC,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,GAAG;QAChB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;;;;IAID,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QACjC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;KACjD,CAAC;;;;;;IAMF,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,aAAa,EAAE,cAAc,EAAE;QAC9D,IAAI,aAAa,EAAE;YACf,IAAI,cAAc,IAAI,SAAS,EAAE;gBAC7B,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,cAAc,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;gBAC1F,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC;aAC5C;iBACI;gBACD,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;aACxC;SACJ;KACJ,CAAC;;;;;IAKF,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,aAAa,EAAE;QAC9C,OAAO,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,SAAS,CAAC;KACpE,CAAC;;;;IAIF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACtC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,IAAI,aAAa,IAAI,IAAI,CAAC,SAAS,EAAE;YACtC,IAAI,MAAM,EAAE;gBACR,MAAM,IAAI,GAAG,CAAC;aACjB;YACD,IAAI,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YACnD,IAAI,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE;gBAC/B,IAAI,gBAAgB,GAAG,EAAE,CAAC;gBAC1B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,gBAAgB,GAAG,cAAc,EAAE,EAAE,GAAG,gBAAgB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACpF,IAAI,qBAAqB,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;oBACjD,gBAAgB,CAAC,IAAI,CAAC,aAAa,GAAG,GAAG,GAAG,qBAAqB,CAAC,CAAC;iBACtE;gBACD,MAAM,IAAI,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACxC;iBACI;gBACD,MAAM,IAAI,aAAa,GAAG,GAAG,GAAG,cAAc,CAAC;aAClD;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;;;;IAIF,QAAQ,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QAC7B,IAAI,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC5B,IAAI,IAAI,EAAE;YACN,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBACtB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aAC5B;YACD,IAAI,YAAY,GAAG,CAAC,qBAAqB;YACzC,IAAI,aAAa,GAAG,EAAE,CAAC;YACvB,IAAI,cAAc,GAAG,EAAE,CAAC;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAClC,IAAI,gBAAgB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC/B,QAAQ,YAAY;oBAChB,KAAK,CAAC;wBACF,QAAQ,gBAAgB;4BACpB,KAAK,GAAG;gCACJ,YAAY,GAAG,CAAC,sBAAsB;gCACtC,MAAM;4BACV,KAAK,GAAG;gCACJ,aAAa,GAAG,EAAE,CAAC;gCACnB,cAAc,GAAG,EAAE,CAAC;gCACpB,MAAM;4BACV;gCACI,aAAa,IAAI,gBAAgB,CAAC;gCAClC,MAAM;yBACb;wBACD,MAAM;oBACV,KAAK,CAAC;wBACF,QAAQ,gBAAgB;4BACpB,KAAK,GAAG;gCACJ,aAAa,GAAG,EAAE,CAAC;gCACnB,cAAc,GAAG,EAAE,CAAC;gCACpB,YAAY,GAAG,CAAC,eAAe;gCAC/B,MAAM;4BACV,KAAK,GAAG;gCACJ,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;gCAC1C,aAAa,GAAG,EAAE,CAAC;gCACnB,cAAc,GAAG,EAAE,CAAC;gCACpB,YAAY,GAAG,CAAC,qBAAqB;gCACrC,MAAM;4BACV;gCACI,cAAc,IAAI,gBAAgB,CAAC;gCACnC,MAAM;yBACb;wBACD,MAAM;oBACV,KAAK,CAAC;wBACF,IAAI,gBAAgB,KAAK,GAAG,EAAE;4BAC1B,YAAY,GAAG,CAAC,qBAAqB;yBACxC;wBACD,MAAM;oBACV;wBACI,MAAM,IAAI,KAAK,CAAC,qCAAqC,GAAG,YAAY,CAAC,CAAC;iBAC7E;aACJ;YACD,IAAI,YAAY,KAAK,CAAC,uBAAuB;gBACzC,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;aAC7C;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,AAAG,IAAC,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,GAAG;KACrB;;;;;IAKD,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE;QAC/C,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,cAAc,CAAC;SACpC;KACJ,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;QAC3C,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;SAC1B;aACI;YACD,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,sBAAsB,CAAC;SAC1C;KACJ,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;QAC3C,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,KAAK,EAAE,EAAE;YAClC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;SAC1B;aACI;YACD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,YAAY,CAAC;SAC3C;KACJ,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;QAC3C,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;SAC1B;aACI;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC5B,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,cAAc,CAAC;aAClC;iBACI;gBACD,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;aAChC;SACJ;KACJ,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE;QAC9C,IAAI,IAAI,EAAE;YACN,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YACjC,IAAI,WAAW,EAAE;gBACb,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBAC5B,WAAW,IAAI,GAAG,CAAC;iBACtB;gBACD,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;oBACtB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;iBAC5B;gBACD,IAAI,GAAG,WAAW,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;SAChC;KACJ,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC7C,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;SAC3B;aACI;YACD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACvC;KACJ,CAAC;;;;;;IAMF,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,kBAAkB,EAAE,mBAAmB,EAAE;QACxF,IAAI,kBAAkB,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;aAChC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,mBAAmB,CAAC,CAAC;SAC5D;KACJ,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,kBAAkB,EAAE;QACxE,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,GAAG,SAAS,CAAC;KACxE,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACxC,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,SAAS,CAAC;KAC3D,CAAC;;;;IAIF,UAAU,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE;QACnD,IAAI,SAAS,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QACnD,OAAO,SAAS,CAAC,IAAI,EAAE,EAAE;YACrB,IAAI,KAAK,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC;YAChC,IAAI,KAAK,EAAE;gBACP,QAAQ,KAAK,CAAC,IAAI;oBACd,KAAK,CAAC;wBACF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC;wBACvC,MAAM;oBACV,KAAK,CAAC;wBACF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC;wBACrC,MAAM;oBACV,KAAK,CAAC;wBACF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC;wBACrC,MAAM;oBACV,KAAK,CAAC;wBACF,IAAI,SAAS,GAAG,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC;wBACxC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,GAAG,IAAI,SAAS,KAAK,GAAG,EAAE;4BACxD,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;yBAC1B;wBACD,MAAM;oBACV,KAAK,CAAC;wBACF,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBACzC,MAAM;oBACV;wBACI,MAAM,IAAI,KAAK,CAAC,6BAA6B,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;iBACnE;aACJ;SACJ;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACxC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,MAAM,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC;SACxB;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,MAAM,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBAC7B,MAAM,IAAI,GAAG,CAAC;aACjB;YACD,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC;SACxB;QACD,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;YAClC,MAAM,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;SAC1C;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;;;;;IAKF,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,WAAW,EAAE,YAAY,EAAE;QACnE,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;SACzE;KACJ,CAAC;IACF,UAAU,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QAC/B,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,sBAAsB,CAAC;QACzC,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE;QAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;IACD,QAAQ,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QAC9B,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,cAAc,CAAC;KAC7C,CAAC;IACF,QAAQ,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE;QAC5B,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;KAC3C,CAAC;IACF,QAAQ,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE;QAC5B,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;KAC3C,CAAC;IACF,QAAQ,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE;QAC5B,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;KAC3C,CAAC;IACF,QAAQ,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QAC7B,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,aAAa,CAAC;KAC5C,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,AACA;;;;AAIA,AAAO,SAAS,uBAAuB,CAAC,SAAS,EAAE;IAC/C,IAAI,aAAa,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC5C,OAAO,CAAC,EAAE,cAAc,aAAa,IAAI,aAAa,IAAI,EAAE;SACvD,EAAE,cAAc,aAAa,IAAI,aAAa,IAAI,EAAE,WAAW;SAC/D,EAAE,cAAc,aAAa,IAAI,aAAa,IAAI,GAAG,WAAW,CAAC;CACzE;;;;AAID,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,KAAK,EAAE,KAAK,EAAE;QAChC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC,aAAa,GAAG,KAAK,IAAI,SAAS,GAAG,KAAK,GAAG,CAAC,sBAAsB;QACzE,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;KAC1B;;;;;IAKD,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B,CAAC;;;;IAIF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE;YAC5B,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;SAClC;aACI;YACD,QAAQ,IAAI,CAAC,aAAa;gBACtB,KAAK,CAAC;oBACF,UAAU,CAAC,IAAI,CAAC,CAAC;oBACjB,MAAM;gBACV,KAAK,CAAC;oBACF,gBAAgB,CAAC,IAAI,CAAC,CAAC;oBACvB,MAAM;gBACV,KAAK,CAAC;oBACF,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACf,MAAM;gBACV,KAAK,CAAC;oBACF,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACf,MAAM;gBACV,KAAK,CAAC;oBACF,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACf,MAAM;gBACV,KAAK,CAAC;oBACF,SAAS,CAAC,IAAI,CAAC,CAAC;oBAChB,MAAM;gBACV;oBACI,MAAM,IAAI,KAAK,CAAC,kCAAkC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;aAChF;SACJ;QACD,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;KAC/B,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,SAAS,aAAa,CAAC,SAAS,EAAE;IAC9B,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,WAAW,EAAE;QACjD,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAC5D,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,WAAW,CAAC;KACnD;IACD,OAAO,MAAM,CAAC;CACjB;;;;AAID,SAAS,mBAAmB,CAAC,SAAS,EAAE;IACpC,OAAO,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,WAAW,CAAC;CAC1D;;;;AAID,SAAS,mBAAmB,CAAC,SAAS,EAAE;IACpC,OAAO,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;CACnD;;;;;AAKD,SAAS,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE;IACpC,IAAI,mBAAmB,CAAC,SAAS,CAAC,EAAE;QAChC,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,GAAG,CAAC,CAAC;SACZ;QACD,SAAS,CAAC,aAAa,IAAI,IAAI,CAAC;KACnC;CACJ;;;;;AAKD,SAAS,cAAc,CAAC,SAAS,EAAE,gBAAgB,EAAE;IACjD,IAAI,QAAQ,GAAG,SAAS,CAAC,aAAa,GAAG,gBAAgB,CAAC;IAC1D,IAAI,SAAS,CAAC,WAAW,GAAG,QAAQ,EAAE;QAClC,QAAQ,GAAG,SAAS,CAAC,WAAW,CAAC;KACpC;IACD,OAAO,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;CACvE;;;;;AAKD,SAAS,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE;IACrC,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,OAAO,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACnC,IAAI,gBAAgB,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE;YAC9B,MAAM;SACT;aACI;YACD,MAAM,IAAI,gBAAgB,CAAC;YAC3B,aAAa,CAAC,SAAS,CAAC,CAAC;SAC5B;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;;;;;AAKD,SAAS,sBAAsB,CAAC,SAAS,EAAE;IACvC,OAAO,SAAS,CAAC,SAAS,EAAE,UAAU,SAAS,EAAE,EAAE,OAAO,uBAAuB,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;CACpG;;;;;AAKD,SAAS,kBAAkB,CAAC,SAAS,EAAE;IACnC,IAAI,qBAAqB,GAAG,EAAE,CAAC;IAC/B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC1C,qBAAqB,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;KACjD;IACD,OAAO,SAAS,CAAC,SAAS,EAAE,UAAU,SAAS,EAAE,EAAE,OAAO,qBAAqB,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;CACjH;AACD,SAAS,UAAU,CAAC,SAAS,EAAE;IAC3B,IAAI,MAAM,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;IAC/C,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAClD,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACjC,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI;QACD,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;CACJ;AACD,SAAS,gBAAgB,CAAC,SAAS,EAAE;IACjC,IAAI,YAAY,GAAG,kBAAkB,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAChE,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACjC,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QAC7C,IAAI,cAAc,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE;YACxC,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACxD,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;SAC1C;aACI;YACD,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACtD,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;SAC1C;KACJ;SACI;QACD,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;YACxC,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;SAC1C;aACI;YACD,SAAS,CAAC,aAAa,GAAG,CAAC,aAAa;SAC3C;KACJ;CACJ;AACD,SAAS,QAAQ,CAAC,SAAS,EAAE;IACzB,IAAI,cAAc,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE;QACxC,aAAa,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;KAC/B;IACD,IAAI,IAAI,GAAG,kBAAkB,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACxD,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACjC,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QAC7C,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QAC7C,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI;QACD,SAAS,CAAC,aAAa,GAAG,CAAC,aAAa;KAC3C;CACJ;AACD,SAAS,QAAQ,CAAC,SAAS,EAAE;IACzB,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QACxC,aAAa,CAAC,SAAS,CAAC,CAAC;KAC5B;IACD,IAAI,IAAI,GAAG,kBAAkB,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACnD,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACjC,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QAC7C,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI;QACD,SAAS,CAAC,aAAa,GAAG,CAAC,aAAa;KAC3C;CACJ;AACD,SAAS,QAAQ,CAAC,SAAS,EAAE;IACzB,IAAI,IAAI,GAAG,kBAAkB,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IAC9C,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QACjC,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;KAC1C;SACI;QACD,SAAS,CAAC,aAAa,GAAG,CAAC,aAAa;KAC3C;CACJ;AACD,SAAS,SAAS,CAAC,SAAS,EAAE;IAC1B,IAAI,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;QACxC,aAAa,CAAC,SAAS,CAAC,CAAC;KAC5B;IACD,IAAI,KAAK,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;IACrC,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS,CAAC,aAAa,GAAG,CAAC,YAAY;CAC1C;;ACvlBD;AACA,AAIO,SAAS,cAAc,CAAC,cAAc,EAAE;IAC3C,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,EAAE,CAAC,EAAE;IACvD,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,cAAc,CAAC,UAAU,EAAE,OAAO,EAAE,cAAc,CAAC,CAAC;SAClE;KACJ,CAAC;CACL;AACD,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDf,iBAAiB,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,cAAc,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE;QACrD,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,EAAE,CAAC,EAAE;QAC/C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,OAAO,KAAK,CAAC;KAChB;IACD,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACzH,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,SAAS,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE;IACtD,IAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,EAAE,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;IACzD,IAAI,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACtD,IAAI,cAAc;SACb,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,KAAK,MAAM,KAAK,GAAG,IAAI,OAAO,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC;SAClF,CAAC,MAAM,CAAC,UAAU,IAAI,cAAc,GAAG,MAAM,CAAC,UAAU,CAAC,EAAE;QAC5D,IAAI,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC5C,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QAChC,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;;;QAGjC,IAAI,MAAM,KAAK,GAAG,EAAE;YAChB,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;SAC1B;QACD,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC;aACzC,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,cAAc,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACzF;IACD,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;CACpC;;AC3CM,SAAS,oBAAoB,CAAC,YAAY,EAAE;IAC/C,IAAI,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE,YAAY,GAAG,EAAE,CAAC,EAAE;IACnD,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,oBAAoB,CAAC,UAAU,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;SACtE;KACJ,CAAC;CACL;AACD,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDA,iBAAiB,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IAChD,SAAS,oBAAoB,CAAC,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE;QAC9D,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,EAAE,CAAC,EAAE;QACrD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,OAAO,KAAK,CAAC;KAChB;IACD,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;aAC/C,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,gBAAgB,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KACzF,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,SAAS,gBAAgB,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE;IACjD,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;QACzB,IAAI,MAAM,GAAG,yBAAyB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC5D,IAAI,MAAM,EAAE;YACR,IAAI,SAAS,GAAG,sBAAsB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpD,OAAO,UAAU,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;;;;iBAIhD,KAAK,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,EAAE,CAAC;iBACpC,IAAI,CAAC,UAAU,kBAAkB,EAAE;gBACpC,IAAI,kBAAkB,EAAE;;;oBAGpB,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAEY,YAAkB,EAAE,CAAC,CAAC;oBACpE,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;iBAC1D;gBACD,OAAO,QAAQ,CAAC;aACnB,CAAC,CAAC;SACN;KACJ;IACD,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;CACpC;;;;;;;AAOD,SAAS,oBAAoB,CAAC,eAAe,EAAE,WAAW,EAAE;IACxD,IAAI,WAAW,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,GAAG,KAAK,CAAC,EAAE;IACpD,IAAI,UAAU,GAAG;QACb,OAAO,EAAE,EAAE;KACd,CAAC;IACF,IAAI,WAAW,EAAE;QACb,UAAU,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,CAAC;KACxC;;;IAGD,KAAK,IAAI,CAAC,IAAI,eAAe,CAAC,OAAO,EAAE;QACnC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7D;;;IAGD,UAAU,CAAC,OAAO,CAAC,wBAAwB,CAAC,GAAGA,YAAkB,EAAE,CAAC;;IAEpE,UAAU,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,iCAAiC,CAAC;IACvE,OAAO,UAAU,CAAC;CACrB;;;;;;;AAOD,SAAS,yBAAyB,CAAC,IAAI,EAAE;IACrC,IAAI,MAAM,EAAE,YAAY,CAAC;IACzB,IAAI,IAAI,EAAE;QACN,IAAI;YACA,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACnC;QACD,OAAO,GAAG,EAAE;;SAEX;QACD,IAAI,YAAY,IAAI,YAAY,CAAC,KAAK,IAAI,YAAY,CAAC,KAAK,CAAC,OAAO;YAChE,YAAY,CAAC,KAAK,CAAC,IAAI,IAAI,YAAY,CAAC,KAAK,CAAC,IAAI,KAAK,iCAAiC,EAAE;YAC1F,IAAI,QAAQ,GAAG,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAC7D,IAAI,QAAQ,EAAE;gBACV,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;aAC3B;SACJ;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;;;;;;;AAOD,SAAS,sBAAsB,CAAC,GAAG,EAAE;IACjC,IAAI,MAAM,CAAC;IACX,IAAI,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;IAC9D,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;QACzB,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;KACxB;SACI;QACD,MAAM,IAAI,KAAK,CAAC,wDAAwD,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;KACzF;IACD,OAAO,MAAM,CAAC;CACjB;;;;;;;;;;AAUD,SAAS,UAAU,CAAC,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,eAAe,EAAE;IAC9D,IAAI,OAAO,GAAG,SAAS,GAAG,YAAY,GAAG,QAAQ,GAAG,kCAAkC,CAAC;IACvF,IAAI,MAAM,GAAG,SAAS,GAAG,YAAY,GAAG,QAAQ,GAAG,yBAAyB,CAAC;IAC7E,IAAI,UAAU,GAAG,oBAAoB,CAAC,eAAe,CAAC,CAAC;IACvD,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC;IAC3B,UAAU,CAAC,GAAG,GAAG,OAAO,CAAC;IACzB,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC;SAC5C,IAAI,CAAC,UAAU,QAAQ,EAAE;QAC1B,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;YACzB,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,QAAQ,GAAG,2CAA2C,CAAC,CAAC;SACpG;QACD,OAAO,qBAAqB,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;KACjE,CAAC,CAAC;CACN;;;;;;;;;;AAUD,SAAS,qBAAqB,CAAC,MAAM,EAAE,GAAG,EAAE,eAAe,EAAE;IACzD,IAAI,UAAU,GAAG,oBAAoB,CAAC,eAAe,CAAC,CAAC;IACvD,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;IACrB,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IAC1B,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;QAClE,IAAI,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC;QACzB,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,iBAAiB,IAAI,GAAG,CAAC,iBAAiB,KAAK,YAAY,EAAE;YACnF,OAAO,IAAI,CAAC;SACf;aACI;YACD,OAAOD,KAAW,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,qBAAqB,CAAC,MAAM,EAAE,GAAG,EAAE,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC;SACrI;KACJ,CAAC,CAAC;CACN;;ACnKD;AACA,AAGO,SAAS,aAAa,CAAC,sBAAsB,EAAE;IAClD,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,aAAa,CAAC,UAAU,EAAE,OAAO,EAAE,sBAAsB,CAAC,CAAC;SACzE;KACJ,CAAC;CACL;AACD,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDX,iBAAiB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,aAAa,CAAC,UAAU,EAAE,OAAO,EAAE,sBAAsB,EAAE;QAChE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;QACtD,OAAO,KAAK,CAAC;KAChB;IACD,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACrD,OAAO,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KAC3D,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,WAAW,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;KACxH,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,iBAAiB,CAAC,CAAC,CAAC;;AC1BtB;AACA,AAIO,SAAS,sBAAsB,CAAC,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,EAAE;IAClG,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,sBAAsB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;SACzH;KACJ,CAAC;CACL;;;;;;;;;;;AAWD,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DA,iBAAiB,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAClD,SAAS,sBAAsB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,EAAE;QAChH,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,6BAA6B,GAAG,IAAI,GAAG,EAAE,CAAC;QAChD,KAAK,CAAC,0BAA0B,GAAG,CAAC,CAAC;QACrC,KAAK,CAAC,iCAAiC,GAAG,IAAI,GAAG,EAAE,CAAC;QACpD,KAAK,CAAC,iCAAiC,GAAG,IAAI,GAAG,CAAC,CAAC;QACnD,KAAK,CAAC,UAAU,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,KAAK,CAAC,0BAA0B,CAAC;QAClG,KAAK,CAAC,aAAa,GAAG,OAAO,aAAa,KAAK,QAAQ,GAAG,aAAa,GAAG,KAAK,CAAC,6BAA6B,CAAC;QAC9G,KAAK,CAAC,gBAAgB,GAAG,OAAO,gBAAgB,KAAK,QAAQ,GAAG,gBAAgB,GAAG,KAAK,CAAC,iCAAiC,CAAC;QAC3H,KAAK,CAAC,gBAAgB,GAAG,OAAO,gBAAgB,KAAK,QAAQ,GAAG,gBAAgB,GAAG,KAAK,CAAC,iCAAiC,CAAC;QAC3H,OAAO,KAAK,CAAC;KAChB;IACD,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAOgB,OAAK,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KAC9H,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA;;;;;;;AAOA,SAASC,aAAW,CAAC,MAAM,EAAE,SAAS,EAAE;IACpC,IAAI,YAAY,CAAC;IACjB,IAAI,CAAC,SAAS,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;KACrF;SACI;QACD,YAAY,IAAI,SAAS,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC;KACtD;IACD,QAAQ,YAAY,GAAG,MAAM,CAAC,UAAU,EAAE;CAC7C;;;;;;;AAOD,SAASC,iBAAe,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE;IAC7C,IAAI,CAAC,SAAS,EAAE;QACZ,SAAS,GAAG;YACR,UAAU,EAAE,CAAC;YACb,aAAa,EAAE,CAAC;SACnB,CAAC;KACL;IACD,IAAI,GAAG,EAAE;QACL,IAAI,SAAS,CAAC,KAAK,EAAE;YACjB,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;SACpC;QACD,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC;KACzB;;IAED,SAAS,CAAC,UAAU,EAAE,CAAC;;IAEvB,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC3D,IAAI,gBAAgB,GAAG,MAAM,CAAC,aAAa,GAAG,GAAG;QAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,MAAM,CAAC,aAAa,GAAG,GAAG,GAAG,MAAM,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1F,cAAc,IAAI,gBAAgB,CAAC;IACnC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,GAAG,cAAc,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACtG,OAAO,SAAS,CAAC;CACpB;AACD,SAASF,OAAK,CAAC,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,GAAG,EAAE;IAC/D,SAAS,GAAGE,iBAAe,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;IACpD,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,IAAID,aAAW,CAAC,MAAM,EAAE,SAAS,CAAC;SAChD,GAAG,CAAC,IAAI,KAAK,WAAW,IAAI,GAAG,CAAC,IAAI,KAAK,iBAAiB,IAAI,GAAG,CAAC,IAAI,KAAK,cAAc;YACtF,GAAG,CAAC,IAAI,KAAK,YAAY,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,EAAE;;QAEzD,OAAON,KAAW,CAAC,SAAS,CAAC,aAAa,CAAC;aACtC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC;aAC7E,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAOK,OAAK,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;aAC5E,KAAK,CAAC,UAAU,GAAG,EAAE,EAAE,OAAOA,OAAK,CAAC,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACpG;SACI;QACD,IAAI,GAAG,IAAI,SAAS,EAAE;;YAElB,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC;YACtB,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SAC9B;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KAC7C;CACJ;;AC5GD;AACA,AAKA,CAAC,UAAU,qBAAqB,EAAE;IAC9B,qBAAqB,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;IACnC,qBAAqB,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;IACnC,qBAAqB,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;IACpC,qBAAqB,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC;IACrC,qBAAqB,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;CAC5C,EAAEG,6BAAqB,KAAKA,6BAAqB,GAAG,EAAE,CAAC,CAAC,CAAC;;ACZ1D;AACA,AAqBA;;;;AAIA,AAAG,IAAC,aAAa,kBAAkB,YAAY;;;;;;;IAO3C,SAAS,aAAa,CAAC,WAAW,EAAE,OAAO,EAAE;QACzC,IAAI,CAAC,OAAO,EAAE;YACV,OAAO,GAAG,EAAE,CAAC;SAChB;QACD,IAAI,CAAC,aAAa,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;QACnC,IAAI,WAAW,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;YACzC,MAAM,IAAI,KAAK,CAAC,4DAA4D,CAAC,CAAC;SACjF;QACD,IAAI;YACA,IAAI,UAAU,GAAG,YAAY,CAAC;YAC9B,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;YAC5C,IAAI,CAAC,gBAAgB,CAAC,UAAU,GAAG,GAAG,GAAG,aAAa,CAAC,CAAC;SAC3D;QACD,OAAO,GAAG,EAAE;;SAEX;QACD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,eAAe,IAAI,KAAK,CAAC;QACzD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,IAAI,IAAIC,eAAiB,EAAE,CAAC;QACjE,IAAI,CAAC,qBAAqB,GAAG,IAAI,oBAAoB,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;QAClF,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,sBAAsB,IAAI,mCAAmC,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KACxJ;;;;;IAKD,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,uBAAuB,EAAE;QAC1E,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,EAAE;YAClE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;SAC1D;QACD,OAAO;KACV,CAAC;;;;IAIF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACrD,IAAI,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC1E,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;SACzF;QACD,IAAI,WAAW,CAAC;QAChB,IAAI;YACA,IAAI,OAAO,YAAY,WAAW,EAAE;gBAChC,OAAO,CAAC,yBAAyB,EAAE,CAAC;gBACpC,WAAW,GAAG,OAAO,CAAC;aACzB;iBACI;gBACD,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;gBAChC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;aAC9C;SACJ;QACD,OAAO,KAAK,EAAE;YACV,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAChC;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,IAAI,CAAC,uBAAuB,IAAI,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC/D,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aACnG;SACJ;QACD,OAAO,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;KAChD,CAAC;;;;;;;IAOF,aAAa,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,kBAAkB,EAAE,aAAa,EAAE,QAAQ,EAAE;QAClG,IAAI,OAAO,kBAAkB,CAAC,OAAO,KAAK,UAAU,EAAE;YAClD,QAAQ,GAAG,kBAAkB,CAAC,OAAO,CAAC;YACtC,kBAAkB,CAAC,OAAO,GAAG,SAAS,CAAC;SAC1C;QACD,IAAI,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QACpC,IAAI,MAAM,CAAC;QACX,IAAI;YACA,IAAI,OAAO,GAAG,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC;YACpD,IAAI,CAAC,OAAO,EAAE;gBACV,MAAM,IAAI,KAAK,CAAC,0IAA0I,CAAC,CAAC;aAC/J;YACD,WAAW,CAAC,MAAM,GAAG,aAAa,CAAC,UAAU,CAAC;YAC9C,WAAW,CAAC,aAAa,GAAG,aAAa,CAAC;YAC1C,IAAI,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC3C,IAAI,aAAa,CAAC,IAAI,EAAE;gBACpB,UAAU,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC7C;YACD,IAAI,aAAa,CAAC,aAAa,IAAI,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvE,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,aAAa,CAAC,aAAa,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACrE,IAAI,YAAY,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC1B,IAAI,iBAAiB,GAAG,sCAAsC,CAAC,IAAI,EAAE,kBAAkB,EAAE,YAAY,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBACjI,iBAAiB,GAAG,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,iBAAiB,EAAE,0BAA0B,CAAC,YAAY,CAAC,CAAC,CAAC;oBACzI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;wBAC5B,iBAAiB,GAAG,kBAAkB,CAAC,iBAAiB,CAAC,CAAC;qBAC7D;oBACD,UAAU,CAAC,UAAU,CAAC,GAAG,IAAI,YAAY,CAAC,MAAM,CAAC,cAAc,IAAI,0BAA0B,CAAC,YAAY,CAAC,CAAC,GAAG,GAAG,EAAE,iBAAiB,CAAC,CAAC;iBAC1I;aACJ;YACD,IAAI,aAAa,CAAC,eAAe,IAAI,aAAa,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3E,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,aAAa,CAAC,eAAe,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACvE,IAAI,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC5B,IAAI,mBAAmB,GAAG,sCAAsC,CAAC,IAAI,EAAE,kBAAkB,EAAE,cAAc,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBACrI,IAAI,mBAAmB,IAAI,SAAS,EAAE;wBAClC,mBAAmB,GAAG,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,EAAE,mBAAmB,EAAE,0BAA0B,CAAC,cAAc,CAAC,CAAC,CAAC;wBACjJ,IAAI,cAAc,CAAC,gBAAgB,IAAI,SAAS,EAAE;4BAC9C,IAAI,cAAc,CAAC,gBAAgB,KAAKD,6BAAqB,CAAC,KAAK,EAAE;gCACjE,IAAI,mBAAmB,CAAC,MAAM,KAAK,CAAC,EAAE;oCAClC,mBAAmB,GAAG,EAAE,CAAC;iCAC5B;qCACI;oCACD,KAAK,IAAI,KAAK,IAAI,mBAAmB,EAAE;wCACnC,IAAI,IAAI,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC;wCACtC,mBAAmB,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;qCACzE;iCACJ;6BACJ;iCACI;gCACD,mBAAmB,GAAG,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;6BACnF;yBACJ;wBACD,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE;4BAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE;gCACpC,KAAK,IAAI,KAAK,IAAI,mBAAmB,EAAE;oCACnC,mBAAmB,CAAC,KAAK,CAAC,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;iCAC/E;6BACJ;iCACI;gCACD,mBAAmB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,CAAC;6BACjE;yBACJ;wBACD,UAAU,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,IAAI,0BAA0B,CAAC,cAAc,CAAC,EAAE,mBAAmB,CAAC,CAAC;qBACzI;iBACJ;aACJ;YACD,WAAW,CAAC,GAAG,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC;YACxC,IAAI,WAAW,GAAG,aAAa,CAAC,WAAW,IAAI,IAAI,CAAC,kBAAkB,CAAC;YACvE,IAAI,WAAW,EAAE;gBACb,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;aACxD;YACD,IAAI,aAAa,CAAC,gBAAgB,EAAE;gBAChC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,aAAa,CAAC,gBAAgB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACxE,IAAI,eAAe,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC7B,IAAI,WAAW,GAAG,sCAAsC,CAAC,IAAI,EAAE,kBAAkB,EAAE,eAAe,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBAC9H,IAAI,WAAW,IAAI,SAAS,EAAE;wBAC1B,WAAW,GAAG,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,EAAE,WAAW,EAAE,0BAA0B,CAAC,eAAe,CAAC,CAAC,CAAC;wBACnI,IAAI,sBAAsB,GAAG,eAAe,CAAC,MAAM,CAAC,sBAAsB,CAAC;wBAC3E,IAAI,sBAAsB,EAAE;4BACxB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gCAClE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gCACjB,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,GAAG,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;6BAC3E;yBACJ;6BACI;4BACD,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,MAAM,CAAC,cAAc,IAAI,0BAA0B,CAAC,eAAe,CAAC,EAAE,WAAW,CAAC,CAAC;yBAC9H;qBACJ;iBACJ;aACJ;YACD,IAAI,OAAO,GAAG,kBAAkB,CAAC,OAAO,CAAC;YACzC,IAAI,OAAO,EAAE;gBACT,IAAI,OAAO,CAAC,aAAa,EAAE;oBACvB,KAAK,IAAI,gBAAgB,IAAI,OAAO,CAAC,aAAa,EAAE;wBAChD,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;qBACtF;iBACJ;gBACD,IAAI,OAAO,CAAC,WAAW,EAAE;oBACrB,WAAW,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;iBACjD;gBACD,IAAI,OAAO,CAAC,OAAO,EAAE;oBACjB,WAAW,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;iBACzC;gBACD,IAAI,OAAO,CAAC,gBAAgB,EAAE;oBAC1B,WAAW,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;iBAC3D;gBACD,IAAI,OAAO,CAAC,kBAAkB,EAAE;oBAC5B,WAAW,CAAC,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,CAAC;iBAC/D;aACJ;YACD,WAAW,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACpD,oBAAoB,CAAC,IAAI,EAAE,WAAW,EAAE,kBAAkB,EAAE,aAAa,CAAC,CAAC;YAC3E,IAAI,WAAW,CAAC,kBAAkB,IAAI,SAAS,EAAE;gBAC7C,WAAW,CAAC,kBAAkB,GAAG,iBAAiB,CAAC,aAAa,CAAC,CAAC;aACrE;YACD,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;iBACjC,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,eAAe,CAAC,GAAG,EAAE,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SACnG;QACD,OAAO,KAAK,EAAE;YACV,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAClC;QACD,IAAI,EAAE,GAAG,QAAQ,CAAC;QAClB,IAAI,EAAE,EAAE;YACJ,MAAM;;iBAED,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,SAAS,CAAC,UAAU,EAAE,GAAG,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC;iBACzG,KAAK,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;SAClD;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACO,SAAS,oBAAoB,CAAC,aAAa,EAAE,WAAW,EAAE,kBAAkB,EAAE,aAAa,EAAE;IAChG,IAAI,aAAa,CAAC,WAAW,IAAI,aAAa,CAAC,WAAW,CAAC,MAAM,EAAE;QAC/D,WAAW,CAAC,IAAI,GAAG,sCAAsC,CAAC,aAAa,EAAE,kBAAkB,EAAE,aAAa,CAAC,WAAW,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;QAClJ,IAAI,UAAU,GAAG,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC;QAClD,IAAI,QAAQ,GAAG,UAAU,CAAC,QAAQ,EAAE,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,cAAc,GAAG,UAAU,CAAC,cAAc,EAAE,cAAc,GAAG,UAAU,CAAC,cAAc,CAAC;QACzJ,IAAI,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;QACpC,IAAI;YACA,IAAI,WAAW,CAAC,IAAI,IAAI,SAAS,IAAI,QAAQ,EAAE;gBAC3C,IAAI,8BAA8B,GAAG,0BAA0B,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;gBAC3F,WAAW,CAAC,IAAI,GAAG,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,EAAE,WAAW,CAAC,IAAI,EAAE,8BAA8B,CAAC,CAAC;gBACpH,IAAI,QAAQ,GAAG,QAAQ,KAAK,UAAU,CAAC,MAAM,CAAC;gBAC9C,IAAI,aAAa,CAAC,KAAK,EAAE;oBACrB,IAAI,QAAQ,KAAK,UAAU,CAAC,QAAQ,EAAE;wBAClC,WAAW,CAAC,IAAI,GAAG,YAAY,CAACE,kBAAwB,CAAC,WAAW,CAAC,IAAI,EAAE,cAAc,IAAI,OAAO,IAAI,cAAc,CAAC,EAAE,EAAE,QAAQ,EAAE,OAAO,IAAI,cAAc,EAAE,CAAC,CAAC;qBACrK;yBACI,IAAI,CAAC,QAAQ,EAAE;wBAChB,WAAW,CAAC,IAAI,GAAG,YAAY,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,OAAO,IAAI,cAAc,EAAE,CAAC,CAAC;qBAC9F;iBACJ;qBACI,IAAI,CAAC,QAAQ,EAAE;oBAChB,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBACvD;aACJ;SACJ;QACD,OAAO,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,GAAG,2CAA2C,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;SACrJ;KACJ;SACI,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;QACtF,WAAW,CAAC,QAAQ,GAAG,EAAE,CAAC;QAC1B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,aAAa,CAAC,kBAAkB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC1E,IAAI,iBAAiB,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAC/B,IAAI,sBAAsB,GAAG,sCAAsC,CAAC,aAAa,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;YACpJ,IAAI,sBAAsB,IAAI,SAAS,EAAE;gBACrC,IAAI,6BAA6B,GAAG,iBAAiB,CAAC,MAAM,CAAC,cAAc,IAAI,0BAA0B,CAAC,iBAAiB,CAAC,CAAC;gBAC7H,WAAW,CAAC,QAAQ,CAAC,6BAA6B,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAiB,CAAC,MAAM,EAAE,sBAAsB,EAAE,0BAA0B,CAAC,iBAAiB,CAAC,CAAC,CAAC;aAC7L;SACJ;KACJ;CACJ;AACD,SAAS,sBAAsB,CAAC,QAAQ,EAAE;IACtC,OAAO,OAAO,QAAQ,CAAC,MAAM,KAAK,UAAU,CAAC;CAChD;AACD,SAAS,mCAAmC,CAAC,WAAW,EAAE,OAAO,EAAE,aAAa,EAAE;IAC9E,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,OAAO,CAAC,6BAA6B,EAAE;QACvC,SAAS,CAAC,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC,CAAC;KACpF;IACD,IAAI,WAAW,EAAE;QACb,IAAI,sBAAsB,CAAC,WAAW,CAAC,EAAE;YACrC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/B;aACI;YACD,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC;SAC9C;KACJ;IACD,IAAIC,MAAY,EAAE;QACd,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,aAAa,CAAC,CAAC,CAAC;KACxD;IACD,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;IACjC,SAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAAC;IACzE,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;QACxB,SAAS,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;QACzC,SAAS,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;KAC5C;IACD,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC,CAAC;IAC3E,OAAO,SAAS,CAAC;CACpB;AACD,AAiBA,SAAS,sCAAsC,CAAC,aAAa,EAAE,kBAAkB,EAAE,SAAS,EAAE,UAAU,EAAE;IACtG,OAAO,0CAA0C,CAAC,aAAa,EAAE,kBAAkB,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;CAC/I;AACD,AAAO,SAAS,0CAA0C,CAAC,aAAa,EAAE,kBAAkB,EAAE,aAAa,EAAE,eAAe,EAAE,UAAU,EAAE;IACtI,IAAI,KAAK,CAAC;IACV,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;QACnC,aAAa,GAAG,CAAC,aAAa,CAAC,CAAC;KACnC;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;QAC9B,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,IAAI,eAAe,CAAC,UAAU,EAAE;gBAC5B,KAAK,GAAG,eAAe,CAAC,YAAY,CAAC;aACxC;iBACI;gBACD,IAAI,oBAAoB,GAAG,4BAA4B,CAAC,kBAAkB,EAAE,aAAa,CAAC,CAAC;gBAC3F,IAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE;oBACrC,oBAAoB,GAAG,4BAA4B,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;iBACrF;gBACD,IAAI,eAAe,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE;oBACrC,eAAe,GAAG,eAAe,CAAC,QAAQ,KAAK,aAAa,CAAC,CAAC,CAAC,KAAK,SAAS,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;iBAChH;gBACD,KAAK,GAAG,eAAe,GAAG,eAAe,CAAC,YAAY,GAAG,oBAAoB,CAAC,aAAa,CAAC;aAC/F;;YAED,IAAI,mBAAmB,GAAG,8BAA8B,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;YACzF,UAAU,CAAC,SAAS,CAAC,eAAe,EAAE,KAAK,EAAE,mBAAmB,CAAC,CAAC;SACrE;KACJ;SACI;QACD,KAAK,IAAI,YAAY,IAAI,aAAa,EAAE;YACpC,IAAI,cAAc,GAAG,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;YACxE,IAAI,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC;YAC/C,IAAI,aAAa,GAAG,0CAA0C,CAAC,aAAa,EAAE,kBAAkB,EAAE,YAAY,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC;;YAE5I,IAAI,kBAAkB,GAAG,8BAA8B,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;YACtF,UAAU,CAAC,SAAS,CAAC,cAAc,EAAE,aAAa,EAAE,kBAAkB,CAAC,CAAC;YACxE,IAAI,aAAa,KAAK,SAAS,EAAE;gBAC7B,IAAI,CAAC,KAAK,EAAE;oBACR,KAAK,GAAG,EAAE,CAAC;iBACd;gBACD,KAAK,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;aACvC;SACJ;KACJ;IACD,OAAO,KAAK,CAAC;CAChB;AACD,SAAS,4BAA4B,CAAC,MAAM,EAAE,aAAa,EAAE;IACzD,IAAI,MAAM,GAAG,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC;IACtC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,OAAO,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;QAClC,IAAI,iBAAiB,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;;QAEzC,IAAI,MAAM,IAAI,SAAS,IAAI,iBAAiB,IAAI,MAAM,EAAE;YACpD,MAAM,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;SACtC;aACI;YACD,MAAM;SACT;KACJ;IACD,IAAI,CAAC,KAAK,aAAa,CAAC,MAAM,EAAE;QAC5B,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC;QAC9B,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;KAC/B;IACD,OAAO,MAAM,CAAC;CACjB;AACD,AAAO,SAAS,eAAe,CAAC,SAAS,EAAE,YAAY,EAAE;IACrD,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;IAC5C,IAAI,UAAU,GAAG,YAAY,IAAI,YAAY,CAAC,UAAU,CAAC;IACzD,IAAI,oBAAoB,GAAG,UAAU,GAAG,EAAE;QACtC,OAAO,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,WAAW,EAAE;YAC3C,KAAK,EAAE,SAAS;SACnB,CAAC,CAAC;KACN,CAAC;IACF,IAAI,UAAU,EAAE;QACZ,IAAI,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;QACpC,IAAI,QAAQ,KAAK,QAAQ,EAAE;YACvB,OAAO,oBAAoB,CAACrB,gBAAgB,CAAC,EAAE,EAAE,aAAa,EAAE,EAAE,QAAQ,EAAE,SAAS,CAAC,QAAQ,EAAE,kBAAkB,EAAE,SAAS,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;SACxJ;QACD,IAAI,iBAAiB,GAAG,QAAQ,KAAK,WAAW,IAAI,UAAU,CAAC,IAAI,CAAC,eAAe,IAAI,EAAE,CAAC;QAC1F,IAAI,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,iBAAiB,CAAC,CAAC,CAAC,CAAC,cAAc,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAClI,IAAI,QAAQ,KAAK,UAAU,IAAI,kBAAkB,EAAE;YAC/C,IAAI,aAAa,GAAG,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC;YACzD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACxE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACjB,IAAI,iBAAiB,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE;oBACvC,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;iBAClD;aACJ;YACD,IAAI,aAAa,EAAE;gBACf,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACpE,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBACjB,aAAa,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;iBAC3C;aACJ;YACD,oBAAoB,CAAC,aAAa,CAAC,CAAC;YACpC,OAAO,aAAa,CAAC;SACxB;QACD,IAAI,QAAQ,KAAK,WAAW,IAAI,QAAQ,KAAK,YAAY,EAAE;YACvD,OAAO,oBAAoB,CAACA,gBAAgB,CAAC,EAAE,EAAE,aAAa,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;SAC1F;KACJ;IACD,IAAI,UAAU,IAAI,SAAS,CAAC,OAAO,CAAC,MAAM,KAAK,MAAM,EAAE;;QAEnD,OAAO,oBAAoB,CAACA,gBAAgB,CAAC,EAAE,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;KACpG;IACD,OAAO,oBAAoB,CAACA,gBAAgB,CAAC,EAAE,EAAE,aAAa,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;CAC1F;;ACvaD;AACA,AAGO,SAAS,SAAS,CAAC,MAAM,EAAE;IAC9B,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,EAAE;IAChD,OAAO;QACH,MAAM,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;YACnC,OAAO,IAAI,SAAS,CAAC,UAAU,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;SACrD;KACJ,CAAC;CACL;AACD,IAAI,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CD,iBAAiB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,SAAS,CAAC,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE;QAC5C,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,EAAE;QAChD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3D,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,OAAO,KAAK,CAAC;KAChB;IACD,SAAS,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KACnH,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,SAAS,WAAW,CAAC,MAAM,EAAE,QAAQ,EAAE;IACnC,MAAM,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/E,MAAM,CAAC,MAAM,CAAC,2BAA2B,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC7D,IAAI,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvC,MAAM,CAAC,MAAM,CAAC,WAAW,GAAG,YAAY,CAAC,CAAC;IAC1C,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;CACpC;;ACjCD;AACA,AAGA,IAAIuB,iBAAe,GAAG,SAAS,CAAC,eAAe,CAAC;AAChD,IAAI,4BAA4B,GAAG,QAAQ,CAAC;;;;AAI5C,AAAG,IAAC,gBAAgB,kBAAkB,YAAY;;;;;;;;IAQ9C,SAAS,gBAAgB,CAAC,KAAK,EAAE,mBAAmB,EAAE;QAClD,IAAI,mBAAmB,KAAK,KAAK,CAAC,EAAE,EAAE,mBAAmB,GAAG,4BAA4B,CAAC,EAAE;QAC3F,IAAI,CAAC,mBAAmB,GAAG,4BAA4B,CAAC;QACxD,IAAI,CAAC,KAAK,EAAE;YACR,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;SACzD;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;KAClD;;;;;;;IAOD,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,WAAW,EAAE;QAC5D,IAAI,CAAC,WAAW,CAAC,OAAO;YACpB,WAAW,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QAC5C,WAAW,CAAC,OAAO,CAAC,GAAG,CAACA,iBAAe,CAAC,aAAa,EAAE,IAAI,CAAC,mBAAmB,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QACpG,OAAO,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;KACvC,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC;;ACvCJ;AACA,AAIA,IAAIA,iBAAe,GAAG,SAAS,CAAC,eAAe,CAAC;AAChD,IAAIC,8BAA4B,GAAG,OAAO,CAAC;AAC3C,AAAG,IAAC,8BAA8B,kBAAkB,YAAY;;;;;;;;;IAS5D,SAAS,8BAA8B,CAAC,QAAQ,EAAE,QAAQ,EAAE,mBAAmB,EAAE;QAC7E,IAAI,mBAAmB,KAAK,KAAK,CAAC,EAAE,EAAE,mBAAmB,GAAGA,8BAA4B,CAAC,EAAE;QAC3F,IAAI,CAAC,mBAAmB,GAAGA,8BAA4B,CAAC;QACxD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,SAAS,IAAI,OAAO,QAAQ,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;YACvF,MAAM,IAAI,KAAK,CAAC,kEAAkE,CAAC,CAAC;SACvF;QACD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,SAAS,IAAI,OAAO,QAAQ,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;YACvF,MAAM,IAAI,KAAK,CAAC,kEAAkE,CAAC,CAAC;SACvF;QACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;KAClD;;;;;;;IAOD,8BAA8B,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,WAAW,EAAE;QAC1E,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QACtD,IAAI,kBAAkB,GAAG,IAAI,CAAC,mBAAmB,GAAG,GAAG,GAAGC,YAAmB,CAAC,WAAW,CAAC,CAAC;QAC3F,IAAI,CAAC,WAAW,CAAC,OAAO;YACpB,WAAW,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QAC5C,WAAW,CAAC,OAAO,CAAC,GAAG,CAACF,iBAAe,CAAC,aAAa,EAAE,kBAAkB,CAAC,CAAC;QAC3E,OAAO,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;KACvC,CAAC;IACF,OAAO,8BAA8B,CAAC;CACzC,EAAE,CAAC;;AC5CJ;AACA,AAEA;;;AAGA,AAAG,IAAC,iBAAiB,kBAAkB,YAAY;;;;;IAK/C,SAAS,iBAAiB,CAAC,OAAO,EAAE;QAChC,IAAI,CAAC,OAAO,KAAK,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAChE,MAAM,IAAI,KAAK,CAAC,8HAA8H,CAAC,CAAC;SACnJ;QACD,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;KAClC;;;;;;;IAOD,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,WAAW,EAAE;QAC7D,IAAI,CAAC,WAAW,EAAE;YACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,yEAAyE,CAAC,CAAC,CAAC;SAC/G;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE;gBACtB,WAAW,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;aAC3C;YACD,KAAK,IAAI,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAClC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;aAClE;SACJ;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;gBAClB,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC,CAAC;aACjF;YACD,IAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClC,WAAW,CAAC,GAAG,IAAI,GAAG,CAAC;aAC1B;YACD,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBAChC,WAAW,CAAC,GAAG,IAAI,GAAG,CAAC;iBAC1B;gBACD,WAAW,CAAC,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;aACpD;SACJ;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;KACvC,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC;;ACrDJ;AACA,AAGG,IAAC,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDvB,iBAAiB,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;;;;;;;IAO5C,SAAS,gBAAgB,CAAC,QAAQ,EAAE;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,KAAK,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAAQ,CAAC,EAAE;YACzD,MAAM,IAAI,KAAK,CAAC,kEAAkE,CAAC,CAAC;SACvF;QACD,IAAI,OAAO,GAAG;YACV,QAAQ,EAAE;gBACN,aAAa,EAAE,QAAQ;aAC1B;SACJ,CAAC;QACF,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QAC3C,OAAO,KAAK,CAAC;KAChB;IACD,OAAO,gBAAgB,CAAC;CAC3B,CAAC,iBAAiB,CAAC,CAAC;;AC1BrB,4DAA4D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}